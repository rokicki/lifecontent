window.LifeViewerLoaded||(window.LifeViewerLoaded=!0,function(){var v=null,h=null;window.performance||(window.performance={});window.performance.now||(window.performance.now=function(){return performance.now||performance.xP||performance.yP||performance.AP||performance.webkitNow||function(){return(new Date).getTime()}}());window.requestAnimationFrame||(window.requestAnimationFrame=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame);
window.cancelRequestAnimationFrame||(window.cancelRequestAnimationFrame=window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame);window.Uint8Array?window.typedArrays=!0:(window.typedArrays=!1,window.Uint8Array=Array);window.Uint8ClampedArray||(window.Uint8ClampedArray=window.Uint8Array);window.Uint16Array||(window.Uint16Array=Array);window.Uint32Array||(window.Uint32Array=Array);window.Int32Array||(window.Int32Array=
Array);window.Int16Array||(window.Int16Array=Array);window.Int8Array||(window.Int8Array=Array);window.Uint8ClampedArray||(window.Uint8ClampedArray=Array);window.Float32Array||(window.Float32Array=Array);window.Float64Array||(window.Float64Array=Array);window.Uint32Array.prototype.fill?window.arrayFill=!0:(window.arrayFill=!1,window.Uint32Array.prototype.fill=function(g,q,k){void 0===k&&(k=this.length);for(q=0;q<k;q+=1)this[q]=g});window.Uint16Array.prototype.fill||(window.Uint16Array.prototype.fill=
function(g,q,k){void 0===k&&(k=this.length);for(q=0;q<k;q+=1)this[q]=g});window.Uint8Array.prototype.fill||(window.Uint8Array.prototype.fill=function(g,q,k){void 0===k&&(k=this.length);for(q=0;q<k;q+=1)this[q]=g});window.Uint8ClampedArray.prototype.fill||(window.Uint8ClampedArray.prototype.fill=function(g,q,k){void 0===k&&(k=this.length);for(q=0;q<k;q+=1)this[q]=g});window.Int32Array.prototype.fill||(window.Int32Array.prototype.fill=function(g,q,k){void 0===k&&(k=this.length);for(q=0;q<k;q+=1)this[q]=
g});window.Int16Array.prototype.fill||(window.Int16Array.prototype.fill=function(g,q,k){void 0===k&&(k=this.length);for(q=0;q<k;q+=1)this[q]=g});window.Int8Array.prototype.fill||(window.Int8Array.prototype.fill=function(g,q,k){void 0===k&&(k=this.length);for(q=0;q<k;q+=1)this[q]=g});window.Float32Array.prototype.fill||(window.Float32Array.prototype.fill=function(g,q,k){void 0===k&&(k=this.length);for(q=0;q<k;q+=1)this[q]=g});window.Float64Array.prototype.fill||(window.Float64Array.prototype.fill=
function(g,q,k){void 0===k&&(k=this.length);for(q=0;q<k;q+=1)this[q]=g});window.Int32Array.prototype.slice?window.arraySlice=!0:(window.arraySlice=!1,window.Int32Array.prototype.slice=function(g,q){void 0===q&&(q=this.length);var k=q-g;var a=new Int32Array(k);for(q=0;q<k;q+=1)a[q]=this[g+q];return a});window.Int16Array.prototype.slice||(window.Int16Array.prototype.slice=function(g,q){void 0===q&&(q=this.length);var k=q-g;var a=new Int16Array(k);for(q=0;q<k;q+=1)a[q]=this[g+q];return a});window.Int8Array.prototype.slice||
(window.Int8Array.prototype.slice=function(g,q){void 0===q&&(q=this.length);var k=q-g;var a=new Int8Array(k);for(q=0;q<k;q+=1)a[q]=this[g+q];return a});window.Uint32Array.prototype.slice||(window.Uint32Array.prototype.slice=function(g,q){void 0===q&&(q=this.length);var k=q-g;var a=new Uint32Array(k);for(q=0;q<k;q+=1)a[q]=this[g+q];return a});window.Uint16Array.prototype.slice||(window.Uint16Array.prototype.slice=function(g,q){void 0===q&&(q=this.length);var k=q-g;var a=new Uint16Array(k);for(q=0;q<
k;q+=1)a[q]=this[g+q];return a});window.Uint8Array.prototype.slice||(window.Uint8Array.prototype.slice=function(g,q){void 0===q&&(q=this.length);var k=q-g;var a=new Uint8Array(k);for(q=0;q<k;q+=1)a[q]=this[g+q];return a});window.Uint8ClampedArray.prototype.slice||(window.Uint8ClampedArray.prototype.slice=function(g,q){void 0===q&&(q=this.length);var k=q-g;var a=new Uint8ClampedArray(k);for(q=0;q<k;q+=1)a[q]=this[g+q];return a});window.Float32Array.prototype.slice||(window.Float32Array.prototype.slice=
function(g,q){void 0===q&&(q=this.length);var k=q-g;var a=new Float32Array(k);for(q=0;q<k;q+=1)a[q]=this[g+q];return a});window.Float64Array.prototype.slice||(window.Float64Array.prototype.slice=function(g,q){void 0===q&&(q=this.length);var k=q-g;var a=new Float64Array(k);for(q=0;q<k;q+=1)a[q]=this[g+q];return a});h=new Uint32Array(1);h[0]=4660;v=new Uint8Array(h.buffer);window.littleEndian=52===v[0]?!0:!1;h.copyWithin?window.copyWithin=!0:(window.Uint32Array.prototype.copyWithin=function(g,q,k){var a=
!1;void 0===k&&(k=this.length);var b=k-q;if(q!==g)if((g>=q&&g<=k||g+b>=q&&g+b<=k)&&g>q&&(a=!0),a)for(k=b-1;0<=k;--k)this[g+k]=this[q+k];else for(k=0;k<b;k+=1)this[g+k]=this[q+k];return this},window.copyWithin=!1);window.registerEvent=function(g,q,k,a){g.addEventListener?g.addEventListener(q,k,a):g.attachEvent("on"+q,k)}}(),function(){function v(q,k,a){this.type=q;this.name=a;this.elements=k;this.size=k*g.Vq(q);this.tq=1}function h(){this.Rh=[];this.np=this.Ps=this.mp=this.Ns=0}var g={wy:8,xy:40,uy:9,
vy:10,hy:0,fy:1,gy:2,ay:18,by:19,Vq:function(q){return 1<<(q&7)},KO:function(q){var k=(0!==(q&16)?"Float":0!==(q&8)?"Uint":"Int")+8*(1<<(q&7));0!==(q&32)&&(k+="Clamped");return k}};h.prototype.mJ=function(q){var k="";0<=q&&q<this.Rh.length&&(q=this.Rh[q],k=g.KO(q.type)+"\t"+q.elements+"\t"+q.name+"\t"+q.tq);return k};h.prototype.wC=function(q,k,a){for(var b=0,d=!1,f;b<this.Rh.length&&!d;)f=this.Rh[b],a===f.name?(d=!0,this.Ps+=1,this.np+=f.elements*g.Vq(f.type)):b+=1;d?(this.Rh[b].type=q,this.Rh[b].elements=
k,this.Rh[b].tq+=1,this.Rh[b].size=k*g.Vq(q)):(b=this.Rh.length,this.Rh[b]=new v(q,k,a));this.Ns+=1;this.mp+=k*g.Vq(q)};h.prototype.KD=function(q,k,a,b,d){q=q.buffer;b*=g.Vq(k);switch(k){case g.wy:a=new Uint8Array(q,b,a);break;case g.xy:a=new Uint8Array(q,b,a);break;case g.uy:a=new Uint16Array(q,b,a);break;case g.vy:a=new Uint32Array(q,b,a);break;case g.hy:a=new Int8Array(q,b,a);break;case g.fy:a=new Int16Array(q,b,a);break;case g.gy:a=new Int32Array(q,b,a);break;case g.ay:a=new Float32Array(q,b,
a);break;case g.by:a=new Float64Array(q,b,a);break;default:a=null,alert("Illegal type specified to allocator.typedView for "+d+": "+k)}return a};h.prototype.B=function(q,k,a){switch(q){case g.wy:k=new Uint8Array(k);break;case g.xy:k=new Uint8Array(k);break;case g.uy:k=new Uint16Array(k);break;case g.vy:k=new Uint32Array(k);break;case g.hy:k=new Int8Array(k);break;case g.fy:k=new Int16Array(k);break;case g.gy:k=new Int32Array(k);break;case g.ay:k=new Float32Array(k);break;case g.by:k=new Float64Array(k);
break;default:k=null,alert("Illegal type specified to allocator.typedMemory for "+a+": "+q)}return k};h.prototype.R=function(q,k,a){var b=null;0<k&&(b=this.B(q,k,a));(b||0===k)&&this.wC(q,k,a);return b};h.prototype.lJ=function(q,k,a,b){var d=null;0<k&&(d=this.B(q,k,a));(d||0===k)&&this.wC(q,k*b,a);return d};Array.ka=function(q,k,a,b,d,f){var l=0,n=[];n.A=d;n.type=q;n.Wa=null;var p=d.R(q,k*a,f);n.Wa=p;if(0<a){for(;l<k;)n[l]=d.KD(p,q,a,l*a,f),l+=1;0!==b&&p.fill(b)}return n};Array.Ap=function(q,k){k=
q.A.lJ(q.type,q[0].length,k,q.length+1);q[q.length]=k};Array.Vh=function(q,k){k.Wa.set(q.Wa)};Array.Ad=function(q,k,a){var b,d=k.length,f=[],l=k.A,n=k[0].length/g.Vq(q);for(b=0;b<d;b+=1)f[b]=l.KD(k.Wa,q,n,b*n,a);return f};Array.LA=function(q,k,a){var b,d=q.length,f=q.A,l=q.type,n=q[0].length;for(b=0;b<d;b+=1)f.KD(q.Wa,l,n-k,b*n+k,a)};window.Allocator=h;window.Uint8=g.wy;window.Uint8Clamped=g.xy;window.Uint16=g.uy;window.Uint32=g.vy;window.Int8=g.hy;window.Int16=g.fy;window.Int32=g.gy;window.Float32=
g.ay;window.Float64=g.by}(),function(){window.AliasManager={Oc:[],CC:[],Ff:function(){var v,h;this.Oc=[];this.CC=[];var g=this.Oc;var q=this.CC;q.push("1D");g.push(["Wolfram 1D",""]);g.push(["Brownian motion","W54"]);g.push(["Fishing-net","W110"]);g.push(["Heavy triangles","W22"]);g.push(["Linear A","W90"]);g.push(["Linear B","W150"]);g.push(["Pascal's Triangle","W18"]);g.push(["Randomizer 1","W30"]);g.push(["Randomizer 2","W45"]);g.push(["Wolfram 22","W22"]);g.push(["Wolfram 30","W30"]);g.push(["Wolfram 110",
"W110"]);q.push("Margolus");g.push(["Margolus",""]);g.push(["BBM","M0,8,4,3,2,5,9,7,1,6,10,11,12,13,14,15"]);g.push(["BounceGas","M0,8,4,3,2,5,9,14,1,6,10,13,12,11,7,15"]);g.push(["BounceGasII","M0,8,4,12,2,10,9,7,1,6,5,11,3,13,14,15"]);g.push(["Critters","M15,14,13,3,11,5,6,1,7,9,10,2,12,4,8,0"]);g.push(["HPP_Gas","M0,8,4,12,2,10,9,14,1,6,5,13,3,11,7,15"]);g.push(["MargSingRot","M0,2,8,3,1,5,6,7,4,9,10,11,12,13,14,15"]);g.push(["Rotations","M0,2,8,12,1,10,9,11,4,6,5,14,3,7,13,15"]);g.push(["RotationsII",
"M0,2,8,12,1,10,9,13,4,6,5,7,3,14,11,15"]);g.push(["RotationsIII","M0,4,1,10,8,3,9,11,2,6,12,14,5,7,13,15"]);g.push(["RotationsIV","M0,4,1,12,8,10,6,14,2,9,5,13,3,11,7,15"]);g.push(["Sand","M0,4,8,12,4,12,12,13,8,12,12,14,12,13,14,15"]);g.push(["StringThing","M0,1,2,12,4,10,9,7,8,6,5,11,3,13,14,15"]);g.push(["StringThingII","M0,1,2,12,4,10,6,7,8,9,5,11,3,13,14,15"]);g.push(["SwapOnDiag","M0,8,4,12,2,10,6,14,1,9,5,13,3,11,7,15"]);g.push(["Tron","M15,1,2,3,4,5,6,7,8,9,10,11,12,13,14,0"]);q.push("PCA");
g.push(["PCA",""]);g.push(["Model_1","2PCA4,0,4,8,3,1,10,6,7,2,9,5,11,12,13,14,15"]);g.push(["Model_2","2PCA4,0,4,8,3,1,10,6,11,2,9,5,13,12,14,7,15"]);g.push(["PCA_1","2PCA4,0,4,8,3,1,10,6,7,2,9,5,11,12,13,14,15"]);g.push(["PCA_2","2PCA4,0,2,4,3,8,10,6,7,1,9,5,11,12,13,14,15"]);g.push(["PCA_3","2PCA4,0,8,1,3,2,5,6,7,4,9,10,11,12,13,14,15"]);g.push(["PCA_4","2PCA4,0,2,4,12,8,5,9,7,1,6,10,11,3,13,14,15"]);g.push(["PCA_5","2PCA4,0,4,8,3,1,10,6,11,2,9,5,13,12,14,7,15"]);g.push(["PCA_6","2PCA4,0,2,4,3,8,10,6,14,1,9,5,7,12,11,13,15"]);
g.push(["PCA_7","2PCA4,0,2,4,12,8,5,9,14,1,6,10,7,3,11,13,15"]);g.push(["PCA_8","2PCA4,0,2,4,12,8,10,9,14,1,6,5,7,3,11,13,15"]);g.push(["PCA_9","2PCA4,0,2,4,12,8,10,9,13,1,6,5,14,3,7,11,15"]);g.push(["PCA_10","2PCA4,0,1,2,3,4,5,6,13,8,9,10,14,12,7,11,15"]);g.push(["PCA_11","2PCA4,0,4,8,3,1,10,6,11,2,9,5,11,13,12,14,15"]);g.push(["PCA_12","2PCA4,0,4,2,3,14,6,11,5,8,7,9,13,10,12,1,15"]);q.push("OT vN");g.push(["Outer-Totalistic von Neumann",""]);g.push(["Fredkin2","B13/S024V"]);g.push(["Parity","B13/S13V"]);
q.push("OT Hex");g.push(["Outer-Totalistic Hex",""]);g.push(["HexParity","B135/S0246H"]);g.push(["Hexagonal Life","B2/S34H"]);g.push(["HighHexLife","B25/S34H"]);g.push(["Replicator Hex","B135/S135H"]);q.push("OT M");g.push(["Outer-Totalistic Moore",""]);g.push(["","B3/S23"]);g.push(["2x2","B36/S125"]);g.push(["2x2 2","B3678/S1258"]);g.push(["34 Life","B34/S34"]);g.push(["3-4 Life","B34/S34"]);g.push(["Amoeba","B357/S1358"]);g.push(["Anneal","B4678/S35678"]);g.push(["AntiLife","B0123478/S01234678"]);
g.push(["Assimilation","B345/S4567"]);g.push(["Bacteria","B34/S456"]);g.push(["Blinkers","B345/S2"]);g.push(["Bugs","B3567/S15678"]);g.push(["Castles","B3678/S135678"]);g.push(["Cheerios","B35678/S34567"]);g.push(["Christmas Life","B1/S012345678"]);g.push(["Coagulations","B378/S235678"]);g.push(["Conway's Game of Life","B3/S23"]);g.push(["Conway's Life","B3/S23"]);g.push(["Coral","B3/S45678"]);g.push(["Corrosion of Conformity","B3/S124"]);g.push(["Dance","B34/S35"]);g.push(["Day & Night","B3678/S34678"]);
g.push(["Day and Night","B3678/S34678"]);g.push(["Diamoeba","B35678/S5678"]);g.push(["DotLife","B3/S023"]);g.push(["DrighLife","B367/S23"]);g.push(["DryFlock","B37/S12"]);g.push(["DryLife","B37/S23"]);g.push(["DryLife without Death","B37/S012345678"]);g.push(["EightFlock","B3/S128"]);g.push(["EightLife","B3/S238"]);g.push(["Electrified Maze","B45/S12345"]);g.push(["Eppstein","B35/S236"]);g.push(["Feux","B1358/S0247"]);g.push(["Flakes","B3/S012345678"]);g.push(["Flock","B3/S12"]);g.push(["Forest of Ls",
"B168/S236"]);g.push(["Fredkin","B1357/S02468"]);g.push(["Fuzz","B1/S014567"]);g.push(["Gems Minor","B34578/S456"]);g.push(["Gems","B3457/S4568"]);g.push(["Geology","B3578/S24678"]);g.push(["Gnarl","B1/S1"]);g.push(["H-Trees","B1/S012345678"]);g.push(["HighFlock","B36/S12"]);g.push(["HighLife","B36/S23"]);g.push(["HighLife without Death","B36/S012345678"]);g.push(["Holstein","B35678/S4678"]);g.push(["HoneyFlock","B38/S128"]);g.push(["HoneyLife","B38/S238"]);g.push(["Iceballs","B25678/S5678"]);g.push(["InverseLife",
"B012345678/S34678"]);g.push(["Invertamaze","B028/S0124"]);g.push(["IronFlock","B36/S128"]);g.push(["IronLife","B36/S238"]);g.push(["Land Rush","B36/S234578"]);g.push(["Life SkyHigh","B368/S236"]);g.push(["Life without Death","B3/S012345678"]);g.push(["Life","B3/S23"]);g.push(["Live Free or Die","B2/S0"]);g.push(["Logarithmic replicator rule","B36/S245"]);g.push(["LongLife","B345/S5"]);g.push(["Long Life","B345/S5"]);g.push(["LowDeath without death","B368/S012345678"]);g.push(["LowDeath","B368/S238"]);
g.push(["LowFlockDeath","B368/S128"]);g.push(["LowLife","B3/S13"]);g.push(["Majority","B45678/S5678"]);g.push(["Maze","B3/S12345"]);g.push(["Maze with Mice","B37/S12345"]);g.push(["Mazectric","B3/S1234"]);g.push(["Mazectric with Mice","B37/S1234"]);g.push(["Morley","B368/S245"]);g.push(["Move","B368/S245"]);g.push(["Neon Blobs","B08/S4"]);g.push(["Never happy","B345/S0456"]);g.push(["Oscillators Rule","B45/S1235"]);g.push(["Pedestrian Flock","B38/S12"]);g.push(["Pedestrian Life","B38/S23"]);g.push(["Pedestrian Life without Death",
"B38/S012345678"]);g.push(["Persian Rug","B234/S"]);g.push(["Plow World","B378/S012345678"]);g.push(["Pseudo Life","B357/S238"]);g.push(["Pulsar Life","B3/S238"]);g.push(["Replicator","B1357/S1357"]);g.push(["Replicator 2","B1357/S02468"]);g.push(["Rings 'n' Slugs","B56/S14568"]);g.push(["Seeds","B2/S"]);g.push(["Serviettes","B234/S"]);g.push(["Shoots and Roots","B3/S245678"]);g.push(["Slow Blob","B367/S125678"]);g.push(["Snakeskin","B1/S134567"]);g.push(["Solid islands grow amongst static","B12678/S15678"]);
g.push(["SnowLife","B3/S1237"]);g.push(["Stains","B3678/S235678"]);g.push(["Star Trek","B3/S0248"]);g.push(["Virus","B36/S235"]);g.push(["Vote","B5678/S45678"]);g.push(["Vote 4/5","B4678/S35678"]);g.push(["Walled Cities","B45678/S2345"]);q.push("OT Tri");g.push(["Outer-Totalistic Triangular",""]);g.push(["Life 2333","B3/S23L"]);g.push(["Life 2345","B45/S23L"]);g.push(["Life 2346","B456/S23L"]);g.push(["Life 3445","B45/S34L"]);g.push(["Life 3446","B456/S34L"]);g.push(["Life 4546","B456/S45L"]);g.push(["Life 4644",
"B4/S456L"]);g.push(["Rule 1246","B456/S12L"]);g.push(["Rule 3544","B4/S345L"]);q.push("OT M G");g.push(["Outer-Totalistic Generations Moore",""]);g.push(["9:43 at Knight","237/34578/4"]);g.push(["Banners","2367/3457/5"]);g.push(["BelZhab","23/23/8"]);g.push(["BelZhab Sediment","145678/23/8"]);g.push(["Bloomerang","234/34678/24"]);g.push(["Bombers","345/24/25"]);g.push(["Brain 5","/2/5"]);g.push(["Brain 6","6/246/3"]);g.push(["Brian's Brain","/2/3"]);g.push(["Burst","0235678/3468/9"]);g.push(["BurstII",
"235678/3468/9"]);g.push(["Caterpillars","124567/378/4"]);g.push(["Chenille","05678/24567/6"]);g.push(["Circuit Genesis","2345/1234/8"]);g.push(["Constellations","/23/3"]);g.push(["Cooties","23/2/8"]);g.push(["Diamonds and Spaceships","34578/257/16"]);g.push(["Ebb&Flow","012478/36/18"]);g.push(["Ebb&Flow II","012468/37/18"]);g.push(["Faders","2/2/25"]);g.push(["Fireballs","346/2/4"]);g.push(["Fireworks","2/13/21"]);g.push(["Flaming Starbows","347/23/8"]);g.push(["Free Star","0345/2/10"]);g.push(["Frogs",
"12/34/3"]);g.push(["Frozen spirals","356/23/6"]);g.push(["GeneroLife","2356/3567/4"]);g.push(["Glisserati","035678/245678/7"]);g.push(["Glissergy","035678/245678/5"]);g.push(["Lava","12345/45678/8"]);g.push(["Lines","012345/458/3"]);g.push(["LivingOn TheEdge","345/3/6"]);g.push(["Meteor Guns","01245678/3/8"]);g.push(["Nova","45678/2478/25"]);g.push(["OrthoGo","3/2/4"]);g.push(["Prairie on fire","345/34/6"]);g.push(["RainZha","2/23/8"]);g.push(["Rake","3467/2678/6"]);g.push(["SediMental","45678/25678/4"]);
g.push(["Snake","03467/25/6"]);g.push(["SoftFreeze","13458/38/6"]);g.push(["Spirals","2/234/5"]);g.push(["Star Wars","345/2/4"]);g.push(["Sticks","3456/2/6"]);g.push(["Swirl","23/34/8"]);g.push(["Tadpoles","0125678/345678/64"]);g.push(["ThrillGrill","1234/34/48"]);g.push(["Transers","345/26/5"]);g.push(["TransersII","0345/26/6"]);g.push(["Transers 2","0345/26/6"]);g.push(["Transers 3","0345/26/7"]);g.push(["Wallplicators","345/25678/7"]);g.push(["Wanderers","345/34678/5"]);g.push(["Worms","3467/25/6"]);
g.push(["Xtasy","1456/2356/16"]);q.push("INT Hex");g.push(["Isotropic Non-Totalistic Hex",""]);g.push(["Hex Life","B2o3m56/S2-p4oH"]);g.push(["22da","B2/S2-mH"]);g.push(["Hexrule b2o","B2o/S2m34H"]);q.push("INT M");g.push(["Isotropic Non-Totalistic Moore",""]);g.push(["15Life","B34r/S23-q4et"]);g.push(["104life","B34ky5cy/S23-a4ity6c7"]);g.push(["22k","B2-k/S2-k"]);g.push(["2diagonal","B2n3/S23"]);g.push(["2xpand2","B3/S123eik4ce"]);g.push(["3x3","B35cky68/S0245-c6n"]);g.push(["38life","B35y/S2-n35k6ci"]);
g.push(["4diagonal","B34c/S23"]);g.push(["4life","B34jy/S23"]);g.push(["4life2","B34j/S23"]);g.push(["57life","B34tyz5cy/S23-a4it5ej"]);g.push(["acnelife","B34/S2eik3"]);g.push(["aLife","B3/S234iw"]);g.push(["Arcane Circuitry","B2ci3aikr/S1e2-a3i"]);g.push(["Arrow","B3-jkn4a/S1e2-a3ijnry4n"]);g.push(["Artillery","B3-y7/S2-i3-c4kqt"]);g.push(["Atomic","B2ei3i/S1c2-n3jr4an5i6c"]);g.push(["ATPP","B3-ckq4z/S2-c3-a4iq5k6k"]);g.push(["B - ibis","B2n34cyz6n8/S2-n3-a4cq68"]);g.push(["Banks-I","B3e4ejr5cinqy6-ei78/S012-e3-ajk4-akqw5-ajk6-e78"]);
g.push(["Banks-III","B2ce3e4jr5cin6-en7c8/S012-ac3-cn4-eikny5-kr67c8"]);g.push(["Beaecsizae","B34ce/S12-a3"]);g.push(["Ben's rule","B2-ak3einqy4e/S1c2ak3inqy4e"]);g.push(["Best Friends","B2ce3aiy/S12aei3r"]);g.push(["Bgunlife","B34eny5e/S23-a4iy5e6c"]);g.push(["Billiard","B36-e/S12345"]);g.push(["Blasts","B2e3airy4kt5jr6c8/S02ace3eiknr4-aj5-cei6-a78"]);g.push(["BlinkBlink","B35ky/S234y"]);g.push(["Blocks for Days","B2-ae3-cij4a5aj6e7e8/S01e2ai3ar4ar5air6ae7c8"]);g.push(["blockandglider","B3/S234cw7c"]);
g.push(["Blockship","B3-cer4ceqwz5acek6in78/S2-in3-eq4eqwyz5eikn678"]);g.push(["BoatLife","B3-knqy/S2-n3-ey4akwy5aik6kn"]);g.push(["boatLife","B3ainqy4aeq5ejn8/S2-in3-aek4aciq5ae6-c7c8"]);g.push(["bpuff","B3/S23-cky4k7e8"]);g.push(["Breps","B34cqy5c/S23-y4y"]);g.push(["Breps-2","B3aeijn4n8/S234iqz"]);g.push(["Bricks","B2ak5c/S2cn3inqy4aikqtwz5inqy"]);g.push(["Bubbles","B3ai4-a/S23"]);g.push(["Butterfly","B2i34e6i7c/S2-i36n"]);g.push(["butterflyb7","B2i34e6i7/S2-i36n"]);g.push(["Buzz","B2i35-n/S2-ci36k8"]);
g.push(["CapLife","B36c/S23"]);g.push(["CarrierLife","B2e3aceik/S23"]);g.push(["Cataverters","B3-cen/S234eijkrw5cry6ik"]);g.push(["cb2","B2ae4i/S1e2in"]);g.push(["cetlife","B34cet/S234jkwyz"]);g.push(["Clouds","B2e3aceij/S23-a4"]);g.push(["Cloudsdale","B2kn3-ekqr4i5eq6n8/S23-aeny4cikqr5ek6ace7c"]);g.push(["CommonRepl","B3/S23-ac4eiy6"]);g.push(["Conquerors and Colonizers","B2ace3acei4ace5acei6ace/S"]);g.push(["Conway++","B3/S234c"]);g.push(["Conway+-1","B3/S23-inqy4aikqtwz"]);g.push(["Conway+-2",
"B3/S2-ak34aikqtwz5inqy"]);g.push(["Conway--","B3/S2-ei3"]);g.push(["crawl","B37e/S2-i34y8"]);g.push(["Creperie","B2ikn3aijn/S23-ckqy"]);g.push(["CrossLife","B3/S234et"]);g.push(["Crylife","B2n3-cry4kn6i7c/S23-a4i6c"]);g.push(["DenseLife","B3-q4y/S234z"]);g.push(["Diamoeral","B2n3ai4a78/S35678"]);g.push(["Diamonds","B2en3ij4a5e7e8/S1c2cek3-a4aiqw5aky"]);g.push(["DirtyLife","B3-cky5aq6ci7c/S23-ck4n6k7e"]);g.push(["DLife","B3-n/S23"]);g.push(["dolife","B2-ak3acei4ceqz5y/S234ce5ceky78"]);g.push(["dolife2",
"B2-a3acei4ceqz5y/S234ce5ceky78"]);g.push(["Dominoplex","B2cen3ek4ejkwz5-ein6an7e8/S12an3-eijq4enrty5e6k"]);g.push(["Dry15Life","B34r7/S23-q4et"]);g.push(["DryGoats","B2in37/S123a"]);g.push(["Dustclouds01","B2ce3-ai/S01"]);g.push(["EasyHighLife","B36-i/S23"]);g.push(["Eatsplosion","B2n3-ekqy4c5e/S2-cn3-eky4aij5e"]);g.push(["Eatsplosion IV","B2n3-q4aqz6n8/S2-in3-q4iz7c8"]);g.push(["EightGoats","B2in3/S123a8"]);g.push(["Einstein","B2ein3cijn4cnrwy5cnq6e/S1c2-ai3acny4anqy5c6ek8"]);g.push(["ElectrumLife",
"B367c/S2-i34q"]);g.push(["Emitters","B2i3ai4cei5c6c7/S2-ae3acein4-t5-aq6cei7c8"]);g.push(["Extension","B2cei3-ijnr4-a6i/S12-cn"]);g.push(["fakePiShipLife","B3-ck4e5k6i/S2-in35i6c8"]);g.push(["FalseB5","B35ce/S234jqtyz6k8"]);g.push(["Frespa","B34ck5/S23aceik4aci"]);g.push(["FattyLife","B3-n4nt5qr6i/S23"]);g.push(["FishLife","B3-ekqr4nt5r6i/S02-c3"]);g.push(["FlashLife","B2kn3-n4e/S23"]);g.push(["Flowflakes","B2-ac3acei4ey6n8/S02-n3-nqy4cekyz5ei6k7e"]);g.push(["Flutter","B2-a3j4-acekn56/S15y"]);g.push(["Flying Life",
"B3-k5r/S236n7e"]);g.push(["FogLife","B35eq7/S2-i34q"]);g.push(["Forestfire","B3ai4ekq5cy6n/S2-ci3-ace4inr5eqry"]);g.push(["FrogLife","B36i/S1c23-acek5k6i8"]);g.push(["Fruitflies","B2-an4jn7e8/S12-k4r"]);g.push(["Fuzey","B2-ae3aej4ez/S03ac4aikqryz78"]);g.push(["GemLife","B34c6/S23-q"]);g.push(["Gentle relative","B2cen3ek4jkw5-aein6a7e/S12an3-eijq4enrty5e6k"]);g.push(["GlideLife","B34ek5ak/S2-c34z"]);g.push(["GlideLife2","B34ek5ak/S2-c34iz5y"]);g.push(["GliderGlut","B2k3aijn4ak5y6k/S2ae3ajnr4aiw"]);
g.push(["GliderRROLife","B2e3einy4ak5ijq7c/S1c2-ai3-ceky4ejny5ceqr6ak"]);g.push(["glife","B3/S237c"]);g.push(["Glimmering Garden","B3-jknr4ity5ijk6i8/S23-a4city6c7c"]);g.push(["GMO snowflakes","B34c6n/S2-n3-ck4cijqtwy5y6n"]);g.push(["Goat Flock","B2in3/S123a"]);g.push(["Goats","B2in3/S123a"]);g.push(["Goldilocks I","B2ek3cei4acjr5c8/S02ack3kn4aen"]);g.push(["gp","B2ei3-a4ce5y6i/S234i7e"]);g.push(["Growflakes","B2-ac3acei4ey6n8/S02-n3-nqy4cekyz5ei6k"]);g.push(["guntlife","B35j6a/S2-i34q"]);g.push(["Half as Interesting",
"B2ce3i/S23"]);g.push(["hassl8life","B34k5e7c/S23-a4iyz"]);g.push(["hatlife","B35y/S23"]);g.push(["Hats and Shuttles","B34iqwy/S23-cq"]);g.push(["hedgehog","B3/S1c2-a35r6i"]);g.push(["HeptaFish","B3-e4i5i/S234e"]);g.push(["High15Life","B34r6/S23-q4et"]);g.push(["HighGoats","B2in36/S123a"]);g.push(["Hive","B3-ry4ckn/S2-in3-cjn4it5aiky6-a7e8"]);g.push(["hlife","B3/S234ce6k"]);g.push(["hlife2","B3/S2-in34nr"]);g.push(["hlife3","B3/S2-in34iw"]);g.push(["HoneyGoats","B2in38/S123a8"]);g.push(["HouseLife",
"B2i3/S23-r"]);g.push(["Hype","B2-ac3aei4ae6i8/S23-ejq8"]);g.push(["IceNine","B3aeiy4ae5i68/S2-in3-kqr4artz5aeny6-e78"]);g.push(["ilife","B3/S235i"]);g.push(["Immortalife","B3-cqy4j/S2-n34i"]);g.push(["IneticLife","B2-an3-k/S2ac"]);g.push(["IronGoats","B2in36/S123a8"]);g.push(["Ising","B3e4ejr5cinqy6-ei78/S2ei3aejkr4-cny5-e678"]);g.push(["Just Friends","B2-a/S12"]);g.push(["Kgdm","B3/S2-c3-en4ceitz"]);g.push(["KineticLife","B2-an3/S2ac"]);g.push(["klife","B34n/S23"]);g.push(["Knyght","B2e3/S23-jq"]);
g.push(["ktlife","B3/S2-i34nq"]);g.push(["LambdaLife","B3-k/S2-i3-k4cen"]);g.push(["Leaplized D&N","B2n3678/S3-q4678"]);g.push(["LifeWithoutGliders","B35n/S23"]);g.push(["Linea","B2-a3-i/S23-a"]);g.push(["LispLife","B2n3/S23-q4e8"]);g.push(["LoafLife","B2n3-q/S23"]);g.push(["longlast","B3/S234ce8"]);g.push(["lotsofdots","B2ikn34e/S023-a4ce"]);g.push(["MaritimeLife","B2i34c6cen7c8/S2-i3-q4c5a6e8"]);g.push(["maze2","B3/S234-acew"]);g.push(["Migrating Bookends","B2ein3inry/S12-n3ce"]);g.push(["MilkyLife",
"B3-c4c5y8/S234qy5y8"]);g.push(["Mooselife","B34kz5e7c/S23-a4ityz5k"]);g.push(["move_rep","B3-r4e5e6-n/S23cr457e"]);g.push(["Movero VIII","B2-a5k6n7c/S12-i3ij4k5j8"]);g.push(["MoveIt","B368/S23cy45-j6n"]);g.push(["movetub","B34e68/S245"]);g.push(["movev","B35y68/S245"]);g.push(["Movostill","B2i3acijk6i/S23-a4"]);g.push(["Movostill 2","B3acijk/S23-a4"]);g.push(["Movostill 3","B2e3aceij5-ijr/S23-a4"]);g.push(["MuddyLife","B3/S234k"]);g.push(["Nah","B345-a6/S2-a3-a4-a"]);g.push(["nonlife","B3-n/S234iz"]);
g.push(["notlife","B3-q7c/S2-i3-q4q"]);g.push(["notlife (Wright)","B2k3-k/S23-a"]);g.push(["Notlife / Ace","B2-a3/S2ce"]);g.push(["Niemiec's Rule 0","B3/S2ae3aeijr4-cknqy"]);g.push(["olife","B2in3/S2-in3"]);g.push(["Omosso","B2k3acijr4ijqy6i7c/S2aek3ijnqr4it5n"]);g.push(["Orthogonable","B2e3aiknr4q/S1c2-in3aijry4a"]);g.push(["Particles","B2ce3i/S1c2cek"]);g.push(["Patchworks","B2-an3aiy/S2-in3cijky4-nqrz5k"]);g.push(["Pedestrian Goats","B2in38/S123a"]);g.push(["Pentadecathlife","B34e5y6cn8/S234c5e"]);
g.push(["Photics I","B2ae4c678/S01e4aeqrtw5678"]);g.push(["Photics II","B2ae4cw5y6i/S01e2i4q"]);g.push(["Pi replicator life","B3-r4z5y/S238"]);g.push(["Pi-plicator","B3-ckq/S2-c34ci"]);g.push(["PiLife","B37e/S23"]);g.push(["Pilife2","B34c/S234y8"]);g.push(["plasma1","B012-in3-cky4ar5cjnr6ae/S05aijnr6n"]);g.push(["plife","B35j/S2-i3"]);g.push(["plife2","B35j6i/S2-i3"]);g.push(["PondLife","B36i/S2-i35i"]);g.push(["PortLife","B34cz5y/S234y8"]);g.push(["pre-X-rule","B2cei3ci4jnr5ikn/S12-ck4einqy5er6aei8"]);
g.push(["Prismatika Crystallios","B2ae3r/S1e"]);g.push(["PlasmaLife","B34-air/S234-air"]);g.push(["Puffers","B3-nqr6/S235-nqr"]);g.push(["PuffLife","B34-i5-a6-a/S2-an34-akrw"]);g.push(["qlife","B3-q/S23"]);g.push(["quadraticlife","B34j/S23"]);g.push(["Quasilinear Collisions","B2-ak3-jnqr/S15678"]);g.push(["Rakelife","B3aij/S2-i3ajnr4arz56-a7e"]);g.push(["Rainflakes","B2-ac3aei4ey5n6n8/S02-n3aceir4ceyz5e6k"]);g.push(["RBeeLife","B34cijkq5k6i8/S2-n3-ik4cjqt5y6cin8"]);g.push(["replife","B34jy6n/S2-i3"]);
g.push(["reptlife","B36-k/S2-i34q"]);g.push(["ResistantLife","B34eknqyz/S23"]);g.push(["Ribbons","B3-nqr/S23"]);g.push(["RotoBlocks","B34cyz5y8/S234y5y6n8"]);g.push(["RotoDotPuffers","B2ikn3-ejnr/S01c2cei3ay4c"]);g.push(["RotoHooks","B34ckyz/S234cz"]);g.push(["rgun","B34t/S2-i35a7e"]);g.push(["Rule X3VI","B2c3aei4ajnr5acn/S2-ci3-ck4in5jkq6c7c"]);g.push(["RustyLife","B34-ai/S24-air5-a"]);g.push(["Salad","B2i34c/S2-i3"]);g.push(["Sanctuary","B2ei3ci/S1c23"]);g.push(["sansdomino","B2-a/S014"]);g.push(["Savanna",
"B2e3aeiy4ce5i6c7e/S2-n3-a4artz5aeny6cn"]);g.push(["Scenery","B3-cnry4-acery5i/S23-a4-jknqr5y8"]);g.push(["SharkLife","B34aeiz/S2-ak34ant6cek"]);g.push(["signalife","B3aeijy5e6i/S2-c3-a4iq5k6ck"]);g.push(["SilverLife","B367/S2-i34q"]);g.push(["SimpleInverseFire","B2-ak4568/S156ak78"]);g.push(["Simple Life","B2k34c/S2-c34z8"]);g.push(["SLHassleLife","B3-y5cr/S234w6n"]);g.push(["SlugWorld","B2e3ai4arw5678/S3-an4ar5i678"]);g.push(["SolarWorld","B2ce3ci4iyz5ce6c/S12ce3ae"]);g.push(["SmokingLife","B2i34cj6a7c8/S2-i3-a4ceit6in"]);
g.push(["Smorgasbord","B2e3aijr4q/S1c23-a5"]);g.push(["snotlife","B2k3-kn/S23"]);g.push(["Snowflakes","B2ci3ai4c8/S02ae3eijkq4iz5ar6i7e"]);g.push(["Snowflakes 2","B2ci3ai4c8/S02ae3eijkq4aiz5ar6i7e"]);g.push(["SparkLife","B36i/S234j"]);g.push(["SparklingLife","B34cqy/S234q"]);g.push(["SparseMethuseLife","B35y/S1e2-ci3-a5i"]);g.push(["StairWorld","B2-a3i4aijk/S2a3-i4"]);g.push(["Stars","B2e3-ceny4einqwz5-cikr6cei/S1c2e3aijky4aceijrz5-cejk6-ak7c8"]);g.push(["Suns","B2ei3aeij4cjt5ky6ei/S1c2ace3jkn4aeijktw5ekry6in7e"]);
g.push(["Switches","B2ei3ij4ajnr6ci/S12ce3ajn4qtz5ijnqy6c"]);g.push(["Symmetristic","B2-ak3-jnqr4ceiqtwz5-jnqr6-ak/S2-ak3-jnqr4ceiqtwz5-jnqr6-ak"]);g.push(["t4life","B34jy/S2-i3"]);g.push(["TableLife","B3/S23-ai4anq6n"]);g.push(["TauLife","B3-nr/S2-i34-aij"]);g.push(["tceclife","B36ce7c/S2-i34q"]);g.push(["tDryFlock","B37/S12-i4q"]);g.push(["tDryLife","B37/S2-i34q"]);g.push(["TearfulLife","B34e5c6n/S23-q"]);g.push(["tEightLife","B3/S2-i34q8"]);g.push(["testlife","B36a/S23"]);g.push(["tflock","B3/S12-i4q"]);
g.push(["tHighFlock","B36/S12-i4q"]);g.push(["tHighLife","B36/S2-i34q"]);g.push(["ThisLife","B36i/S23-ce5q"]);g.push(["tlife","B3/S2-i34q"]);g.push(["tosc","B3/S234wz"]);g.push(["tosc2","B36in/S234cw"]);g.push(["tPedestrianFlock","B38/S12-i4q"]);g.push(["tPedestrianLife","B38/S2-i34q"]);g.push(["tq6","B2i34e/S023-a4ce"]);g.push(["Traffic Flow","B2e3aciy4jnw68/S23678"]);g.push(["Train","B34t6k8/S2-i35a7e"]);g.push(["Trilobites","B3aijn4w5nq/S2ae3aijr4irz5y"]);g.push(["triship","B2a3e/S012-ai3-i45-i678"]);
g.push(["Trycogene","B2ce3aijn/S2ak3-aijn4jkqty5cekr6ce8"]);g.push(["Turro","B2-a3c/S12-i"]);g.push(["Two-dots rule 1","B2ei3ci4aerw5acky6i8/S012-an3eiknq4qrty5aeik6ik8"]);g.push(["Two-dots rule 2","B2-ak3aen4cenrtw5iq6e/S02ac3aenqy4ejqtwy5ak6acn7"]);g.push(["Twinkles","B2in34-a/S1e2ekn34ent"]);g.push(["Virus_v2","B3-nqr6/S235"]);g.push(["Wartlife","B3aijnq6n/S2-cn3-ceky4i"]);g.push(["WetLife","B34r/S23"]);g.push(["Whichlife","B2in3aeijn/S234e"]);g.push(["Wild Seas","B2c3-cekq4ikt5i8/S2-in3-acky4aijry5eiky6i"]);
g.push(["wlife","B34w/S23"]);g.push(["Worms 0","B01c2n5a/S3a5i"]);g.push(["Writers","B2-a3-inqr4c6/S23"]);g.push(["WSScentral","B3-n45qr6i/S2eik3"]);g.push(["X-rule-pre","B2cei3ci4jnr5ikn/S12aen3c4einqy5er6aei8"]);g.push(["xtdbee","B3-k/S23"]);g.push(["xvaLifeg","B2e3/S23"]);g.push(["Ylife","B2e3ai4ar/S23-a4a"]);g.push(["ylife (BokaBB)","B34y5y/S234y5y"]);g.push(["zigzag","B3/S2-k34q"]);g.push(["ZombieLife","B3-nqy4aqz5cn6n8/S2-i3-a4inqz7c8"]);q.push("INT M G");g.push(["Isotropic Non-Totalistic Generations Moore",
""]);g.push(["HTech","234e/2e3/3"]);g.push(["Jellyfish","2ak34-a5-i/2c36k7/4"]);g.push(["KST","1234-i5anq6kn/3r4kr5eiq6ack7e/3"]);g.push(["Simple Brain","234e/e3/3"]);g.push(["Sliders","012-e3-ae4acnqyz5acer6acn78/3j4-eikq5c/3"]);g.push(["tGeneC1WC0","2-i34q/2c34w5c/4"]);q.push("LtL M");g.push(["Larger than Life Moore",""]);g.push(["Balloons","R2,C2,M1,S7..10,B7..11,NM"]);g.push(["Bosco's Rule","R5,C2,M1,S34..58,B34..45,NM"]);g.push(["Bosco Analogue","R5,C2,M1,S34..53,B31..42,NM"]);g.push(["Bugs R3",
"R3,C2,M1,S14..23,B14..18,NM"]);g.push(["Bugs R4","R4,C2,M1,S23..39,B23..30,NM"]);g.push(["Bugs R6","R6,C2,M1,S47..81,B47..63,NM"]);g.push(["Bugs R6 variant","R6,C2,M1,S47..81,B47..71,NM"]);g.push(["Bugs R7","R7,C2,M1,S63..108,B63..84,NM"]);g.push(["Bugs R9","R9,C2,M1,S101..173,B101..134,NM"]);g.push(["Bugs R10","R10,C2,M1,S124..211,B124..164,NM"]);g.push(["Bugs R10 variant","R10,C2,M1,S124..211,B124..166,NM"]);g.push(["Bugs R12","R12,C2,M1,S175..300,B175..232,NM"]);g.push(["Bugs R13","R13,C2,M1,S205..349,B205..271,NM"]);
g.push(["Bugs R14","R14,C2,M1,S236..403,B236..313,NM"]);g.push(["Bugs R15","R15,C2,M1,S269..461,B270..357,NM"]);g.push(["Bugs R100 variant","R100,C2,M1,S11303..19361,B11100..14996,NM"]);g.push(["Bugsmovie","R10,C2,M1,S123..212,B123..170,NM"]);g.push(["Globe","R8,C2,M1,S164..224,B74..252,NM"]);g.push(["Majorly","R7,C2,M1,S113..225,B113..224,NM"]);g.push(["Mini Bugs","R2,C2,M1,S7..10,B7..8,NM"]);g.push(["Miniature Bugs","R3,C2,M1,S15..22,B14..25,NM"]);g.push(["Pigs","R2,C2,M1,S10..19,B4..4,NM"]);g.push(["Quadratic Bugs",
"R6,C2,M1,S47..81,B47..61,NM"]);g.push(["Rasta Bugs","R5,C2,M1,S41..59,B32..50,NM"]);g.push(["Smudge","R2,C2,M1,S7..11,B8..8,NM"]);g.push(["Stones","R5,C2,M1,S29..58,B38..61,NM"]);g.push(["Soldier Bugs","R7,C2,M1,S65..114,B65..95,NM"]);g.push(["Suicidal Bugs","R5,C2,M1,S37..59,B33..49,NM"]);g.push(["Waffle","R7,C2,M1,S100..200,B75..170,NM"]);g.push(["Waving human intestines","R20,C2,M1,S1..21,B1..5,NM"]);q.push("LtL M G");g.push(["Generations Larger than Life Moore",""]);g.push(["Fire rule","R5,C6,M1,S31..43,B15..25,NM"]);
g.push(["Fire whirl","R8,C6,M1,S46..91,B65..100,NM"]);g.push(["ModernArt","R10,C255,M1,S2..3,B3..3,NM"]);q.push("HROT vN");g.push(["Higher-Range Outer-Totalistic von Neumann",""]);g.push(["Fredkin2 R2","R2,C2,S0,2,4,6,8,10,12,B1,3,5,7,9,11,NN"]);g.push(["Parity R2","R2,C2,S1,3,5,7,9,11,B1,3,5,7,9,11,NN"]);q.push("HROT M");g.push(["Higher-Range Outer-Totalistic Moore",""]);g.push(["Fredkin R2","R2,C2,S0,2,4,6,8,10,12,14,16,18,20,22,24,B1,3,5,7,9,11,13,15,17,19,21,23"]);g.push(["Fredkin R3","R3,C2,S0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,B1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47"]);
g.push(["Fredkin R4","R4,C2,S0,2,4,6,8,10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,50,52,54,56,58,60,62,64,66,68,70,72,74,76,78,80,B1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47,49,51,53,55,57,59,61,63,65,67,69,71,73,75,77,79"]);g.push(["Replicator R2","R2,C2,S1,3,5,7,9,11,13,15,17,19,21,23,B1,3,5,7,9,11,13,15,17,19,21,23"]);g.push(["Replicator R3","R3,C2,S1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47,B1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47"]);
g.push(["Replicator R4","R4,C2,S1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47,49,51,53,55,57,59,61,63,65,67,69,71,73,75,77,79,B1,3,5,7,9,11,13,15,17,19,21,23,25,27,29,31,33,35,37,39,41,43,45,47,49,51,53,55,57,59,61,63,65,67,69,71,73,75,77,79"]);q.push("MAP NINT");g.push(["MAP Non-Isotropic",""]);g.push(["2CellSlug","MAPBTDe/yAA9/8AAP//AAD//yAA/78AAP//AID//wAA//8AAP//AAD/2wAA//8AgP//AAD//4AA//+AAH//AAD//w"]);g.push(["BLAHTWOCELLGUN","MAPAMB/vwAA//8AAP//AAD//wAA//8AAP//AAD//wAA//8AAP//AAD//wAA//8AAP//AAD//wAA//8AAP//AAD//w"]);
g.push(["FoxLife","MAPARYXfhZofugWaH7oaIFoxBZofuhogOiAaIFoxIAAgAAWaH7oaIFoxGiA6ICAAIAAaIFoxIAAgACAAIAAAAAAAA"]);g.push(["MovingStrings","MAPARH+/wMT//8BEf7/AxP//wER/v8DE///AREAAAMTAAABEf7/AxP//wER/v8DE///AREAAAMTAAABEQAAAxMAAA"]);g.push(["MuzikThing","MAPACD//wAA3/8AgH//AAD//wCAf/8AAP//AAD//wAA//8AAH//AAD//wAA//8AAP//gAD//wAA//8AAP//AAD//w"]);g.push(["MyEntry","MAPIAD/7wgA/f8AAP//AAD//wAA//8AAP//AAD/fwAA//8AAP//AAD//wAA//8AAP//AAD//4AA//8AAP//AAD//w"]);g.push(["OLife","MAPABD/vgIB//8AAP//AAD//wAA/78AAN3/AJB/vwAAf/8AAP//AABd/wAA//8AAP//AAD//4IA//8AAP//AIB//w"]);
g.push(["Rhufo","MAPARH//wMA//8AAP9/AAD//wAA//8AAP9/AAD//wAA//8AAP//AAB//wAA//8AAP//AAD//wAA//8AAH9/AAB//w"]);g.push(["Rhufo2","MAPARH//wMA//8AAH9/AAD//wAAX/8AAP9/AAB/7wAA//8AAH//AAB//wAA//8AAP//AAB//wAA/f8AAH8/AAB3/w"]);g.push(["SemiFelineLife","MAPARYXfhZofugWaH7oaIDogBZofuhogOiAaIDogIAAgAAWaH7oaICatGiA6ICAAIAAaICatIAAgACAAIAAAAAAAA"]);g.push(["Simple_Weird_Ships","MAPABHs/wMA//8AAP//AAD//wAA/38AAP//AAD//wAA//8AAP//gAD//wAA//8AAP//AAD//wAA//8AAP//AAD//w"]);g.push(["Socrates","MAPARYXfhZofugWaH7oaIDogBZofuhogOiAaIDogIAAgAAWaH7oaIDogGiA6ICAAIAAaIDogIAAg00IAmSocrateg"]);
q.push("Weighted");g.push(["Weighted",""]);g.push(["Ben's rule","R1,C2,S3,5,8,B4,6,8,NW323202323"]);g.push(["Border","R1,C2,S10-16,B1-8,NW010101010901010101"]);g.push(["Bricks","R1,C3,S10,12,14,16,B7,13,NW525202525"]);g.push(["Bustle","R1,C4,S2,4-5,7,B3,NW212101212"]);g.push(["Career","R1,C2,S2-3,B3,NW121101111"]);g.push(["Cloud54","R1,C2,S2-3,9-10,19,27,B3,10,27,NW010109010009010909"]);g.push(["Cloud75","R1,C2,S2-4,10-11,13,18,21-22,27,29-31,36-40,B3,10,27,NW010109010009010909"]);g.push(["Conway",
"R1,C2,S2-3,6-7,10-11,15,B3,7,11,15,NW515101515"]);g.push(["Conway--","R1,C2,S3,6-7,10-11,15,B3,7,11,15,NW515101515"]);g.push(["Conway++","R1,C2,S2-3,6-7,10-11,15,20,B3,7,11,15,NW515101515"]);g.push(["Conway+-1","R1,C2,S2-3,6-7,10,12,15,B3,7,11,15,NW515101515"]);g.push(["Conway+-2","R1,C2,S2-3,7,10-13,15,B3,7,11,15,NW515101515"]);g.push(["CrossPorpoises","R1,C2,S2-3,6-10,12-13,B5,NW141404140"]);g.push(["Cyclish","R1,C7,S2,B1-3,NW010101010"]);g.push(["Cyclones","R1,C5,S2,4-5,B2-5,NW110101011"]);g.push(["Dragon",
"R1,C2,S1-2,7-8,12,15,18,20,B7,11-13,20,NW515101515"]);g.push(["Emergence","R1,C2,S2-4,10-11,16-17,24-25,B3-4,9,24,NW010801010001080801"]);g.push(["Fire-flies","R1,C9,S1,10,B6,11-12,21,NW010501050a05010501"]);g.push(["Fleas","R1,C2,S2-3,6-7,10-11,15,20,B2,11,NW515101515"]);g.push(["Fleas2","R1,C2,S1-2,5,7,10-11,B2,4,8,11,NW515101515"]);g.push(["NoFleas2","R1,C2,S2-3,5-7,10-11,B2,4,8,11,NW515101515"]);g.push(["FroggyHex","R1,C2,S1,6,8,B5-6,NW410104041H"]);g.push(["Frost M","R1,C25,S,B1,NW111101111"]);
g.push(["Frost N","R1,C25,S,B1,NW010101010"]);g.push(["Gnats","R1,C2,S0-2,11,19,B11,19,NW090109010001090109"]);g.push(["HexParity","R1,C2,S0,2,4,6,B1,3,5,NW110101011H"]);g.push(["Hextenders","R1,C10,S1,3-5,B2-3,NW110101011H"]);g.push(["Hex Inverse Fire","R1,C2,S2-3,6-9,11-15,B5,10-11,14-15,NW410104041H"]);g.push(["HGlass","R1,C2,S1-3,11,21,25,29-31,B1-3,11,21,25,29-31,NW000200080110000400"]);g.push(["Hogs","R1,C2,S2-4,6,B5-6,NW023302230H"]);g.push(["Jitters","R1,C2,S4,14,B1,4,9,NW995505599"]);g.push(["Lemmings",
"R1,C2,S3-6,B4,NW121202131"]);g.push(["Linguini","R1,C2,S2-4,9-11,19-20,B11,18,NW090109010001090109"]);g.push(["Madness","R1,C2,S8,10,12,14,B5,8,13,NW232303232"]);g.push(["MazeMakers","R1,C2,S2-3,6-10,12-13,B5,NW441404141"]);g.push(["MidgeDN","R1,C9,S0,2-3,B4-6,NW222101212"]);g.push(["Midges","R1,C4,S3,5-6,B4-6,NW121232121"]);g.push(["MikesAnts","R1,C2,S4-5,B2,5-6,NW011100111"]);g.push(["Mosquito","R1,C2,S3-4,8-9,B2-3,9,NW995505599"]);g.push(["Mosquito2","R1,C2,S3-4,8-9,B3,6,9,18,NW995505599"]);g.push(["Navaho1",
"R1,C12,S8-9,11,B2,5,NW414575414"]);g.push(["Nocturne","R1,C4,S1,6,B2-4,NW110101011"]);g.push(["Parity","R1,C2,S1,3,5,B1,3,5,NW010111010"]);g.push(["Pictures","R1,C2,S1-3,B2-4,NW010101010"]);g.push(["PicturesH","R1,C9,S1-3,B2-4,NW010101010"]);g.push(["Pinwheels","R1,C7,S2,B2-3,NW110101011"]);g.push(["PipeFleas","R1,C3,S3-4,7,11-15,17-18,20,22-23,B6,10,NW515101515"]);g.push(["PreHogs","R1,C2,S3-4,6,B5-6,NW230302023"]);g.push(["PuttPutt","R1,C2,S1-4,9,18,27,36,40,B2,4,11,18-19,36,40,NW090109010001090109"]);
g.push(["SEmigration","R1,C2,S2-3,6-7,10-12,B7,11-12,16,NW515100505"]);g.push(["Simple","R1,C2,S1,5,B2,10,NW515101515"]);g.push(["Simple Inverse","R1,C2,S1,4-5,8-9,12-13,16-24,B2,9-10,13-14,17-18,21-22,24,NW515101515"]);g.push(["Simple Inverse Fire","R1,C2,S1,5,9,13,17-19,21,23-24,B2,4,8-10,12-14,16-18,20-22,24,NW515101515"]);g.push(["Stampede","R1,C8,S4,6,9-10,B4,7,NW130303130"]);g.push(["Starburst","R1,C2,S2,4,6,B4,NW121202121"]);g.push(["Starbursts2","R1,C2,S2,4-6,B4,NW121202121"]);g.push(["Stream",
"R1,C2,S1,3-4,7-11,B5,7-8,10-11,NW010104041"]);g.push(["UpDown1","R1,C2,S2,4-6,9,12,16,20,B3,6,9,12,NW111404444"]);g.push(["UpDown2","R1,C2,S2-3,7,10-12,15,B3,7,11,15,NW151101555"]);g.push(["Upstream","R1,C10,S4,6,9-10,B4,7,NW130404130"]);g.push(["Vineyard","R1,C2,S2,6,8-10,12-13,B5,NW141404040"]);g.push(["Vineyard2","R1,C2,S2,8-10,12-13,B5,NW141404040"]);g.push(["Weevils","R1,C2,S1-4,B5-6,14,NW331101133"]);g.push(["Weighted Brain","R1,C3,S3-4,7,B4-5,8,NW3323d3232"]);g.push(["Y_Chromosome","R1,C3,S2,B2,NW110101011"]);
q.push("Weighted G");g.push(["Weighted Generations",""]);g.push(["WG Rule004","R1,C4,S6-11,B4,NW111101111,0201"]);g.push(["WG Rule012","R1,C6,S4-5,B5,NW111101111,021111"]);g.push(["WG Rule020","R1,C6,S5-8,B5,NW111101111,020301"]);g.push(["WG Rule031","R1,C4,S5-7,B4,NW111101111,0210"]);g.push(["WG Rule038","R1,C5,S8,B6,9,NW111101111,03210"]);g.push(["WG Rule050","R1,C8,S4-8,B6,NW111101111,02120300"]);g.push(["WG Rule063","R1,C5,S6-7,9-11,B7,10,NW212101212,03101"]);g.push(["WG Rule071","R1,C6,S8-16,B6,NW111101111,031012"]);
g.push(["WG Rule072","R1,C6,S8-16,B6,NW111101111,030112"]);g.push(["WG Rule074","R1,C5,S4-8,B3,NW111101111,02001"]);g.push(["WG Rule084","R1,C7,S5-6,B5,NW212101212,0121001"]);q.push("Alt OT M");g.push(["Alternating Outer-Totalistic Moore",""]);g.push(["alternlife","B13/S012345678|B/S15"]);g.push(["comb395","B3/S1237|B2/S"]);g.push(["comb625","B3/S348|B2/S356"]);g.push(["Dotlesslife","B3/S23|B/S12345678"]);g.push(["Fizzler","B13/S3|B/S345678"]);g.push(["Jelly","B3/S135|B2/S5"]);g.push(["Phoenix","B24/S|B35/S"]);
q.push("Alt INT M");g.push(["Alternating Non-Totalistic Moore",""]);g.push(["SparklessLife","B3/S23|B/S1c2345678"]);g.push(["Unidim1","B134578/S02345678|B6i7/S268"]);g.push(["Unidim2","B12ci34578/S02345678|B7/S268"]);g.push(["Unidim3","B12ci34578/S02345678|B6i7/S268"]);this.Oc[0][2]=!1;this.Oc[0][3]=!1;for(v=1;v<this.Oc.length;v+=1)for(g=this.Oc[v][1],q=this.Oc[v][0],this.Oc[v][2]=!1,this.Oc[v][3]=!1,h=0;h<v;h+=1)this.Oc[h][0]===q&&(this.Oc[h][3]=!0,this.Oc[v][3]=!0),this.Oc[h][1]===g&&(this.Oc[h][2]=
!0,this.Oc[v][2]=!0)},Vz:function(v){var h=null,g=0;for(v=v.replace(/&amp;/g,"&");g<this.Oc.length&&null===h;)""!==this.Oc[g][1]&&this.Oc[g][0]===v&&(h=this.Oc[g][1]),g+=1;if(!h)for(v=v.toLowerCase(),g=0;g<this.Oc.length&&null===h;)""!==this.Oc[g][1]&&this.Oc[g][0].toLowerCase()===v&&(h=this.Oc[g][1]),g+=1;return h},Vr:function(v){for(var h=null,g=0;g<this.Oc.length&&null===h;)""!==this.Oc[g][1]&&this.Oc[g][1]===v&&(h=this.Oc[g][0]),g+=1;"Conway's Life"===h&&(h="Life");return h}}}(),function(){function v(d,
f,l,n,p){this.j=p;this.Ka=d;this.ab=f;this.Fb=l;this.message="";this.da=d;this.na=f;this.zb=l;this.Pk="";this.T=this.G=!1;this.context=n;this.gb=!1;this.Ba=this.startTime=0;this.hh="rgb(32,255,255)";this.hH="white";this.B=0;this.animate=!1;this.dc=this.ec="black";this.enabled=!1;this.scale=1}function h(d,f,l,n){this.name=d;this.width=f;this.height=l;this.tq=n}function g(d,f){this.context=f;this.T=d;this.height=this.width=0;this.Ba=this.na=this.G=this.B=null;this.da=[];this.ax=!0;this.jC=-1;this.wF=
0;this.Ff=!1;this.scale=1}function q(d,f,l,n,p,r,w,u,y,z,x,B,c,m,e,t,A,C,D,E){this.id=d;this.G=E;this.F="";this.Em=-1;this.m=this.Uv=!1;this.Tb=f;this.caller=l;this.icon=D;this.x=p;this.y=r;this.Sk=p;this.B=r;this.position=n;this.width=w;this.height=u;this.bx=w;this.$C=u;this.border=m;this.type=B;c===b.Ry?this.orientation=w>=u?b.mf:b.vertical:this.orientation=c;this.Ht=this.orientation;this.lower=y;this.upper=z;B===b.Oo?this.current=[x,x]:this.current=x;this.RD=e;this.Za=t;this.XB=A;this.fixed=C;
this.gw=!1;this.GA=this.FA=-1;this.textAlign=b.CE;this.enabled=!0;this.Jo=this.locked=!1;this.Zf=[];if(this.type===b.list)for(d=0;d<y.length;d+=1)this.Zf[d]=!1;this.Lt=[];this.Cw=0;this.LL=!1;this.Jd=E.Jd;this.oe=E.oe;if(B===b.list)for(this.Rn=[],d=0;d<y.length;d+=1)this.Rn[d]=this.Jd;this.Cf=E.Cf;this.Qg=E.Qg;this.Ni=E.Ni;this.Cl=E.Cl;this.pn=E.pn;this.Yo=E.Yo;this.nh=E.nh;this.Gk=E.Gk;this.Bi=E.Bi;this.ml=E.ml;this.border=E.border;this.fontSize=parseInt(E.sl.substr(0,E.sl.indexOf("px")),10);this.fontFamily=
E.sl.substr(E.sl.indexOf("px")+3)}function k(d,f,l,n,p,r){this.C=d;this.context=p;this.Ih=this.Ye=1;this.sl=r;this.locked=this.m=!1;this.Wg=this.If=-1;this.Un=this.Tc=!1;this.na=this.da=-1;this.Ka=6;this.Tb=f;this.ve=[];this.Vc=0;this.Jd="";this.oe=0;this.Cf="";this.Qg=0;this.Ni="";this.Cl=0;this.pn="";this.Yo=0;this.nh="";this.Gk=0;this.Bi="";this.border=this.ml=0;this.G=b.Ry;this.Tm=this.kl=-1;this.fo=this.cE=null;this.Bu=l;this.caller=n;this.Z=null;this.mz=this.dv=this.T="auto"}function a(d,f,
l,n,p,r){var w=this,u=0;this.Of=1;this.Ma=60;this.kA=this.YB=!0;this.ab=this.gb=40;this.IO=50;this.dk=0;this.da=this.na=this.Ka=-1;this.Ko=!1;this.caller=p;this.ck=this.wb=this.Gl=this.Zc=!1;this.Ve=4;this.nF=r;this.hasFocus=this.vr=!1;this.qr=!0;this.Kx=!1;this.Ln=1;this.tv=8;this.Jd="black";this.oe=.7;this.Cf="white";this.Qg=1;this.Ni="rgb(0,240,32)";this.Cl=.7;this.pn="blue";this.Yo=.7;this.nh="grey";this.Gk=1;this.Bi="rgb(32,255,255)";this.border=this.ml=1;this.BE=function(y){return function(){y.uc(y)}}(this);
this.Z=n;this.Rc=d;this.Jc=f;this.Tc=!1;this.Mj=this.Lj=-1;this.Bk=!1;this.Xh=-1;this.Pc=null;this.sl=l;this.rn=this.Yk=!1;this.hw=performance.now();this.Go=5;this.Kt=0;this.DA=[];this.JA=[];this.wo=[];for(u=0;5>u;u+=1)this.DA[u]=0,this.JA[u]=0,this.wo[u]=0;this.Gs=null;this.hg=!1;this.notification=new v(25,100,25,f,this);this.EA=performance.now();this.Un=this.PD=!1;this.T=[];this.B=this.G=0;registerEvent(d,"mousedown",function(y){w.zb(w,y)},!1);registerEvent(d,"mousemove",function(y){w.Fb(w,y)},
!1);registerEvent(d,"mouseup",function(y){w.ec(w,y)},!1);registerEvent(d,"mouseover",function(y){w.dc(w,y)},!1);registerEvent(d,"mouseout",function(y){w.Lb(w,y)},!1);registerEvent(d,"touchstart",function(y){w.Ba(w,y)},!1);registerEvent(d,"touchmove",function(y){w.Ba(w,y)},!1);registerEvent(d,"touchend",function(y){w.Ba(w,y)},!1);registerEvent(d,"touchcancel",function(y){w.Ba(w,y)},!1)}v.prototype.eo=function(){var d=!1;if(""!==this.message||""!==this.Pk)d=!0;return d};v.prototype.clear=function(d,
f){d?""!==this.Pk&&(f||this.T?(this.Pk="",this.T=!1):(this.Ba=performance.now()-(this.da+this.na),this.T=!0)):""!==this.message&&(f||this.G?(this.G=!1,this.message=""):(this.startTime=performance.now()-(this.Ka+this.ab),this.G=!0))};v.prototype.notify=function(d,f,l,n,p){this.enabled&&(p?this.Pk!==d&&(this.Pk=d,this.da=16*f,this.na=16*l,this.zb=16*n,this.Ba=performance.now(),this.T=!1,this.B=0,this.animate=!1):(this.message=d,this.Ka=16*f,this.ab=16*l,this.Fb=16*n,this.startTime=performance.now(),
this.G=!1))};v.prototype.uo=function(d,f,l){var n=this.context.measureText(d).width>>1;if(this.gb){this.context.fillStyle=this.dc;var p=this.context.globalAlpha;this.context.globalAlpha=.5*p;this.context.fillRect(-n-20,-l,2*n+40,2*l);this.context.globalAlpha=p}this.context.fillStyle=this.ec;this.context.fillText(d,-n+2,2);f?this.animate?(this.context.fillStyle=128>this.B?"rgb("+2*this.B+","+2*this.B+",255)":"rgb("+2*(256-this.B)+","+2*(256-this.B)+",255)",this.B=this.B+4&255):this.context.fillStyle=
this.hH:this.context.fillStyle=this.hh;this.context.fillText(d,-n,0)};v.prototype.Lb=function(d,f,l,n,p,r,w){var u=30*this.scale,y=32*this.scale,z=this.j.Ve,x=60*this.scale,B=!0;this.j.Zc?(x=0,r=this.context.canvas.height/2,this.gb=!0):this.gb=!1;""!==d&&(B=!1,p=performance.now()-p,this.context.save(),this.j.wb&&(w?(x=0,r=this.context.canvas.height/2):(u/=z,y=y/z|0,r=r/z|0,x=x/z|0)),this.context.font=(u|0)+"px Arial",this.context.translate(this.context.canvas.width/2-1,x+r),p<=f?(r=p/f,r*=r,this.context.globalAlpha=
r,this.context.scale(r,r)):p>f+l&&p<=f+l+n&&(r=(n-(p-(f+l)))/n,r*=r,this.context.globalAlpha=r,this.context.scale(r,r)),p>f+l+n?B=!0:(f=d.indexOf("\\n"),-1===f?this.uo(d,w,y):(this.uo(d.substr(0,f),w,y),this.context.translate(0,y),this.uo(d.substr(f+2),w,y))),this.context.restore());return B};v.prototype.update=function(){var d=this.j.Pc.Ih;this.Lb(this.message,this.Ka,this.ab,this.Fb,this.startTime,81*d,!1)&&(this.message="");this.j.wb&&"Expand"!==this.Pk&&"Launch"!==this.Pk||!this.Lb(this.Pk,this.da,
this.na,this.zb,this.Ba,45*d,!0)||(this.Pk="")};g.prototype.jO=function(d){this.scale=d};g.prototype.uo=function(d,f,l,n){var p;if(0<this.T.width){this.Ff||(this.width=this.T.width,this.height=this.T.height,this.B=document.createElement("canvas"),this.B.width=this.width,this.B.height=this.height,this.G=this.B.getContext("2d"),this.na=new Image,this.Ba=new Image);if(this.ax){this.G.drawImage(this.T,0,0);var r=this.G.getImageData(0,0,this.B.width,this.B.height);var w=new Uint32Array(r.data.buffer);
for(p=0;p<w.length;p+=1)4294967295===w[p]&&(w[p]=this.wF);this.G.putImageData(r,0,0);this.Ba.src=this.B.toDataURL("image/png");this.G.drawImage(this.T,0,0);r=this.G.getImageData(0,0,this.B.width,this.B.height);w=new Uint32Array(r.data.buffer);for(p=0;p<w.length;p+=1)4294967295===w[p]&&(w[p]=this.jC);this.G.putImageData(r,0,0);this.Ff=this.ax=!1}this.Ff||(this.na.src=this.B.toDataURL("image/png"),this.Ff=!0);1!==this.scale&&(this.context.save(),this.context.translate(f,l),this.context.scale(this.scale,
this.scale),this.context.imageSmoothingEnabled=!0,l=f=0);n?this.context.drawImage(this.Ba,d.tq*d.width,0,d.width,d.height,f,l,d.width,d.height):this.context.drawImage(this.na,d.tq*d.width,0,d.width,d.height,f,l,d.width,d.height);1!==this.scale&&(this.context.restore(),this.context.imageSmoothingEnabled=!1)}};g.prototype.length=function(){return this.da.length};g.prototype.icon=function(d){var f,l=this.da,n=this.length(),p=null;for(f=0;f<n&&!p;)l[f].name===d?p=l[f]:f+=1;return p};g.prototype.add=function(d,
f,l){var n=this.da.length;d=new h(d,f,l,n);this.da[n]=d};var b={Ry:0,mf:1,vertical:2,Oo:0,button:1,toggle:2,yg:3,list:4,label:5,un:0,Ya:1,left:0,CE:1,right:2,qa:0,xc:1,Av:2,fb:3,ap:4,Yj:5,gE:6,bd:7,pb:8};q.prototype.mg=function(d){!this.m&&d&&(this.m=!0)};q.prototype.eb=function(d){this.fontSize=parseInt(d.substr(0,d.indexOf("px")),10);this.fontFamily=d.substr(d.indexOf("px")+3)};q.prototype.wt=function(d,f,l,n,p,r){this.Cf=d;this.Jd=f;this.Ni=l;this.pn=n;this.nh=p;this.Bi=r;if(this.type===b.list)for(this.Rn=
[],d=0;d<this.lower.length;d+=1)this.Rn[d]=this.Jd};q.prototype.Vi=function(d){this.bx=d};q.prototype.eO=function(d){this.$C=d};q.prototype.Wk=function(d){this.Sk=d};q.prototype.UI=function(d){this.B=d};q.prototype.setPosition=function(d,f,l){this.position=d;this.Sk=f;this.B=l};q.prototype.zJ=function(d,f){var l=this.G.Ye,n=this.G.Ih,p=this.Sk*l,r=this.B*n;l=this.bx*l;n=this.$C*n;this.x=p;this.y=r;this.width=l;this.height=n;switch(this.position){case b.qa:this.x=(d-l>>1)+p;break;case b.xc:this.x=
d+p;break;case b.Av:this.y=(f-n>>1)+r;this.x=d+p;break;case b.fb:this.x=d+p;this.y=f+r;break;case b.ap:this.x=(d-l>>1)+p;this.y=f+r;break;case b.Yj:this.y=f+r;break;case b.gE:this.y=(f-n>>1)+r;break;case b.pb:this.x=(d-l>>1)+p,this.y=(f-n>>1)+r}};q.prototype.nE=function(d,f){var l=this.Cw;this.Lt[l]=[d,f];this.Cw=l+1};q.prototype.Cu=function(d){var f=[],l;var n=d.length;for(l=0;l<n;l+=1)d[l].nE(this,!0);n=f.length;for(l=0;l<n;l+=1)f[l].nE(this,!1)};q.prototype.qM=function(d,f){var l=!1;this.enabled&&
d>=this.x&&d<this.x+this.width&&f>=this.y&&f<this.y+this.height&&(l=!0);return l};k.prototype.HN=function(d){this.Ih=this.Ye=d;this.C.notification.scale=d};k.prototype.wt=function(d,f,l,n,p,r){var w;this.Cf=d;this.Jd=f;this.Ni=l;this.nh=p;this.Bi=r;for(w=0;w<this.ve.length;w+=1)this.ve[w].wt(d,f,l,n,p,r)};k.prototype.Ba=function(d,f){var l=!1,n=d.Cw;d.type===b.list&&d.upper===b.Ya?l=d.current[0]:l=d.current===d.upper;d.LL&&(l=!l);if(l&&f)for(f=0;f<n;f+=1)l=l&&this.Ba(d.Lt[f][0],d.Lt[f][1]);return l};
k.prototype.VH=function(d){var f,l=d.Cw;var n=!0;for(f=0;f<l;f+=1)n=n&&this.Ba(d.Lt[f][0],d.Lt[f][1]);d.enabled=n};k.prototype.Ff=function(){var d;for(d=0;d<this.Vc;d+=1){var f=this.ve[d];f.enabled=!0;switch(f.type){case b.toggle:f.Tb&&(f.current=f.Tb(f.current===f.upper,!1,this.caller)?f.upper:f.lower);break;case b.Oo:f.Tb&&(f.current=f.Tb(f.current,!1,this.caller));break;case b.list:f.Tb&&(f.current=f.Tb(f.current,!1,this.caller))}this.VH(f)}};k.prototype.sb=function(d,f,l,n,p,r,w,u,y){this.ve[this.Vc]=
new q(this.Vc,d,this.caller,f,l,n,p,r,w,y,u,b.list,this.G,this.border,!0,"","",-1,[],this);this.Vc+=1;return this.ve[this.Vc-1]};k.prototype.pk=function(d,f,l,n,p,r,w,u,y,z,x,B){this.ve[this.Vc]=new q(this.Vc,d,this.caller,f,l,n,p,r,w,u,y,b.Oo,this.G,this.border,!0,z,x,B,null,this);this.Vc+=1;return this.ve[this.Vc-1]};k.prototype.Ia=function(d,f,l,n,p,r){this.ve[this.Vc]=new q(this.Vc,null,null,d,f,l,n,p,0,0,0,b.label,this.G,this.border,!0,r,"",-1,null,this);this.Vc+=1;return this.ve[this.Vc-1]};
k.prototype.Ea=function(d,f,l,n,p,r){this.ve[this.Vc]=new q(this.Vc,d,this.caller,f,l,n,p,40,0,0,0,b.button,this.G,this.border,!0,r,"",-1,null,this);this.Vc+=1;return this.ve[this.Vc-1]};k.prototype.eJ=function(){this.ve[this.Vc]=new q(this.Vc,null,null,Menu.Yj,0,-40,100,40,0,100,0,b.yg,this.G,this.border,!1,"","",0,null,this);this.Vc+=1;return this.ve[this.Vc-1]};k.prototype.B=function(d,f,l){var n;d+=String();if(""!==d){this.context.save();this.context.translate(f.x+f.width/2,f.y+f.height/2);this.context.font=
(f.fontSize*this.Ye|0)+"px "+f.fontFamily;f.Ht===b.vertical&&this.context.rotate(.5*Math.PI);var p=this.context.measureText(d).width;var r=f.Ht===b.vertical?f.height:f.width;if(p>=r-6){if(n=d.length){do{--n;var w=d.substr(0,n)+"...";p=this.context.measureText(w).width}while(1<n&&p>=r-6)}d=w}switch(f.textAlign){case b.left:var u=f.width/2-2;break;case b.CE:u=p/2;break;case b.right:u=p/2-(f.width-p)/2+4}this.context.fillStyle=f.Jd;l&&this.context.fillRect(2-u,2,p,2);this.context.fillText(d,2-u+.5,2.5);
this.context.fillStyle=!f.locked&&!this.locked||f.Jo?f.Cf:f.nh;this.context.fillText(d,-u+.5,.5);l&&this.context.fillRect(-u,0,p,2);this.context.restore()}};k.prototype.zb=function(d){this.context.globalAlpha=this.Qg;this.B(d.Za,d,!1)};k.prototype.ab=function(d){this.context.globalAlpha=this.Qg;this.B(d.Za,d,!1)};k.prototype.Lb=function(d){var f=(d.current-d.lower)/(d.upper-d.lower);this.context.globalAlpha=d.oe;this.context.fillStyle=d.Cf;d.orientation===b.mf?(f*=d.width-3,this.context.fillRect(d.x+
(f+1|0),d.y,1,d.height)):(f*=d.height-3,this.context.fillRect(d.x,d.y+(f+1|0),d.width,1));f=d.Za;d.RD&&(f=-1!==d.fixed?f+d.current.toFixed(d.fixed):f+d.current,f+=d.XB);""!==f&&(this.context.globalAlpha=d.Qg,this.B(f,d,!1))};k.prototype.dc=function(d,f){var l=(d.current[0]-d.lower)/(d.upper-d.lower);var n=this.Ka;d.orientation===b.mf?(l*=d.width-3,l=l+1|0,f&&(this.context.fillStyle=d.Ni,this.context.globalAlpha=d.Cl,this.context.fillRect(d.x+l-n,d.y,n,d.height),this.context.fillRect(d.x+l+1,d.y,n,
d.height)),!d.locked&&!this.locked||d.Jo?(this.context.fillStyle=d.Cf,this.context.globalAlpha=d.Qg):(this.context.fillStyle=d.nh,this.context.globalAlpha=d.Gk),this.context.fillRect(d.x+l,d.y,1,d.height)):(l*=d.height-3,l=l+1|0,f&&(this.context.fillStyle=d.Ni,this.context.globalAlpha=d.Cl,this.context.fillRect(d.x,d.y+l-n,d.width,n),this.context.fillRect(d.x,d.y+l+1,d.width,n)),!d.locked&&!this.locked||d.Jo?(this.context.fillStyle=d.Cf,this.context.globalAlpha=d.Qg):(this.context.fillStyle=d.nh,
this.context.globalAlpha=d.Gk),this.context.fillRect(d.x,d.y+l,d.width,1));f=d.Za;d.RD&&(f=0<=d.fixed?f+d.current[1].toFixed(d.fixed):f+d.current[1]);f+=d.XB;""!==f&&(this.context.globalAlpha=this.Qg,this.B(f,d,!1))};k.prototype.ec=function(d){this.context.globalAlpha=this.Qg;var f="-"===d.lower&&""===d.upper&&d.current===d.lower;var l=d.Za;d.RD&&!f&&(l+=d.current);l+=d.XB;this.B(l,d,f)};k.prototype.Fb=function(d,f){var l=d.x;var n=d.y;var p=d.width;var r=d.height;var w=d.orientation;var u=d.current;
var y=d.lower;var z=y.length;var x=d.orientation===b.mf?p/z:r/z;this.context.globalAlpha=d.Yo;this.context.fillStyle=d.pn;if(d.upper===b.un){var B=d.current;0<=B&&B<z&&(d.orientation===b.mf?this.context.fillRect(l+B*x+1,n+1,x-2,r-2):this.context.fillRect(l+1,n+1+B*x,p-2,x-2))}else if(d.orientation===b.mf)for(B=0;B<z;B+=1)u[B]&&this.context.fillRect(l+B*x+1,n+1,x-2,r-2);else for(B=0;B<z;B+=1)u[B]&&this.context.fillRect(l+1,n+1+B*x,p-2,x-2);d.Uv=!1;f?(this.context.globalAlpha=d.Cl,this.context.fillStyle=
d.Ni,d.orientation===b.mf?(B=(this.If-l)/p*z|0,0<=B&&B<z&&(d.Zf[B]?d.Uv=!0:this.context.fillRect(l+B*x+.5,n+.5,x-1,r-1))):(B=(this.Wg-n)/r*z|0,0<=B&&B<z&&(d.Zf[B]?d.Uv=!0:this.context.fillRect(l+.5,n+.5+B*x,p-1,x-1))),d.Em=B):d.Em=-1;this.context.globalAlpha=this.Qg;if(d.orientation===b.mf)for(B=0;B<z;B+=1)d.icon[B]&&this.Z.uo(d.icon[B],d.x+x*B,d.y,this.locked||d.locked||d.Zf[B]);else for(B=0;B<z;B+=1)d.icon[B]&&this.Z.uo(d.icon[B],d.x,d.y+x*B,this.locked||d.locked||d.Zf[B]);this.context.globalAlpha=
d.Qg;this.context.fillStyle=d.Cf;if(w===b.mf)for(B=0;B<z;B+=1)l=y[B],""!==l&&(this.context.save(),this.context.translate((.5+(B-z/2))*x,0),this.B(l,d,!1),this.context.restore());else for(B=0;B<z;B+=1)l=y[B],""!==l&&(this.context.save(),this.context.translate(0,(.5+(B-z/2))*x),this.B(l,d,!1),this.context.restore())};k.prototype.gb=function(d,f,l,n,p){var r=!0;f&&!this.Tc&&p&&(r=!1);r&&(l===n||-1===n&&f)&&(d.type===b.button||d.type===b.toggle)?(this.context.fillStyle=d.Ni,this.context.globalAlpha=d.Cl):
(this.context.fillStyle=d.Jd,this.context.globalAlpha=d.oe);switch(d.type){case b.yg:p=(d.current-d.lower)/(d.upper-d.lower);this.context.fillStyle=d.pn;this.context.globalAlpha=d.Yo;d.orientation===b.mf?(p*=d.width-3,p=p+1|0,this.context.fillRect(d.x,d.y,p,d.height),this.context.fillStyle=d.Jd,this.context.globalAlpha=d.oe,this.context.fillRect(d.x+p,d.y,d.width-p,d.height)):(p*=d.height-3,p=p+1|0,this.context.fillRect(d.x,d.y,d.width,p),this.context.fillStyle=d.Jd,this.context.fillRect(d.x,d.y+
p,d.width,d.height-p));break;case b.Oo:p=(d.current[0]-d.lower)/(d.upper-d.lower);if(r&&(l===n||-1===n&&f)){var w=this.Ka;if(d.orientation===b.mf){p*=d.width-3;p=p+1|0;var u=p-w;0<u&&this.context.fillRect(d.x,d.y,u,d.height);u=1+p+w;u<d.width&&this.context.fillRect(d.x+u,d.y,d.width-u,d.height)}else p*=d.height-3,p=p+1|0,u=p-w,0<u&&this.context.fillRect(d.x,d.y,d.width,u),u=1+p+w,u<d.height&&this.context.fillRect(d.x,d.y+u,d.width,d.height-u)}else this.context.fillRect(d.x,d.y,d.width,d.height);break;
case b.list:w=d.lower.length;if(d.orientation===b.mf)for(u=d.width/w,p=0;p<w;p+=1)this.context.fillStyle=d.Rn[p],this.context.fillRect(d.x+p*u+1,d.y+1,u-2,d.height-2);else for(u=d.height/w,p=0;p<w;p+=1)this.context.fillStyle=d.Rn[p],this.context.fillRect(d.x+1,d.y+1+p*u,d.width-2,u-2);break;default:this.context.fillRect(d.x,d.y,d.width,d.height)}d.type!==b.list&&d.icon&&(this.context.globalAlpha=d.Qg,this.Z.uo(d.icon,d.x,d.y,this.locked||d.locked));if(0<d.border)switch(!d.locked&&!this.locked||d.Jo?
(this.context.strokeStyle=d.Bi,this.context.globalAlpha=d.ml):(this.context.strokeStyle=d.nh,this.context.globalAlpha=d.Gk),this.context.lineWidth=d.border,d.type){case b.label:break;case b.list:w=d.lower.length;if(d.orientation===b.mf)for(u=d.width/w,p=0;p<w;p+=1)this.locked||d.locked||d.Zf[p]?(this.context.strokeStyle=d.nh,this.context.globalAlpha=d.Gk):(this.context.strokeStyle=d.Bi,this.context.globalAlpha=d.ml),this.context.strokeRect(d.x+.5+p*u,d.y+.5,u-1,d.height-1);else for(u=d.height/w,p=
0;p<w;p+=1)this.locked||d.locked||d.Zf[p]?(this.context.strokeStyle=d.nh,this.context.globalAlpha=d.Gk):(this.context.strokeStyle=d.Bi,this.context.globalAlpha=d.ml),this.context.strokeRect(d.x+.5,d.y+.5+p*u,d.width-1,u-1);break;default:this.context.strokeRect(d.x+.5,d.y+.5,d.width-1,d.height-1)}switch(d.type){case b.button:this.ab(d);break;case b.label:this.zb(d);break;case b.Oo:this.dc(d,r&&(l===n||-1===n&&f));break;case b.toggle:this.ec(d);break;case b.yg:this.Lb(d);break;case b.list:this.Fb(d,
r&&(l===n||-1===n&&f))}if(l===n)switch(d.type){case b.Oo:r=this.Wg,d.orientation===b.vertical?(r<d.y?r=d.y:r>d.y+d.height-1&&(r=d.y+d.height-1),p=(r-d.y)/(d.height-1)*(d.upper-d.lower)+d.lower):(r=this.If,r<d.x?r=d.x:r>d.x+d.width-1&&(r=d.x+d.width-1),p=(r-d.x)/(d.width-1)*(d.upper-d.lower)+d.lower),d.lower<d.upper?(p<d.lower&&(p=d.lower),p>d.upper&&(p=d.upper)):(p<d.upper&&(p=d.upper),p>d.lower&&(p=d.lower)),d.current[0]=p,d.Tb&&(d.current=d.Tb(d.current,!0,d.caller))}if(f&&!this.Tc&&d.gw)switch(d.type){case b.button:d.Tb&&
d.Tb(d.caller);break;case b.toggle:d.current=d.current===d.upper?d.lower:d.upper;d.Tb&&d.Tb(d.current===d.upper,!0,d.caller);break;case b.list:w=d.lower.length,u=d.orientation===b.mf?(this.If-d.x)/d.width*w|0:(this.Wg-d.y)/d.height*w|0,d.upper===b.un?d.Zf[u]||(d.Tb?d.current=d.Tb(u,!0,d.caller):d.current=u):d.Zf[u]||(d.current[u]=!d.current[u],d.Tb&&d.Tb(d.current,!0,d.caller))}f&&l===n?(d.gw=this.Tc,d.FA=this.If,d.GA=this.Wg):(d.gw=!1,d.FA=-1,d.GA=-1)};k.prototype.wu=function(d){this.T=d};k.prototype.Kz=
function(){var d,f=!1,l=this.context.canvas.width,n=this.context.canvas.height,p=-1;var r=!1;this.Tm=-1;if(this.m)this.Tc?-2!==this.kl?(this.da=this.If,this.na=this.Wg,this.FA=this.If,this.GA=this.Wg,this.kl=-2):this.fo&&!this.locked&&this.fo(this.If,this.Wg,this.Tc,this.caller):(-2===this.kl&&(this.fo&&!this.locked&&this.fo(this.If,this.Wg,this.Tc,this.caller),this.If===this.da&&this.Wg===this.na&&this.cE&&(this.C.vr?this.C.vr=!1:this.cE(this.If,this.Wg,this.Tc,this.caller))),this.Tc||(this.kl=-1));
else{var w=this.kl;this.context.textAlign="left";for(d=0;d<this.Vc;d+=1){var u=this.ve[d];if(!u.m){u.zJ(l,n);var y=!1;u.qM(this.If,this.Wg)&&(p=d,!u.locked&&!this.locked||u.Jo?y=!0:f=!0);y&&!this.Tc&&(this.Tm=d);(this.Tc&&-1===w&&y||y&&this.Un)&&u.type!==b.label&&(w=d,this.Un&&(u.gw=!0));d!==w||!u.locked&&!this.locked||u.Jo||(w=-1,y=!1);u.enabled&&this.gb(u,y,d,w,this.C.Bk)}}0<=w&&!this.Tc&&(r=!0);this.Tc&&-1===w&&!f&&(w=-2);-2===w&&this.fo&&!this.locked&&this.fo(this.If,this.Wg,this.Tc,this.caller);
this.Tc||(w=-1);this.kl=w;this.context.globalAlpha=1}0<=p&&!this.ve[p].locked?this.dv=this.ve[p].type===b.Oo?this.ve[p].orientation===b.Ry||this.ve[p].orientation===b.mf?"ew-resize":"ns-resize":"auto":this.dv=this.T;return r};a.prototype.qH=function(){this.T=[];this.B=this.G=0};a.prototype.iJ=function(){var d=0;0<this.B&&(d=this.G/this.B);this.T[this.T.length]=d;this.B=this.G=0};a.prototype.bL=function(d){var f=-1;0<=d&&d<this.T.length&&(f=this.T[d]);return f};a.prototype.wt=function(d,f,l,n,p,r){this.Cf=
d;this.Jd=f;this.Ni=l;this.nh=p;this.Bi=r;this.Pc&&this.Pc.wt(d,f,l,n,p,r)};a.prototype.EI=function(d,f,l){d=new k(this,d,f,l,this.Jc,this.sl);d.Cf=this.Cf;d.Qg=this.Qg;d.Jd=this.Jd;d.oe=this.oe;d.Ni=this.Ni;d.Cl=this.Cl;d.pn=this.pn;d.Yo=this.Yo;d.nh=this.nh;d.Gk=this.Gk;d.Bi=this.Bi;d.ml=this.ml;d.border=this.border;return d};a.prototype.CK=function(){var d=this.Pc,f=d.Ye,l=this.Jc,n="",p="";var r=1;if(-1!==d.kl||-1===d.kl&&-1===d.Tm)this.da=d.kl;if(-1===d.Tm||-1!==this.da&&this.da===d.Tm){if(-1!==
d.Tm){var w=d.ve[d.Tm];w.id===this.Ka&&w.Em!==this.na&&(this.da=-1)}50>this.dk&&(this.dk+=1)}else{w=d.ve[d.Tm];w.id!==this.Ka||w.id===this.Ka&&w.Em!==this.na?(this.Ka=w.id,this.na=w.Em,50>this.dk&&(this.dk+=1)):0<=this.dk&&--this.dk;-1!==this.na?n=w.F[this.na]:Array.isArray(w.F)?n="":n=w.F;var u=n.indexOf("\n");if(""!==n&&-1===this.dk&&!w.Uv){this.da=-1;var y=w.x;var z=w.y;var x=w.width;var B=w.height;-1!==w.Em&&(w.orientation===b.mf?(y+=x/w.lower.length*w.Em,x/=w.lower.length):(z+=B/w.lower.length*
w.Em,B/=w.lower.length));d=18*f;l.font=(d|0)+"px Arial";var c=4*f;var m=l.measureText(n).width;f=Math.round(y+x/2);z=Math.round(z+B/2);f-=m/2;f<c+1?f=c+1:f+m+c>l.canvas.width&&(f=l.canvas.width-m-c-1);B>x?(-1!==this.ab&&x<this.ab&&(x=this.ab),f>l.canvas.width/2?f=y-m-x/2:f=y+w.width+x/2):(-1!==this.gb&&B<this.gb&&(B=this.gb),z>l.canvas.height/2?z-=B:z+=B);if(m>l.canvas.width){p=(m>>1)+d+c;p>l.canvas.width&&(p=l.canvas.width);for(r=1;l.measureText(n.substr(0,r)).width<p;)r+=1;for(u=r-1;u>r-5;)p=n[u],
" "===p||","===p||"/"===p||"|"===p?(r=u+2,u=r-5):--u;p=n.substr(r-1);n=n.substr(0,r-1);m=l.measureText(n).width;r=l.measureText(p).width;r>m&&(m=r);r=2}else-1!==u&&(p=n.substr(u+1),r=l.measureText(p).width,n=n.substr(0,u),m=l.measureText(n).width,r>m&&(m=r),r=2);u=d*r+2*c;2===r&&z>l.canvas.height/2&&(z-=d+c,u+=c);l.globalAlpha=this.oe;l.fillStyle=this.Jd;l.fillRect((f-c|0)-.5,(z-d/2-c|0)-.5,m+2+2*c,u);l.globalAlpha=this.ml;l.strokeStyle=this.Bi;l.strokeRect((f-c|0)-.5,(z-d/2-c|0)-.5,m+2+2*c,u);l.globalAlpha=
this.oe;l.strokeStyle=this.Jd;l.beginPath();l.moveTo((f-c|0)+.5,(z-d/2-c|0)+.5+u);l.lineTo((f-c|0)+.5+m+2+2*c,(z-d/2-c|0)+.5+u);l.lineTo((f-c|0)+.5+m+2+2*c,(z-d/2-c|0)+.5);l.stroke();l.globalAlpha=1;l.fillStyle=this.Jd;l.fillText(n,f+2,z+2);""!==p&&l.fillText(p,f+2,z+d+c+2);l.fillStyle=this.Cf;r=n.indexOf("[");u=n.lastIndexOf("]");-1!==r&&-1!==u?(w=n.substr(0,r+1),m=l.measureText(w).width,l.fillText(w,f,z),l.fillStyle="#80FFFF",w=n.substr(r+1,u-r-1),l.fillText(w,f+m,z),l.fillStyle=this.Cf,w=n.substr(u),
m=l.measureText(n.substr(0,u)).width,l.fillText(w,f+m,z)):l.fillText(n,f,z);""!==p&&(r=p.indexOf("["),u=p.lastIndexOf("]"),-1!==r&&-1!==u?(w=p.substr(0,r+1),m=l.measureText(w).width,l.fillText(w,f,z+d+c),l.fillStyle="#80FFFF",w=p.substr(r+1,u-r-1),l.fillText(w,f+m,z+d+c),l.fillStyle=this.Cf,w=p.substr(u),m=l.measureText(p.substr(0,u)).width,l.fillText(w,f+m,z+d+c)):l.fillText(p,f,z+d+c))}}};a.prototype.uc=function(d){var f,l,n,p=d.Jc,r=90,w=1,u=1;d.wb&&(r=0);d.Kx=!1;d.PD=!0;d.Gs&&(d.Pc=d.Gs,d.Gs=
null,p.font=d.sl,d.Pc.Ff(),d.Pc.Bu&&d.Pc.Bu(d.Pc.caller));d.Pc&&(w=d.Pc.Ye,u=d.Pc.Ih);var y=p.canvas.width-86*w;r*=u;var z=performance.now();d.kA&&(d.hw=z-1E3/d.Ma);d.qr||d.notification.eo()||d.Ln||d.IO!==d.dk&&-1!==d.dk?(d.vt(d),d.Ln&&--d.Ln,d.kA=!1):d.kA=!0;var x=z-d.hw;d.hw=z;d.Pc.Tb&&d.Pc.Tb(x,d.Pc.caller);z=performance.now()-z;var B=performance.now();d.Kz();d.Un=!1;d.CK();d.notification.update();B=performance.now()-B;d.DA[d.Kt]=B;for(n=f=0;n<d.Go;n+=1)f+=d.DA[n];f/=d.Go;d.JA[d.Kt]=z;for(n=l=
0;n<d.Go;n+=1)l+=d.JA[n];l/=d.Go;d.wo[d.Kt]=x;for(n=x=0;n<d.Go;n+=1)x+=d.wo[n];x/=d.Go;d.Kt=(d.Kt+1)%d.Go;n=Math.round(1E3/x);n>d.Ma&&(n=d.Ma);this.G+=1E3/(z+B);this.B+=1;d.Yk&&(p.font=(12*w|0)+"px Arial",p.globalAlpha=.7,p.fillStyle="black",d.rn?p.fillRect(y,r,88*w|0,83*u|0):p.fillRect(y,r,88*w|0,20*u|0),B=(l+f)/16.666666,1<B&&(B=1),p.fillStyle=.5>B?"rgb("+(510*B|0)+",255,0)":"rgb(255,"+(255*(1-2*(B-.5))|0)+",0)",p.fillRect(y,r,88*B*w|0,20*u|0),f=f.toFixed(1),l=l.toFixed(1),4>n.toFixed(1).length?
n=n.toFixed(1):n|=0,p.globalAlpha=1,p.fillStyle="black",z=n+"fps",x=p.measureText(z).width,p.fillText(z,y+36*w-x,r+12*u),z=(100*B|0)+"%",x=p.measureText(z).width,p.fillText(z,y+84*w-x,r+12*u),d.rn&&(p.fillText("menu",y+6*w,r+28*u),p.fillText("work",y+6*w,r+44*u),p.fillText("update",y+6*w,r+60*u),p.fillText("focus",y+6*w,r+76*u),z=f+"ms",x=p.measureText(z).width,p.fillText(z,y+84*w-x,r+28*u),z=l+"ms",x=p.measureText(z).width,p.fillText(z,y+84*w-x,r+44*u),z=d.qr?"on":"off",x=p.measureText(z).width,
p.fillText(z,y+84*w-x,r+60*u),z=d.hasFocus?"on":"off",x=p.measureText(z).width,p.fillText(z,y+84*w-x,r+76*u)),p.fillStyle="white",z=n+"fps",x=p.measureText(z).width,p.fillText(z,y+34*w-x,r+10*u),z=(100*B|0)+"%",x=p.measureText(z).width,p.fillText(z,y+82*w-x,r+10*u),d.rn&&(p.fillText("menu",y+4*w,r+26*u),p.fillText("work",y+4*w,r+42*u),p.fillText("update",y+4*w,r+58*u),p.fillText("focus",y+4*w,r+74*u),z=f+"ms",x=p.measureText(z).width,p.fillText(z,y+82*w-x,r+26*u),z=l+"ms",x=p.measureText(z).width,
p.fillText(z,y+82*w-x,r+42*u),z=d.qr?"on":"off",x=p.measureText(z).width,p.fillText(z,y+82*w-x,r+58*u),z=d.hasFocus?"on":"off",x=p.measureText(z).width,p.fillText(z,y+82*w-x,r+74*u)),p.globalAlpha=1);d.Pc.dv!==d.Pc.mz&&(d.Pc.mz=d.Pc.dv,d.Rc.style.cursor=d.Pc.mz);d.YB=!0};a.prototype.$I=function(d){d.Z=this.Z;this.Pc?this.Gs=d:(this.Gs=null,this.Pc=d,this.Jc.font=this.sl,this.Pc.Ff(),this.Pc.Bu&&this.Pc.Bu(this.Pc.caller),this.vt(this))};a.prototype.Kz=function(){var d;if(this.Pc){var f=this.Pc;this.Jc.font=
this.sl;f.If=this.Lj;f.Wg=this.Mj;f.Tc=this.Tc;f.Un=this.Un;if(f.Kz()||this.hg){for(d=0;d<f.Vc;d+=1){var l=f.ve[d];f.VH(l)}this.hg=!1}}};a.prototype.vt=function(d){d.Kx||(requestAnimationFrame?requestAnimationFrame(d.BE):setTimeout(d.BE,16),d.Kx=!0)};a.prototype.Sp=function(d,f){for(var l=null,n=0;null===l&&n<d.length;)d[n].identifier===f?l=d[n]:n+=1;return l};a.prototype.Ba=function(d,f){var l=f.changedTouches;switch(f.type){case "touchstart":-1===d.Xh&&(l=l[0],d.Xh=l.identifier,d.ct(d,l.pageX,l.pageY));
break;case "touchend":l=d.Sp(l,d.Xh);null!==l&&(d.et(d,l.pageX,l.pageY),d.Xh=-1);break;case "touchmove":l=d.Sp(l,d.Xh);null!==l&&d.dt(d,l.pageX,l.pageY);break;case "touchcancel":l=d.Sp(l,d.Xh),null!==l&&d.YG(d)}d.Bk=!0;f.stopPropagation&&f.stopPropagation();f.cancelable&&f.preventDefault()};a.prototype.ct=function(d,f,l){d.gr(d,f,l);d.Tc=!0;d.PD=!1};a.prototype.et=function(d,f,l){d.EA=performance.now();d.gr(d,f,l);d.Tc=!1;d.PD||(d.Un=!0);0<=d.Lj&&d.Lj<d.Rc.width&&0<=d.Mj&&d.Mj<d.Rc.height&&!d.hasFocus&&
(d.Bk||d.Rc.focus(),d.hasFocus=!0,d.notification.clear(!0,!1),d.nF&&d.nF(d.caller))};a.prototype.dt=function(d,f,l){d.EE(d);d.gr(d,f,l)};a.prototype.KM=function(d){d.EE(d)};a.prototype.YG=function(d){1<performance.now()-d.EA&&(d.hasFocus||d.notification.clear(!0,!1),d.Rc.blur(),d.hasFocus=!1,d.Tc=!1,d.Lj=-1,d.Mj=-1,d.vr=!1,d.Kx||(d.vt(d),d.Ln<d.tv&&(d.Ln=d.tv)))};a.prototype.zb=function(d,f){if(!d.Ko){if(f.pageX||f.pageY){var l=f.pageX;var n=f.pageY}else l=f.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,
n=f.clientY+document.body.scrollTop+document.documentElement.scrollTop;d.ct(d,l,n);f.stopPropagation&&f.stopPropagation();f.preventDefault();d.Bk=!1}};a.prototype.ec=function(d,f){d.EA=performance.now();if(!d.Ko){if(f.pageX||f.pageY){var l=f.pageX;var n=f.pageY}else l=f.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,n=f.clientY+document.body.scrollTop+document.documentElement.scrollTop;d.et(d,l,n);f.stopPropagation&&f.stopPropagation();f.preventDefault();d.Bk=!1}};a.prototype.EE=
function(d){d.hasFocus||d.vr&&""!==d.notification.Pk||(d.Zc?d.Gl||d.notification.notify("Copy",15,3600,15,!0):d.wb?d.ck?d.notification.notify("Launch",15,3600,15,!0):d.notification.notify("Expand",15,3600,15,!0):d.notification.notify("Click to control",15,3600,15,!0),d.notification.animate=!0,d.vr=!0)};a.prototype.Fb=function(d,f){if(!d.Ko){if(f.pageX||f.pageY){var l=f.pageX;var n=f.pageY}else l=f.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,n=f.clientY+document.body.scrollTop+
document.documentElement.scrollTop;d.dt(d,l,n);f.stopPropagation&&f.stopPropagation();f.preventDefault();d.Bk=!1}};a.prototype.dc=function(d,f){d.Ko||(d.KM(d),f.stopPropagation&&f.stopPropagation(),f.preventDefault(),d.Bk=!1)};a.prototype.Lb=function(d,f){d.Ko||(d.YG(d),f.stopPropagation&&f.stopPropagation(),f.preventDefault(),d.Bk=!1)};a.prototype.gr=function(d,f,l){var n=this.Rc.getBoundingClientRect();window.scrollX?(f-=n.left+window.scrollX,l-=n.top+window.scrollY):(f-=n.left+window.pageXOffset,
l-=n.top+window.pageYOffset);f/=d.Of;l/=d.Of;d.Lj=f-1|0;d.Mj=l-1|0;d.vt(d);d.Ln<d.tv&&(d.Ln=d.tv)};a.prototype.cg=function(d){!d&&!this.notification.eo()||this.qr||this.vt(this);this.qr=d};window.IconManager=g;window.Menu=b;window.MenuManager=a}(),function(){function v(a,b,d,f,l,n){this.Yq=a;this.Zq=b;this.width=d;this.height=f;this.xO=l;this.IK=n}function h(){this.time=0;this.T=this.jw=!1;this.Je="none";this.GM="2pca4";this.Sv="0123456789abcdef";this.QF=86;this.uc=22;this.Dc=6;this.gb=8;this.D="";
this.Vd="0123456789xyz";this.Ud="0123";this.Wd="0123456789";this.Eg=this.Ag="0123456";this.Po=1038;this.wp=7157;this.Uo=5454;this.vp=2741;this.xp="0123";this.zg="0123456omp-";this.dh="01234";this.Hf=["ce","ceaikn","ceaiknjqry","ceaiknjqrytwz"];this.Cm=[[[6,36,160,192,72,10],[132,96,136,66,12,34],[68,40,130]],[[38,164,224,200,74,14],[44,162,196,104,138,70,100,168,194,76,42,134],[140,98]],[[166,228,232,202,78,46],[172,226,204,106,142,102],[108,170,198]]];this.vd=" ce ceaikn ceaiknjqry ceaiknjqrytwz ceaiknjqry ceaikn ce ".split(" ");
this.jd="  omp omp omp  ".split(" ");this.ll=[0,2,6,10,13,10,6,2,0];this.ul=[[0],[0,1],[2,0,1,3,4,5],[2,0,1,3,6,4,5,7,8,9],[2,0,1,3,6,4,5,7,8,10,11,9,12],[2,0,1,3,6,4,5,7,8,9],[2,0,1,3,4,5],[0,1],[0]];this.Fm=[[1,2],[5,10,3,40,33,68],[69,42,11,7,98,13,14,70,41,97],[325,170,15,45,99,71,106,102,43,101,105,78,108]];this.cp=new Uint32Array(256);this.vC=new Uint8Array(8192);this.rC=new Uint8Array(8192);this.Tj=new Uint8Array(512);this.qC=new Uint8Array(512);this.No=new Uint16Array(512);this.wl=this.Ha=
!1;this.Qt="l";this.Pt="le";this.Rt="lv";this.Gx="li";this.Hx="lo";this.Tv="h";this.bA="ht";this.Px="v";this.Jg=!1;this.Tz=0;this.xl=!1;this.Nw=this.Mw=0;this.vh=!1;this.be=this.Nc=this.ad=this.index=0;this.Nf=1;this.xk=2;this.vj=3;this.Vj=4;this.Zj=5;this.Fk=6;this.Ki=7;this.tj=8;this.Ej=9;this.nm=10;this.ni=11;this.Th=12;this.cj=13;this.Hi=14;this.yp=15;this.ih=16;this.nj=17;this.Zk=this.$k=-1;this.Kn=0;this.tp=1;this.up=2;this.er=3;this.fr=4;this.$p=0;this.ds=1;this.oc=!1;this.Te="num_states";
this.Dg="num_neighbors";this.ji="num_nodes";this.Cg="n_states";this.na=[];this.na[k.Sq]="vonneumann";this.na[k.Pq]="moore";this.na[k.Ml]="hexagonal";this.na[k.Rq]="onedimensional";this.zb=[];this.zb[k.Sq]=5;this.zb[k.Pq]=9;this.zb[k.Ml]=7;this.zb[k.Rq]=3;this.Ba=[];this.Ba[k.Sq]=["none","rotate4","rotate4reflect","reflect_horizontal","permute"];this.Ba[k.Pq]="none rotate4 rotate8 rotate4reflect rotate8reflect reflect_horizontal permute".split(" ");this.Ba[k.Ml]="none rotate2 rotate3 rotate6 rotate6reflect permute".split(" ");
this.Ba[k.Rq]=["none","reflect","permute"];this.Fb=[];this.Fb[k.Sq]=[[[0,1,2,3,4,5],[0,2,3,4,1,5],[0,3,4,1,2,5],[0,4,1,2,3,5]],[[0,1,2,3,4,5],[0,2,3,4,1,5],[0,3,4,1,2,5],[0,4,1,2,3,5],[0,4,3,2,1,5],[0,3,2,1,4,5],[0,2,1,4,3,5],[0,1,4,3,2,5]],[[0,1,2,3,4,5],[0,1,4,3,2,5]]];this.Fb[k.Pq]=[[[0,1,2,3,4,5,6,7,8,9],[0,3,4,5,6,7,8,1,2,9],[0,5,6,7,8,1,2,3,4,9],[0,7,8,1,2,3,4,5,6,9]],[[0,1,2,3,4,5,6,7,8,9],[0,2,3,4,5,6,7,8,1,9],[0,3,4,5,6,7,8,1,2,9],[0,4,5,6,7,8,1,2,3,9],[0,5,6,7,8,1,2,3,4,9],[0,6,7,8,1,2,
3,4,5,9],[0,7,8,1,2,3,4,5,6,9],[0,8,1,2,3,4,5,6,7,9]],[[0,1,2,3,4,5,6,7,8,9],[0,3,4,5,6,7,8,1,2,9],[0,5,6,7,8,1,2,3,4,9],[0,7,8,1,2,3,4,5,6,9],[0,1,8,7,6,5,4,3,2,9],[0,7,6,5,4,3,2,1,8,9],[0,5,4,3,2,1,8,7,6,9],[0,3,2,1,8,7,6,5,4,9]],[[0,1,2,3,4,5,6,7,8,9],[0,2,3,4,5,6,7,8,1,9],[0,3,4,5,6,7,8,1,2,9],[0,4,5,6,7,8,1,2,3,9],[0,5,6,7,8,1,2,3,4,9],[0,6,7,8,1,2,3,4,5,9],[0,7,8,1,2,3,4,5,6,9],[0,8,1,2,3,4,5,6,7,9],[0,8,7,6,5,4,3,2,1,9],[0,7,6,5,4,3,2,1,8,9],[0,6,5,4,3,2,1,8,7,9],[0,5,4,3,2,1,8,7,6,9],[0,4,
3,2,1,8,7,6,5,9],[0,3,2,1,8,7,6,5,4,9],[0,2,1,8,7,6,5,4,3,9],[0,1,8,7,6,5,4,3,2,9]],[[0,1,2,3,4,5,6,7,8,9],[0,1,8,7,6,5,4,3,2,9]]];this.Fb[k.Rq]=[[[0,1,2,3],[0,2,1,3]]];this.Fb[k.Ml]=[[[0,1,2,3,4,5,6,7],[0,4,5,6,1,2,3,7]],[[0,1,2,3,4,5,6,7],[0,3,4,5,6,1,2,7],[0,5,6,1,2,3,4,7]],[[0,1,2,3,4,5,6,7],[0,2,3,4,5,6,1,7],[0,3,4,5,6,1,2,7],[0,4,5,6,1,2,3,7],[0,5,6,1,2,3,4,7],[0,6,1,2,3,4,5,7]],[[0,1,2,3,4,5,6,7],[0,2,3,4,5,6,1,7],[0,3,4,5,6,1,2,7],[0,4,5,6,1,2,3,7],[0,5,6,1,2,3,4,7],[0,6,1,2,3,4,5,7],[0,6,
5,4,3,2,1,7],[0,5,4,3,2,1,6,7],[0,4,3,2,1,6,5,7],[0,3,2,1,6,5,4,7],[0,2,1,6,5,4,3,7],[0,1,6,5,4,3,2,7]]];this.jx=""}function g(a,b){this.A=null;this.C=b;this.wG="";b=a.lastIndexOf(".");-1!==b&&(a=a.substr(0,b));this.name=a;this.En=this.sk=0;this.Tg=this.kf=this.tc=-1;this.Wp=this.Wr=0;this.Nv=this.Yz=!1;this.Fp=this.lg=this.I=this.Rs="";this.U=this.fq=this.V=this.Ic=this.Fa=this.L=this.la=!1;this.Ug=this.C.$p;this.P=!1;this.ie=this.C.Kn;this.je=-1;this.te=this.Ne=!1;this.dd=-1;this.Jj=1;this.sh=this.qE=
this.rE=this.sE=this.tE=this.kg=this.De=this.zf=this.me=-1;this.yI=this.pa=!1;this.ee=-1;this.mr=this.lr=this.eg=this.Ze=null;this.i=this.vb=-1;this.Wf=this.Vf=1;this.Me="";this.Ei=-1;this.kh="";this.Hh=this.yf=null;this.height=this.width=0;this.rh=this.Pe=null;this.Nj=this.Kg=this.Fc=this.title="";this.Cd=2;this.Qs=0;this.ro=this.Jg=!1;this.tC=this.xG="";this.Te=-1;this.uC=!1;this.Cg=this.Uj=this.Nl=this.ji=this.Dg=-1;this.ge=this.$g=null;this.Zg=this.Ll=0;this.xe=this.Uk=this.Vk=null;this.Qq=[];
this.fe=null}var q={rules:[],pw:[],Ro:[],uv:[],hJ:function(a,b,d,f,l){var n,p=this.Ro.length,r=!1,w=a.I.toLowerCase();w=w.replace(/ /g,"_");for(n=0;n<p&&!r;){var u=this.Ro[n];u.name===w?(r=!0,u.pattern[u.pattern.length]=a,u.Ct[u.Ct.length]=b,u.Tr[u.Tr.length]=d,u.Hu[u.Hu.length]=f,u.view[u.view.length]=l):n+=1}r||(this.Ro[p]={name:w,pattern:[a],Ct:[b],Tr:[d],Hu:[f],view:[l]});return r},YK:function(a){var b=0,d=this.uv.length,f=!1,l="";a=a.toLowerCase();for(a=a.replace(/ /g,"_");b<d&&!f;)this.uv[b].name===
a?(f=!0,l=this.uv[b].definition):b+=1;return l},lN:function(a){var b,d=this.Ro.length,f=!1,l=a.I.toLowerCase();l=l.replace(/ /g,"_");for(a=0;a<d&&!f;){var n=this.Ro[a];if(n.name===l)for(f=!0,n.name="",b=0;b<n.Ct.length;b+=1)null!==n.Ct[b]&&(this.NF(n.pattern[b]),n.pattern[b].C.D="",n.pattern[b].C.Ha=!0,n.pattern[b].C.wl=!1,n.Ct[b](n.pattern[b],n.Hu[b],n.view[b]));else a+=1}},fx:function(a){var b,d=this.Ro.length,f=!1,l=a.I.toLowerCase();l=l.replace(/ /g,"_");for(a=0;a<d&&!f;){var n=this.Ro[a];if(n.name===
l)for(f=!0,n.name="",b=0;b<n.Tr.length;b+=1)null!==n.Tr[b]&&(n.pattern[b].pa=n.pattern[b].yI,n.Tr[b](n.pattern[b],n.Hu[b],n.view[b]));else a+=1}},add:function(a,b,d,f,l){var n,p=this.rules.length,r=!1,w=a.I.toLowerCase();w=w.replace(/ /g,"_");for(n=0;n<p&&!r;)this.rules[n].name===w?r=!0:n+=1;r||(this.rules[p]=null===a.ge?{name:w,IF:!0,VC:a.Te,tM:a.Dg,wM:a.ji,yJ:a.Nl,MN:a.Uk,NN:a.Vk,Uu:a.xe,fs:a.fe,names:a.Qq,U:a.uC}:{name:w,IF:!1,VC:a.Cg,Ao:a.Uj,IJ:a.Zg,vq:a.ge,QI:a.$g,Uu:a.xe,EK:a.Ll,fs:a.fe,names:a.Qq},
this.pw[p]={fetch:b|0,decode:d|0,size:f},this.uv[p]={name:w,definition:l},this.lN(a))},NF:function(a){var b,d=this.rules.length,f=null,l=!1,n=a.I.toLowerCase();n=n.replace(/ /g,"_");for(b=0;b<d&&!l;)this.rules[b].name===n?(l=!0,f=this.rules[b]):b+=1;l&&(a.ge=null,f.IF?(a.Te=f.VC,a.Dg=f.tM,a.ji=f.wM,a.Nl=f.yJ,a.Uk=f.MN,a.Vk=f.NN,a.U=f.U):(a.Cg=f.VC,a.Uj=f.Ao,a.Zg=f.IJ,a.ge=f.vq,a.$g=f.QI,a.Ll=f.EK,a.U=a.Uj===k.Ml?!0:!1),a.xe=f.Uu,a.fe=f.fs,a.Qq=f.names,a.Fa=!1);return l}},k={Sq:0,Pq:1,Ml:2,Rq:3,sC:-1,
ON:0,PN:1,QN:2,SN:3,RN:["circles","diamonds","hexagons","triangles"]};g.prototype.jz=function(a){var b="";if(this.Vf!==a||this.Wf!==a)this.Vf!==a&&(b+="C"+this.Vf),this.Wf!==a&&(b+="E"+this.Wf);return b};g.prototype.B=function(a){this.Rs=a.Rs;this.I=a.I;this.la=a.la;this.L=a.L;this.Fa=a.Fa;this.lg=a.lg;this.U=a.U;this.Ug=a.Ug;this.P=a.P;this.sk=a.sk;this.En=a.En;this.ie=a.ie;this.je=a.je;this.Ne=a.Ne;this.te=a.te;this.dd=a.dd;this.sh=a.sh;this.Jj=a.Jj;this.me=a.me;this.zf=a.zf;this.De=a.De;this.kg=
a.kg;this.pa=a.pa;this.ee=a.ee;this.vb=a.vb;this.i=a.i;this.Cd=a.Cd;a.eg&&(this.eg=new Uint8Array(a.eg.length),this.eg.set(a.eg));a.Ze&&(this.Ze=new Uint8Array(a.Ze.length),this.Ze.set(a.Ze))};g.prototype.RJ=function(a,b){a.eg&&(this.mr=b.R(Uint8,a.eg.length,"HROT.altSurvivals"),this.mr.set(a.eg));a.Ze&&(this.lr=b.R(Uint8,a.Ze.length,"HROT.altBirths"),this.lr.set(a.Ze));this.tE=a.me;this.sE=a.zf;this.rE=a.De;this.qE=a.kg};g.prototype.GN=function(){this.lg=this.I=this.Rs="";this.U=this.Fa=this.L=this.la=
!1;this.Ug=this.C.$p;this.P=!1;this.En=this.sk=0;this.ie=this.C.Kn;this.je=-1;this.te=this.Ne=!1;this.sh=this.dd=-1;this.pa=!1;this.i=this.vb=this.ee=-1;this.Cd=2};g.prototype.OL=function(a){return this.te!==a.te||this.pa!==a.pa?"Alternate is different rule family":(-1===this.i?this.Cd:this.i)!==(-1===a.i?a.Cd:a.i)?"Alternate has different number of states":this.L!==a.L||this.la!==a.la||this.U!==a.U||this.Ug!==a.Ug||this.P!==a.P||this.ie!==a.ie||this.Ne!==a.Ne||-1===this.je&&-1!==a.je||-1!==this.je&&
-1===a.je||this.sh!==a.sh||this.vb!==a.vb?"Alternate has different neighborhood":this.dd!==a.dd||this.ee!==a.ee?"Alternate has different range":this.Fa||a.Fa?"Alternate can not use none":""};h.prototype.Mh=function(a,b,d){var f,l,n=0,p=0,r=0,w=!1;var u=b.length;for(f=l=0;f<u;){var y=b[f];f+=1;switch(l){case 0:switch(y){case "!":l=1;a.Fc+="#C ";var z=!0;break;case "O":case "o":case "*":case ".":l=2;p=n=r=0;var x=--f}break;case 1:"\r"!==y&&"\n"!==y&&(" "===y?z||(a.title+=y,a.Fc+=y):(z=!1,a.title+=y,
a.Fc+=y));"\n"===y&&(l=0,a.Fc+=y,a.title+=" ");break;case 2:switch(y){case "O":case "o":case "*":case ".":p+=1;break;case "\n":r+=1;p>n&&(n=p);p=0;break;case " ":case "\t":break;default:f=u,w=!0}}}if(!w){2===l&&"\n"!==y&&(r+=1,p>n&&(n=p));a.height=r;a.width=n;a.Nj="Cells";a.Pe=Array.ka(Uint16,a.height,(a.width-1>>4)+1,0,d,"Pattern.lifeMap");f=x;for(l=n=0;f<u;)switch(y=b[f],f+=1,y){case "\n":n+=1;l=0;break;case "O":case "o":case "*":a.Pe[n][l>>4]|=1<<(~l&15);l+=1;break;case ".":l+=1}this.Ha=!0;this.ab(a,
"",d)}};h.prototype.Kh=function(a,b,d){var f,l;var n=b.length;var p=[];var r=0;var w=!1;var u=l=0;var y=!1;for(f=10;f<n;){var z=b[f];f+=1;switch(z){case "\n":y&&(y=!1,2===x&&w&&(u=-u,w=!1),p[r]=[l,u],r+=1);var x=u=l=0;break;case "-":w=!0;0===x?x=1:1===x&&(x=2);break;case " ":1===x&&(w&&(l=-l,w=!1),x=2);break;case "0":case "1":case "2":case "3":case "4":case "5":case "6":case "7":case "8":case "9":0===x&&(x=1),1===x?l=10*l+parseInt(z,10):(u=10*u+parseInt(z,10),y=!0)}}y&&(2===x&&w&&(u=-u),p[r]=[l,u],
r+=1);if(r){n=b=p[0][0];x=z=p[0][1];for(f=1;f<r;f+=1)l=p[f][0],u=p[f][1],l<b&&(b=l),l>n&&(n=l),u<z&&(z=u),u>x&&(x=u);a.height=x-z+1;a.width=n-b+1;a.Pe=Array.ka(Uint16,a.height,(a.width-1>>4)+1,0,d,"Pattern.lifeMap");a.Nj="Life 1.06";this.ab(a,"",d);for(f=0;f<r;f+=1)l=p[f][0]-b,u=p[f][1]-z,a.Pe[u][l>>4]|=1<<(~l&15)}};h.prototype.Ge=function(a,b,d,f){var l,n,p=[],r=0,w=b.length;var u="";var y=!1;var z=0,x=0,B=!1,c=!1,m=0,e=0;d=d?10:0;for(this.Ha=!0;d<w&&!c;){var t=b[d];d+=1;switch(z){case 0:switch(t){case "#":z=
2;break;case "*":case ".":z=3;var A=n=l=0;var C=--d}break;case 2:switch(t){case "C":case "D":z=1;a.Fc+="#C ";var D=!0;break;case "N":z=0;break;case "R":z=4;break;case "P":z=5;x=0;B=!1;e=m=0;break;case "\n":z=0;break;default:z=1,D=!0}break;case 1:"\r"!==t&&"\n"!==t&&(" "===t?D||(a.title+=t,a.Fc+=t):(D=!1,a.title+=t,a.Fc+=t));"\n"===t&&(z=0,a.title+=" ",a.Fc+=t);break;case 4:"\n"===t?z=0:(u+=t,y=!0);break;case 5:switch(t){case "\n":z=0;2===x&&B&&(e=-e,B=!1);break;case "-":B=!0;0===x?x=1:1===x&&(x=2);
break;case " ":1===x&&(B&&(m=-m,B=!1),x=2);break;case "0":case "1":case "2":case "3":case "4":case "5":case "6":case "7":case "8":case "9":0===x&&(x=1),1===x?m=10*m+parseInt(t,10):e=10*e+parseInt(t,10)}break;case 3:switch(t){case "\n":l>n&&(n=l);l=0;A+=1;break;case "#":p[r]=new v(m,e,n,A,C,d-1);r+=1;z=2;break;case "*":case ".":l+=1;break;case " ":case "\t":break;default:c=!0}}}"\n"!==t&&(A+=1);3===z&&(p[r]=new v(m,e,n,A,C,d-1),r+=1);if(r&&!c){m=p[0].Yq;e=p[0].Zq;t=m+p[0].width-1;l=e+p[0].height-1;
for(d=1;d<r;d+=1)p[d].Yq<m&&(m=p[d].Yq),p[d].Zq<e&&(e=p[d].Zq),p[d].Yq+p[d].width-1>t&&(t=p[d].Yq+p[d].width-1),p[d].Zq+p[d].height-1>l&&(l=p[d].Zq+p[d].height-1);a.height=l-e+1;a.width=t-m+1;a.Pe=Array.ka(Uint16,a.height,(a.width-1>>4)+1,0,f,"Pattern.lifeMap");a.Nj="Life 1.05";a.rh=Array.ka(Uint8,a.height,a.width,0,f,"Pattern.multiStateMap");y?(this.Ie(a,u,!1,f),this.Ha?0<=a.i||a.Ic||(a.rh=null):(a.i=-1,a.Ic=!1,a.V=!1)):this.ab(a,"",f);for(d=0;d<r;d+=1)for(f=p[d].xO,u=p[d].IK,l=p[d].Yq-m,t=p[d].Zq-
e,y=l,n=t;f<=u;)switch(t=b[f],f+=1,t){case "\n":n+=1;y=l;break;case "*":a.Pe[n][y>>4]|=1<<(~y&15);a.rh&&(a.rh[n][y]=1);y+=1;break;default:y+=1}}};h.prototype.da=function(a,b,d,f){var l=0,n,p,r;d&&(l=4);for(p=0;8192>p;p+=8)for(r=0;4>r;r+=1){d=0;for(n=p+r&f;0<n;)d+=n&1,n>>=1;b===d&&(a[p+r+l]=1)}};h.prototype.Lb=function(a,b,d,f){var l=0,n,p,r;d&&(l=16);for(p=0;512>p;p+=32)for(r=0;16>r;r+=1){d=0;for(n=p+r&f;0<n;)d+=n&1,n>>=1;b===d&&(a[p+r+l]=1)}};h.prototype.il=function(a){return(a&7)<<6|(a&448)>>6|
a&56};h.prototype.Gf=function(a){return(a&4)<<6|(a&32)<<2|(a&256)>>2|(a&2)<<4|a&16|(a&128)>>4|(a&1)<<2|(a&8)>>2|(a&64)>>6};h.prototype.Wm=function(a,b,d){var f;for(f=0;4>f;f+=1)a[b]=d,b=this.Gf(b);b=this.il(b);for(f=0;4>f;f+=1)a[b]=d,b=this.Gf(b)};h.prototype.Jm=function(a,b,d,f,l,n){var p=d?16:0;if(2>b||4<b)this.Lb(a,b,d,n);else if(d="omp".indexOf(f),-1!==d)for(b=this.Cm[b-2][d],d=0;d<b.length;d+=1)f=b[d]+p,a[f]=l,a[f+256]=l,a[f+1]=l,a[f+257]=l};h.prototype.Vm=function(a,b,d,f,l){var n=0,p=b-1;0===
b||8===b?this.Lb(a,b,d,511):(3<p&&(p=6-p,n=495),b=this.Hf[p].indexOf(f),-1!==b&&(n^=this.Fm[p][b],d&&(n|=16),this.Wm(a,n,l)))};h.prototype.xg=function(a,b,d,f){var l=b.length,n=0,p="",r;for(r=0;r<l;r+=1){var w=b.charCodeAt(r)-48;n|=1<<w;this.Lb(a,w,d,f)}for(r=0;9>r;r+=1)0!==(n&1<<r)&&(p+=String(r));return p};h.prototype.Id=function(a){for(var b=0;a;)b+=1,a&=a-1;return b};h.prototype.Fh=function(a,b){var d="",f=0;if(b[a]){b=b[a];0!==(b&8192)&&(f=1,b&=-8193);var l=this.Id(b);var n=2>a||4<a?0:3;2<=l&&
(b=~b&(1<<n)-1)&&(f=1-f);if(!f||b)for(d+=String(a),f&&(d+="-"),a=0;a<n;a+=1)0!==(b&1<<a)&&(d+="omp"[a])}else d+=String(a);return d};h.prototype.oi=function(a,b){var d="",f=0;if(b[a]){b=b[a];0!==(b&8192)&&(f=1,b&=-8193);var l=this.Id(b);var n=this.ll[a];(f||7!==l||13!==n)&&l+f>n>>1&&(b=~b&(1<<n)-1)&&(f=1-f);if(!f||b)for(d+=String(a),f&&(d+="-"),l=0;l<n;l+=1)f=this.ul[a][l],0!==(b&1<<f)&&(d+=this.Hf[3][f])}else d+=String(a);return d};h.prototype.vg=function(a,b,d,f){var l=b.length,n=0,p=[],r="",w;b+=
" ";for(w=0;7>w;w+=1)p[w]=0;for(w=0;w<l;w+=1){var u=b.charCodeAt(w)-48;if(0<=u&&8>=u){var y=0!==(n&1<<u);n|=1<<u;var z=b[w+1];var x=this.jd[u].indexOf(z);-1!==x||y||this.Lb(a,u,d,f);var B=1;"-"===z&&(B=0,w+=1,z=b[w+1],x=this.jd[u].indexOf(z));-1!==x||"0"<=z&&"9">=z||" "===z||(this.D=(d?"S":"B")+u+z+" not valid",w=l);y&&(y=0,0===(p[u]&8192)&&(y=1),y!==B&&(this.D=(d?"S":"B")+u+" can not have minus and non-minus",x=-1,w=l));for(;-1!==x;)0!==(p[u]&1<<x)?(this.D="Duplicate "+u+this.jd[u][x],x=-1,w=l):
(this.Jm(a,u,d,z,B,f),p[u]|=1<<x,B||(p[u]|=8192),w+=1,z=b[w+1],x=this.jd[u].indexOf(z))}else this.D="Missing digit prefix"}for(w=0;7>w;w+=1)0!==(n&1<<w)&&(r+=this.Fh(w,p));return r};h.prototype.wg=function(a,b,d){var f=b.length,l=0,n=[],p="",r;b+=" ";for(r=0;9>r;r+=1)n[r]=0;for(r=0;r<f;r+=1){var w=b.charCodeAt(r)-48;if(0<=w&&8>=w){var u=0!==(l&1<<w);l|=1<<w;var y=b[r+1];var z=this.vd[w].indexOf(y);-1!==z||u||this.Lb(a,w,d,511);var x=1;"-"===y&&(x=0,r+=1,y=b[r+1],z=this.vd[w].indexOf(y));-1!==z||"0"<=
y&&"9">=y||" "===y||(this.D=(d?"S":"B")+w+y+" not valid",r=f);u&&(u=0,0===(n[w]&8192)&&(u=1),u!==x&&(this.D=(d?"S":"B")+w+" can not have minus and non-minus",z=-1,r=f));for(;-1!==z;)0!==(n[w]&1<<z)?(this.D="Duplicate "+w+this.vd[w][z],z=-1,r=f):(this.Vm(a,w,d,y,x),n[w]|=1<<z,x||(n[w]|=8192),r+=1,y=b[r+1],z=this.vd[w].indexOf(y))}else this.D="Missing digit prefix"}for(r=0;9>r;r+=1)0!==(l&1<<r)&&(p+=this.oi(r,n));return p};h.prototype.Jh=function(a,b){var d;for(d=0;512>d;d+=1)a[d]=0!==(b&1<<(d&7))?
1:0!==(d&16)?1:0};h.prototype.Rd=function(a,b,d){var f=12,l=8191,n=a.sk,p=a.En;switch(a.ie){case this.tp:f=3;l=this.Po;break;case this.up:f=9;l=this.wp;break;case this.er:f=6;l=this.Uo;break;case this.fr:f=6,l=this.vp}b.fill(0);d&&d.fill(0);if(0!==(n&1))if(0!==(p&1<<f)){n=~n;p=~p;for(a=0;a<=f;a+=1)p&1<<f-a&&this.da(b,a,!1,l);for(a=0;a<=f;a+=1)n&1<<f-a&&this.da(b,a,!0,l);d.set(b)}else{for(a=0;a<=f;a+=1)~n&1<<a&&this.da(d,a,!1,l);for(a=0;a<=f;a+=1)~p&1<<a&&this.da(d,a,!0,l);for(a=0;a<=f;a+=1)p&1<<f-
a&&this.da(b,a,!1,l);for(a=0;a<=f;a+=1)n&1<<f-a&&this.da(b,a,!0,l);this.oc=!0}else{for(a=0;a<=f;a+=1)0!==(n&1<<a)&&this.da(b,a,!1,l);for(a=0;a<=f;a+=1)0!==(p&1<<a)&&this.da(b,a,!0,l);d&&d.set(b)}};h.prototype.xi=function(a,b,d,f,l){var n=this.Vd,p="",r="";switch(l){case this.tp:n=this.Ud;break;case this.up:n=this.Wd;break;case this.er:n=this.Ag;break;case this.fr:n=this.Eg}for(l=a.sk=0;l<b.length;l+=1){var w=n.indexOf(b[l]);a.sk|=1<<w}for(l=a.En=0;l<d.length;l+=1)w=n.indexOf(d[l]),a.En|=1<<w;for(l=
0;l<n.length;l+=1)0!==(a.sk&1<<l)&&(p+=n[l]);for(l=0;l<n.length;l+=1)0!==(a.En&1<<l)&&(r+=n[l]);return-1!==f?r+"/"+p+"/"+f:"B"+p+"/S"+r};h.prototype.vi=function(a,b,d,f,l){var n=0,p=this.No;var r=(1<<this.gb+1)/6|0;var w=new Uint8Array(512),u=a.la,y=a.L,z=a.U;var x=a.Ug;var B=a.P,c=a.ie,m=a.Ne,e=a.i;if(a.Fa)d=this.Je;else if(u||y)for(d=u?"M":"2PCA4,",x=0;16>x;x+=1)d+=l[x],15>x&&(d+=",");else if(B)d=this.xi(a,b,d,e,c);else{a=511;z?a=x===this.ds?114:254:m&&(a=186);w.fill(0);l.fill(0);for(x=0;x<w.length;x+=
1)p[x]=z?x:(x&448)>>6|x&56|(x&7)<<6;if(""!==f){d="MAP";for(x=0;x<r;x+=1)d+=f[x],b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(f[x]),w[n]=b>>5,n+=1,w[n]=b>>4&1,n+=1,w[n]=b>>3&1,n+=1,w[n]=b>>2&1,n+=1,w[n]=b>>1&1,n+=1,w[n]=b&1,n+=1;b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(f[x]);w[n]=b>>5;w[n+1]=b>>4&1;d+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[b&48];for(x=0;512>x;x+=1){f=0;r=this.gb;for(n=8;0<=n;--n)0!==(a&
1<<n)&&(0!==(x&1<<n)&&(f|=1<<r),--r);l[p[x]]=w[f]}-1!==e&&(d+="/"+e)}else m?(n=this.xg(l,b,!1,a),l=this.xg(l,d,!0,a)):z?(n=this.vg(l,b,!1,a),l=this.vg(l,d,!0,a)):(n=this.wg(l,b,!1),l=this.wg(l,d,!0)),d=-1!==e?l+"/"+n+"/"+e:"B"+n+"/S"+l}return d};h.prototype.pf=function(a){var b=a,d=0;if(-1!==a.indexOf(" "))for(b="";d<a.length;)" "!==a[d]&&(b+=a[d]),d+=1;return b};h.prototype.nk=function(a,b,d){for(var f=!0,l=0,n,p=1;p<b.length&&f;)n="0123456789".indexOf(b[p]),-1!==n?l=10*l+n:(this.D="Illegal character in Wolfram rule",
f=!1),p+=1;f&&(0>l||254<l?(this.D="Wolfram rule number must be 0-254",f=!1):0!==(l&1)?(this.D="Wolfram rule number must be even",f=!1):(this.Jh(d,l),a.je=l,a.I="W"+l));return f};h.prototype.pi=function(a,b){if(""===b)if(a.U)a.I+="H",a.Ug===this.ds&&(a.I+="T");else if(a.Ne)a.I+="V";else if(a.P)switch(a.ie){case this.Kn:a.I+=this.Qt.toUpperCase();break;case this.tp:a.I+=this.Pt.toUpperCase();break;case this.up:a.I+=this.Rt.toUpperCase();break;case this.er:a.I+=this.Gx.toUpperCase();break;case this.fr:a.I+=
this.Hx.toUpperCase()}b=AliasManager.Vr(a.I);if(null===b&&a.te&&0===a.Jj){b="R"+a.dd+",C"+a.i+",M1,S"+a.me+".."+a.zf+",B"+a.De+".."+a.kg+",N";switch(a.sh){case this.be:b+="M";break;case this.Nf:b+="N";break;case this.xk:b+="C";break;case this.vj:b+="+";break;case this.Vj:b+="X";break;case this.Zj:b+="*";break;case this.Fk:b+="2";break;case this.Ki:b+="H";break;case this.tj:b+="B";break;case this.nj:b+="D";break;case this.Ej:b+="#";break;case 10:b+="@"+a.Me+a.kh;break;case this.ni:b+="3";break;case this.Th:b+=
"A";break;case this.cj:b+="L";break;case this.Hi:b+="G";break;case 15:b+="W"+a.Me+a.kh;break;case this.ih:b+="F"+a.jz(a.dd)}b=AliasManager.Vr(b)}a.Ic&&(a.I+="History");a.V&&(a.I+="Super");-1!==a.tc&&(a.I+=":"+"ptkcs"[a.tc].toUpperCase(),a.I+=a.kf,a.Wr&&(a.I+="+"+a.Wr),a.Yz&&(a.I+="*"),a.Tg!==a.kf||a.Wp||a.Nv)&&(a.I+=","+a.Tg,a.Wp&&(a.I+="+"+a.Wp),a.Nv&&(a.I+="*"));null!==b&&(""===b&&(b="Life"),a.Ic&&(b+="History"),a.V&&(b+="Super"),a.lg=b)};h.prototype.zp=function(a,b){var d=86,f=a.length;f>=d?this.gb=
8:(d=this.uc,f>=d?(this.gb=6,b.U=!0):(d=this.Dc,f>=d?(this.gb=4,b.Ne=!0):d=-1));if(0<=d)for(b=0;b<d;b+=1)-1==="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(a[b])&&(d=-1);return d};h.prototype.B=function(a,b,d,f,l,n){var p=0,r=b.length,w=a.substr(this.index,r),u=n.dd;if(w!==b)","===b[0]&&(","===w[0]&&(w=w.substr(1)),b=b.substr(1)),this.D="LtL expected '"+b.toUpperCase()+"' got '"+w.toUpperCase()+"'",this.index=-1;else if(","===b[0]&&(b=b.substr(1)),this.index+=r,this.index<
a.length?(r=a[this.index],w=r.charCodeAt(0)):(r="",w=-1),"n"===b)switch(r){case "m":this.index+=1;p=this.be;break;case "n":this.index+=1;p=this.Nf;break;case "c":this.index+=1;p=this.xk;break;case "+":this.index+=1;p=this.vj;break;case "x":this.index+=1;p=this.Vj;break;case "*":this.index+=1;p=this.Zj;break;case "2":this.index+=1;p=this.Fk;break;case "h":this.index+=1;p=this.Ki;break;case "b":this.index+=1;p=this.tj;break;case "d":this.index+=1;p=this.nj;break;case "#":this.index+=1;p=this.Ej;break;
case "@":this.index+=1;p=this.ff(a,u,"LtL",n);-1===p&&(this.index=-1);break;case "3":this.index+=1;p=this.ni;break;case "a":this.index+=1;p=this.Th;break;case "l":this.index+=1;p=this.cj;break;case "g":this.index+=1;p=this.Hi;break;case "w":this.index+=1;p=this.nf(a,u,"LtL",n);-1===p&&(this.index=-1);break;case "f":this.index+=1;p=this.bf(a,u,"LtL",n);-1===p&&(this.index=-1);break;default:this.D="LtL 'N' [ABCDFGHLMNWX23*+#@] got 'N"+r.toUpperCase()+"'",this.index=-1}else if(48>w||57<w)this.D="LtL '"+
l+b.toUpperCase()+"' needs a number",this.index=-1;else{for(;48<=w&&57>=w;)p=10*p+(w-48),this.index+=1,this.index<a.length?w=a[this.index].charCodeAt(0):w=-1;-1!==d&&p<d&&(this.D="LtL '"+l+b.toUpperCase()+p+"' < "+d,this.index=-1);-1!==f&&p>f&&(this.D="LtL '"+l+b.toUpperCase()+p+"' > "+f,this.index=-1)}return p};h.prototype.Js=function(a,b,d){var f=0;switch(b){case this.be:f=(2*a+1)*(2*a+1)-1;break;case this.Nf:f=2*a*(a+1);break;case this.xk:d=0;var l=a*a+a;for(b=-a;b<=a;b+=1){for(f=0;(f+1)*(f+1)+
b*b<=l;)f+=1;d+=2*f+1}f=d-1;break;case this.vj:f=4*a;break;case this.Vj:f=4*a;break;case this.Zj:f=8*a;break;case this.Fk:d=0;l=a*a;for(b=-a;b<=a;b+=1){for(f=0;(f+1)*(f+1)+b*b<=l;)f+=1;d+=2*f+1}f=d-1;break;case this.Ki:f=(2*a+1)*(2*a+1)-a*(a+1)-1;break;case this.tj:f=((2*a+1)*(2*a+1)-1)/2;break;case this.nj:f=((2*a+1)*(2*a+1)-1)/2;break;case this.Ej:f=8*a;break;case 10:f=d;break;case this.ni:f=3*a;break;case this.Th:f=6*a;break;case this.cj:f=(4*a+1)*(2*a+1)-2*a*a-1;break;case this.Hi:f=(a+1)*(a+
1)*(a+1)*(a+1);break;case 15:f=d;break;case this.ih:f=8}return f};h.prototype.hj=function(a,b){var d=!1;this.index=0;var f=this.B(b,"r",1,500,"",a);-1!==this.index&&(a.dd=f,f=this.B(b,",c",0,256,"",a),-1!==this.index&&(2>f&&(f=2),a.i=f,f=this.B(b,",m",0,1,"",a),-1!==this.index&&(a.Jj=f,f=this.B(b,",s",0,-1,"",a),-1!==this.index&&(a.me=f,f=this.B(b,"..",a.me,-1,"S",a),-1!==this.index&&(a.zf=f,f=this.B(b,",b",0,-1,"",a),-1!==this.index&&(a.De=f,f=this.B(b,"..",a.De,-1,"B",a),-1!==this.index&&(a.kg=
f,f=this.B(b,",n",-1,-1,"",a),-1!==this.index&&(a.sh=f,d=!0))))))));d&&(this.index!==b.length?(d=!1,this.D="LtL invalid characters after rule"):(b=this.Js(a.dd,a.sh,a.Ei),b+=a.Jj,a.De>b&&(d=!1,this.D="LtL 'B"+a.De+"..' > "+b),a.kg>b&&(d=!1,this.D="LtL 'B.."+a.kg+"' > "+b),a.me>b&&(d=!1,this.D="LtL 'S"+a.me+"..' > "+b),a.zf>b&&(d=!1,this.D="LtL 'S.."+a.zf+"' > "+b)));return d};h.prototype.jj=function(a,b){var d=!1;this.index=0;a.i=2;a.Jj=1;a.sh=this.be;var f=this.B(b,"",1,500,"",a);-1!==this.index&&
(a.dd=f,f=this.B(b,",",0,-1,"",a),-1!==this.index&&(a.De=f,f=this.B(b,",",a.De,-1,"B",a),-1!==this.index&&(a.kg=f,f=this.B(b,",",0,-1,"",a),-1!==this.index&&(a.me=f,f=this.B(b,",",a.me,-1,"S",a),-1!==this.index&&(a.zf=f,d=!0)))));d&&(this.index!==b.length?(d=!1,this.D="LtL invalid characters after rule"):(b=(2*a.dd+1)*(2*a.dd+1),a.De>b&&(d=!1,this.D="LtL 'B"+a.De+"..' > "+b),a.kg>b&&(d=!1,this.D="LtL 'B.."+a.kg+"' > "+b),a.me>b&&(d=!1,this.D="LtL 'S"+a.me+"..' > "+b),a.zf>b&&(d=!1,this.D="LtL 'S.."+
a.zf+"' > "+b)));return d};h.prototype.ij=function(a,b){var d=!1;this.index=0;-1===a.i&&(a.i=2);a.Jj=1;a.sh=this.be;var f=this.B(b,"r",1,500,"",a);-1!==this.index&&(a.dd=f,f=this.B(b,"b",0,-1,"",a),-1!==this.index&&(a.De=f,f=this.B(b,"t",a.De,-1,"B",a),-1!==this.index&&(a.kg=f,f=this.B(b,"s",0,-1,"",a),-1!==this.index&&(a.me=f,f=this.B(b,"t",a.me,-1,"S",a),-1!==this.index&&(a.zf=f,d=!0)))));d&&(this.index!==b.length?(d=!1,this.D="LtL invalid characters after rule"):(b=(2*a.dd+1)*(2*a.dd+1),a.De>b&&
(d=!1,this.D="LtL 'B"+a.De+"' > "+b),a.kg>b&&(d=!1,this.D="LtL 'B..T"+a.kg+"' > "+b),a.me>b&&(d=!1,this.D="LtL 'S"+a.me+"..' > "+b),a.zf>b&&(d=!1,this.D="LtL 'S..T"+a.zf+"' > "+b)));return d};h.prototype.gf=function(a,b,d,f,l){var n=!1,p,r="HROT.",w,u=0;if(this.index+d>a.length)this.D="HROT '"+b+"' needs "+d+" hex digits";else{for(p=w=0;w<d&&-1!==p;)p="0123456789abcdef".indexOf(a[this.index]),-1!==p&&(this.index+=1,w+=1);if(-1===p)this.D="HROT '"+b+"' expected hex got '"+a[this.index]+"'";else{"B"===
b?r+="births":(r+="survivals",u=1);l=l.R(Uint8,(d<<2)+1+u,r);n=0;l[n]=0;n+=1;--w;"S"===b&&(l[n]=0,n+=1);for(;0<=w;)p="0123456789abcdef".indexOf(a[this.index-d+w]),--w,l[n]=p&1,n+=1,l[n]=p>>1&1,n+=1,l[n]=p>>2&1,n+=1,l[n]=p>>3&1,n+=1;"B"===b?f.Ze=l:f.eg=l;n=!0}}return n};h.prototype.Ka=function(a,b){var d=-1;this.index+=1;if(this.index<a.length){var f=a[this.index].charCodeAt(0);if(48>f||57<f)this.D="HROT '"+b+"' needs a number";else for(d=f-48,this.index+=1,f=-1,this.index<a.length&&(f=a[this.index].charCodeAt(0));48<=
f&&57>=f;)d=10*d+(f-48),this.index+=1,this.index<a.length?f=a[this.index].charCodeAt(0):f=-1}else this.D="HROT '"+b+"' needs a number";return d};h.prototype.Ce=function(a,b,d,f,l){var n=!0;l&&"S"===d&&(f+=1);var p=this.Ka(a,d);-1===p&&(this.D="");for(;n&&-1!==p;){var r=-1;this.index<a.length&&"-"===a[this.index]&&(r=this.Ka(a,d),-1===r&&(this.D="HROT '"+d+p+"-' needs a number",n=!1));if(n&&(-1===r&&(r=p),p>r&&(this.D="HROT '"+d+p+"-"+r+"' wrong order",n=!1),n)){"S"===d?(this.ad=r,l&&(p+=1,r+=1)):
this.Nc=r;p>f&&(p=f);for(r>f&&(r=f);p<=r;p+=1)b[p]=1;p=-1;this.index<a.length&&","===a[this.index]&&(p=this.Ka(a,d),-1===p&&(--this.index,this.D=""))}}return n};h.prototype.nf=function(a,b,d,f){var l=this.index,n=a.length,p=(2*b+1)*(2*b+1),r=p+p,w=0,u=[],y=[],z=0,x=15;for(f.kh="";l<n&&-1!=="0123456789abcdef".indexOf(a[l]);)l+=1;b=l-this.index;if(b===p)for(;this.index<l;)p="0123456789abcdef".indexOf(a[this.index]),0!==(p&8)&&(p=-(p&7)),u[u.length]=p,this.index+=1;else if(b===r)for(;this.index<l;)p=
"0123456789abcdef".indexOf(a[this.index])<<4,this.index+=1,p|="0123456789abcdef".indexOf(a[this.index]),this.index+=1,0!==(p&128)&&(p=-(p&127)),u[u.length]=p;else this.D=d+" 'NW' needs "+String(p)+" or "+String(r)+" hex digits",x=-1;-1!==x&&this.index<n&&("h"===a[this.index]?(f.kh="H",this.index+=1):"l"===a[this.index]&&(f.kh="L",this.index+=1));if(-1!==x)if(","===a[this.index]){for(l=this.index+=1;l<n&&-1!=="0123456789abcdef".indexOf(a[l]);)l+=1;w=l-this.index;if(w!==f.i)this.D=d+" 'NW' needs "+
String(f.i)+" state weights",x=-1;else for(l=0;l<f.i;l+=1)p="0123456789abcdef".indexOf(a[this.index]),this.index+=1,y[y.length]=p,p>z&&(z=p)}else z=1;if(-1!==x){for(d=p=0;d<u.length;d+=1)0<u[d]&&(p+=u[d]*z);f.Me=0<y.length?a.substr(this.index-(b+w+1),b+w+1).toLowerCase():a.substr(this.index-b,b).toLowerCase();f.Ei=p;f.yf=u;f.Hh=y}-1===x&&(f.Me="",f.Ei=-1,f.yf=null,f.Hh=null);return x};h.prototype.hf=function(a,b){for(var d=0,f,l=!1,n=!1;!n&&this.index<b;)f=a.charCodeAt(this.index),48<=f&&57>=f?(l=
!0,d=10*d+(f-48),this.index+=1):n=!0;l||(d=-1);return d};h.prototype.bf=function(a,b,d,f){var l=a.length,n=-1,p=-1,r=-1;if(this.index>=l)return f.Vf=b,f.Wf=b,r=this.ih;var w=a[this.index].toUpperCase();for(this.index+=1;"C"===w||"E"===w;){if("C"===w)if(-1===n){if(n=this.hf(a,l),-1===n&&(n=b),1>n||500<n)return this.D=d+" 'NF' invalid corner range",r}else return this.D=d+" 'NF' duplicate 'C'",r;else if(-1===p){if(p=this.hf(a,l),-1===p&&(p=b),1>p||500<p)return this.D=d+" 'NF' invalid edge range",r}else return this.D=
d+" 'NF' duplicate 'E'",r;this.index<l?(w=a[this.index].toUpperCase(),this.index+=1):w=""}""!==w&&--this.index;f.Vf=-1===n?b:n;f.Wf=-1===p?b:p;return r=this.ih};h.prototype.ff=function(a,b,d,f){var l=this.index,n=a.length,p=0;b=((2*b+1)*(2*b+1)-1)/4;var r=0,w=10;for(f.kh="";l<n&&p<b&&-1!==w;){var u="0123456789abcdef".indexOf(a[l]);0<=u?(l+=1,p+=1,r+=this.Id(u)):w=-1}p!==b&&(w=-1);-1===w?(this.D=d+" 'N@' needs "+String(b)+" hex digits",f.Me="",f.Ei=-1):(f.Me=a.substr(this.index,p).toLowerCase(),f.Ei=
r,this.index+=p,l<n&&("h"===a[l]?(f.kh="H",this.index+=1):"l"===a[l]&&(f.kh="L",this.index+=1)));return w};h.prototype.gn=function(a,b){var d=a.dd,f;a.ee=d;a.vb=a.sh;d=this.Js(d,a.sh,a.Ei);d+=a.Jj;a.eg=b.R(Uint8,d+2,"HROT.survivals");a.Ze=b.R(Uint8,d+1,"HROT.births");for(f=a.me;f<=a.zf;f+=1)a.eg[f]=1;for(f=a.De;f<=a.kg;f+=1)a.Ze[f]=1;if(this.oc){a.mr=b.R(Uint8,d+2,"HROT.altSurvivals");a.lr=b.R(Uint8,d+1,"HROT.altBirths");for(f=a.tE;f<=a.sE;f+=1)a.mr[f]=1;for(f=a.rE;f<=a.qE;f+=1)a.lr[f]=1}a.pa=!0};
h.prototype.yi=function(a,b,d){var f=!1,l=0,n=!0,p=b.indexOf(",n");this.ad=this.Nc=this.index=0;if("r"!==b[this.index])this.D="HROT expected 'R' got '"+b[this.index].JO()+"'";else{var r=this.Ka(b,"R");-1!==r&&(1>r?this.D="HROT 'R' < 1":500<r?this.D="HROT 'R' > 500":(a.ee=r,f=!0))}f&&(f=!1,this.index<b.length?","!==b[this.index]?this.D="HROT expected ',' got "+b[this.index].toUpperCase():(this.index+=1,this.index<b.length?"c"!==b[this.index]?this.D="HROT expected 'C' got "+b[this.index].toUpperCase():
(r=this.Ka(b,"C"),-1!==r&&(0>r?this.D="HROT 'C"+r+"' < 0":256<r?this.D="HROT 'C"+r+"' > 256":(2>r&&(r=2),a.i=r,f=!0))):this.D="HROT expected 'C'"):this.D="HROT expected ','");if(f){r=this.index;this.index=p;n=!0;a.vb=this.be;if(-1!==this.index&&this.index<b.length&&","===b[this.index]){f=!1;this.index+=1;if(this.index<b.length)if("n"===b[this.index])if(this.index+=1,this.index<b.length)switch(b[this.index]){case "m":a.vb=this.be;this.index+=1;f=!0;break;case "n":a.vb=this.Nf;this.index+=1;f=!0;break;
case "c":a.vb=this.xk;this.index+=1;f=!0;break;case "+":a.vb=this.vj;this.index+=1;f=!0;break;case "x":a.vb=this.Vj;this.index+=1;f=!0;break;case "*":a.vb=this.Zj;this.index+=1;f=!0;break;case "2":a.vb=this.Fk;this.index+=1;f=!0;break;case "h":a.vb=this.Ki;this.index+=1;f=!0;break;case "b":a.vb=this.tj;this.index+=1;f=!0;break;case "d":a.vb=this.nj;this.index+=1;f=!0;break;case "#":a.vb=this.Ej;this.index+=1;f=!0;break;case "@":this.index+=1;a.vb=this.ff(b,a.ee,"HROT",a);-1!==a.vb&&(f=!0);break;case "3":a.vb=
this.ni;this.index+=1;f=!0;break;case "a":a.vb=this.Th;this.index+=1;f=!0;break;case "l":a.vb=this.cj;this.index+=1;f=!0;break;case "g":a.vb=this.Hi;n=!1;this.index+=1;f=!0;break;case "w":this.index+=1;a.vb=this.nf(b,a.ee,"HROT",a);-1!==a.vb&&(n=!1,f=!0);break;case "f":this.index+=1;a.vb=this.bf(b,a.ee,"HROT",a);-1!==a.vb&&(f=!0);break;default:this.D="HROT 'N' [ABCDFGHLMNWX23*+#@] got '"+b[this.index].toUpperCase()+"'"}else this.D="HROT 'N' needs a neighborhood";else this.D="HROT expected 'N' got '"+
b[this.index].toUpperCase()+"'";else this.D="HROT expected 'N'";p=this.index}l=this.Js(a.ee,a.vb,a.Ei);this.index=r}f&&(f=!1,this.index<b.length?","!==b[this.index]?this.D="HROT expected ',' got "+b[this.index].toUpperCase():(this.index+=1,this.index<b.length?"s"!==b[this.index]?this.D="HROT expected 'S' got "+b[this.index].toUpperCase():(a.eg=d.R(Uint8,l+2,"HROT.survivals"),f=this.Ce(b,a.eg,"S",l,n)):this.D="HROT expected 'S'"):this.D="HROT expected ','");f&&(f=!1,this.index<b.length?","!==b[this.index]?
this.D="HROT expected ',' got "+b[this.index].toUpperCase():(this.index+=1,this.index<b.length?"b"!==b[this.index]?this.D="HROT expected 'B' got "+b[this.index].toUpperCase():(a.Ze=d.R(Uint8,l+1,"HROT.births"),f=this.Ce(b,a.Ze,"B",l,n)):this.D="HROT expected 'B'"):this.D="HROT expected ','");f&&(-1!==p&&(this.index=p),this.index!==b.length&&(f=!1,this.D="HROT invalid characters after rule"),this.ad>l&&(f=!1,this.D="HROT 'S"+this.ad+"' > "+l),f&&this.Nc>l&&(f=!1,this.D="HROT 'B"+this.Nc+"' > "+l));
f&&(a.pa=!0);return f};h.prototype.Ph=function(a,b,d){var f=!1,l=0;this.index=0;-1===a.i&&(a.i=2);if("r"!==b[this.index])this.D="HROT expected 'R' got '"+b[this.index].JO()+"'";else{var n=-1;this.index+=1;this.index<b.length&&(n=b[this.index].charCodeAt(0));if(48>n||57<n)this.D="HROT 'R' needs a number";else{var p=n-48;this.index+=1;n=-1;for(this.index<b.length&&(n=b[this.index].charCodeAt(0));48<=n&&57>=n;)p=10*p+(n-48),this.index+=1,this.index<b.length?n=b[this.index].charCodeAt(0):n=-1;1>p?this.D=
"HROT 'R' < 1":500<p?this.D="HROT 'R' > 500":(a.ee=p,f=!0,l=p*(p+1))}}f&&(f=!1,this.index<b.length?"b"!==b[this.index]?this.D="HROT expected 'B' got "+b[this.index].toUpperCase()+"'":(this.index+=1,f=this.gf(b,"B",l,a,d)):this.D="HROT expected 'B'");f&&(f=!1,this.index<b.length?"s"!==b[this.index]?this.D="HROT expected 'S' got "+b[this.index].toUpperCase()+"'":(this.index+=1,f=this.gf(b,"S",l,a,d)):this.D="HROT expected 'S'");f&&this.index<b.length&&"z"===b[this.index]&&(a.eg[1]=1,this.index+=1);
f&&(this.index!==b.length?(f=!1,this.D="HROT invalid characters after rule"):(a.vb=this.be,a.pa=!0));return f};h.prototype.ne=function(a,b){for(var d=a.length,f=-1,l="",n=0;n<d;)1===a[n]?-1===f&&(f=n):-1!==f&&(""!==l&&(l+=","),l+=f+b,n-1!==f&&(l+="-"+(n-1+b)),f=-1),n+=1;-1!==f&&(""!==l&&(l+=","),l+=f+b,n-1!==f&&(l+="-"+(n-1+b)));return l};h.prototype.ab=function(a,b,d){var f="",l=!1;var n=AliasManager.Vz(b);null!==n&&(f=AliasManager.Vr(n),b=n);n=b.indexOf("|");if(-1===n)(l=this.Sd(a,b,d,this.Tj))&&
a.P&&this.Rd(a,this.vC,this.rC);else if(-1===b.substr(n+1).indexOf("|")){if(l=this.Sd(a,b.substr(0,n),d,this.qC)){var p=new g(a.name,this);p.B(a);a.GN();if(l=this.Sd(a,b.substr(n+1),d,this.Tj))if(this.D=a.OL(p),""===this.D)if(a.pa&&0!==a.Ze[0]||!a.P&&(this.Tj[0]||this.qC[0])||a.P&&0!==(a.sk&1)||0!==(p.sk&1))this.D="Alternate not supported with B0",l=!1;else{a.P&&(this.Rd(p,this.rC,null),this.Rd(a,this.vC,null));if(""!==f)a.lg=f;else if(""!==a.lg||""!==p.lg)""===a.lg&&(a.lg=a.I),""===p.lg&&(p.lg=p.I),
a.lg=p.lg+"|"+a.lg;a.I=p.I+"|"+a.I;f=AliasManager.Vr(a.I);null!==f&&(a.lg=f);(a.pa||a.te)&&a.RJ(p,d);this.oc=!0}else l=!1}}else this.D="Only one alternate allowed";return l};h.prototype.mj=function(a,b){var d=!0,f=a.length,l=0;if("2pca4"!==a.substr(0,5))this.D="PCA rule must start with 2PCA4",d=!1;else{var n=5;var p=-1;if(","!==a[n])d=!0;else for(n+=1;d&&16>l&&n<f;)if(n<f){var r=a[n];n+=1;"0"<=r&&"9">=r?(-1===p&&(p=0),p=10*p+r.charCodeAt(0)-48):","===r?15<p?(this.D="Value must be from 0 to 15",d=
!1):(b[l]=p,l+=1,p=-1):(this.D="Illegal character found in rule",d=!1)}d&&(-1===p?(this.D=16===l?"Extra characters found after rule":"Need 16 values",d=!1):15<p?(this.D="Value must be from 0 to 15",d=!1):(b[l]=p,16!==l+1&&(this.D="Need 16 values",d=!1)))}return d};h.prototype.kj=function(a,b){var d=!0,f=0,l=a.length,n,p=0;if("m"!==a[f])this.D="Margolus rule must start with M",d=!1;else{f+=1;"s,d"===a.substr(f,f+2)&&(f+=3);for(n=-1;d&&16>p&&f<l;)if(f<l){var r=a[f];f+=1;"0"<=r&&"9">=r?(-1===n&&(n=0),
n=10*n+r.charCodeAt(0)-48):","===r||";"===r?15<n?(this.D="Value must be from 0 to 15",d=!1):(b[p]=n,p+=1,n=-1):(this.D="Illegal character found in rule",d=!1)}d&&(-1===n?(this.D=16===p?"Extra characters found after rule":"Need 16 values",d=!1):15<n?(this.D="Value must be from 0 to 15",d=!1):(b[p]=n,16!==p+1&&(this.D="Need 16 values",d=!1)))}return d};h.prototype.Sd=function(a,b,d,f){var l=!1,n=null,p=null,r=null,w="012345678ceaiknjqrytwz-";var u=this.bA.length;var y=this.Tv.length;var z=this.Qt.length;
var x=this.Pt.length,B=this.Rt.length;var c=this.Gx.length;var m=this.Hx.length,e=this.Px.length,t="";f[0]=0;var A=AliasManager.Vz(b);null!==A&&(""===b&&(a.I="Life"),b=A);if("map"===b.substr(0,3).toLowerCase()){t=b.substr(3);var C=t.indexOf("/");-1===C?"=="===t.substr(-2)&&(t=t.substr(0,t.length-2)):"=="===t.substr(C-2,2)&&(t=t.substr(0,C-2)+t.substr(C));b=this.zp(t,a);if(0<=b)if(l=!0,r=t.substr(b),t=t.substr(0,b),"/"===r[0]){A=1;a.i=0;A<r.length&&("g"===r[A].toLowerCase()||"c"===r[A].toLowerCase())&&
(A+=1);for(C=0;A<r.length&&-1!==C;)C="0123456789".indexOf(r[A]),-1!==C?a.i=10*a.i+C:(this.D="Illegal character in generations number",a.i=-1,l=!1),A+=1;-1!==a.i&&(2>a.i||256<a.i)&&(this.D="Generations number must be 2-256",a.i=-1,l=!1)}else""!==r&&(A=r.length,this.D="MAP length must be "+this.Dc+", "+this.uc+" or 86 not "+(A+b),l=!1);else this.D=86===t.length||t.length===this.uc||t.length===this.Dc?"MAP contains illegal base64 character":"MAP length must be "+this.Dc+", "+this.uc+" or 86 not "+t.length}else if(b=
b.toLowerCase(),b=this.pf(b),"2pca4"===b.substr(0,5)){if(l=this.mj(b,f))a.L=!0,a.i=16}else if("m"===b[0]){if(l=this.kj(b,f))a.la=!0}else{l=!0;if("g"===b[0]){A=1;for(C=a.i=0;A<b.length&&-1!==C;)C="0123456789".indexOf(b[A]),-1!==C&&(a.i=10*a.i+C,A+=1);1<A&&(2>a.i||256<a.i?(this.D="Generations number must be 2-256",a.i=-1,l=!1):(A<b.length&&"/"===b[A]&&(A+=1),b=b.substr(A),l=!0))}if(l&&(C=b.lastIndexOf("g"),-1!==C&&C!==b.length-1&&!(0<C&&"/"===b[C-1]))){A=C+1;for(C=a.i=0;A<b.length&&-1!==C;)C="0123456789".indexOf(b[A]),
-1!==C&&(a.i=10*a.i+C,A+=1);A===b.length?2>a.i||256<a.i?(this.D="Generations number must be 2-256",a.i=-1,l=!1):(b=b.substr(0,b.lastIndexOf("g")),l=!0):a.i=-1}if(l)if(l=!1,"r"===b[0]||"1"<=b[0]&&"9">=b[0]&&-1!==b.indexOf(",")){if(l="r"===b[0]?-1!==b.indexOf(".")?this.hj(a,b):-1!==b.indexOf("t")&&-1===b.indexOf("n")?this.ij(a,b):-1!==b.indexOf(",")?this.yi(a,b,d):this.Ph(a,b,d):this.jj(a,b))if(a.pa){if(a.vb===this.ih&&(a.Vf>a.ee&&(a.ee=a.Vf),a.Wf>a.ee&&(a.ee=a.Wf)),r=15===a.vb||a.vb===this.Hi?0:-1,
a.I="R"+a.ee+",",a.I+="C"+a.i+",",a.I+="S"+this.ne(a.eg,r)+",",a.I+="B"+this.ne(a.Ze,0),a.vb!==this.be)switch(a.I+=",N",a.vb){case this.Nf:a.I+="N";break;case this.xk:a.I+="C";break;case this.vj:a.I+="+";break;case this.Vj:a.I+="X";break;case this.Zj:a.I+="*";break;case this.Fk:a.I+="2";break;case this.Ki:a.I+="H";break;case this.tj:a.I+="B";break;case this.nj:a.I+="D";break;case this.Ej:a.I+="#";break;case 10:a.I+="@"+a.Me+a.kh;break;case this.ni:a.I+="3";break;case this.Th:a.I+="A";break;case this.cj:a.I+=
"L";break;case this.Hi:a.I+="G";break;case 15:a.I+="W"+a.Me+a.kh;break;case this.ih:a.I+="F"+a.jz(a.ee)}}else{a.sh===this.ih&&(a.Vf>a.dd&&(a.dd=a.Vf),a.Wf>a.dd&&(a.dd=a.Wf));a.te=!0;a.I="R"+a.dd+",C"+a.i+",M"+a.Jj+",S"+a.me+".."+a.zf+",B"+a.De+".."+a.kg+",N";switch(a.sh){case this.be:a.I+="M";break;case this.Nf:a.I+="N";break;case this.xk:a.I+="C";break;case this.vj:a.I+="+";break;case this.Vj:a.I+="X";break;case this.Zj:a.I+="*";break;case this.Fk:a.I+="2";break;case this.Ki:a.I+="H";break;case this.tj:a.I+=
"B";break;case this.nj:a.I+="D";break;case this.Ej:a.I+="#";break;case 10:a.I+="@"+a.Me+a.kh;break;case this.ni:a.I+="3";break;case this.Th:a.I+="A";break;case this.cj:a.I+="L";break;case this.Hi:a.I+="G";break;case 15:a.I+="W"+a.Me+a.kh;break;case this.ih:a.I+="F"+a.jz(a.dd)}0===a.Jj&&(a.me+=1,a.zf+=1)}}else if("w"===b[0])l=this.nk(a,b,f);else if(d=b.lastIndexOf(this.Qt),-1!==d&&d===b.length-z&&(a.P=!0,a.ie=this.Kn,b=b.substr(0,b.length-z),w=this.Vd),d=b.lastIndexOf(this.Pt),-1!==d&&d===b.length-
x&&(a.P=!0,a.ie=this.tp,b=b.substr(0,b.length-x),w=this.Ud),d=b.lastIndexOf(this.Rt),-1!==d&&d===b.length-B&&(a.P=!0,a.ie=this.up,b=b.substr(0,b.length-B),w=this.Wd),d=b.lastIndexOf(this.Gx),-1!==d&&d===b.length-c&&(a.P=!0,a.ie=this.er,b=b.substr(0,b.length-c),w=this.Ag),d=b.lastIndexOf(this.Hx),-1!==d&&d===b.length-m&&(a.P=!0,a.ie=this.fr,b=b.substr(0,b.length-m),w=this.Eg),c=b.lastIndexOf(this.bA),-1!==c&&c===b.length-u&&(a.U=!0,a.Ug=this.ds,b=b.substr(0,b.length-u),w=this.xp),c=b.lastIndexOf(this.Tv),
-1!==c&&c===b.length-y&&(a.U=!0,a.Ug=this.$p,b=b.substr(0,b.length-y),w=this.zg),c=b.lastIndexOf(this.Px),-1!==c&&c===b.length-e&&(a.Ne=!0,b=b.substr(0,b.length-e),w=this.dh),u=b.indexOf("/"),-1===u&&(u=b.indexOf("_")),-1!==u&&(c=b.lastIndexOf("/"),-1===c&&(c=b.lastIndexOf("_")),c!==u&&(r=b.substring(c+1),b=b.substr(0,c),d=b.lastIndexOf(this.Qt),-1!==d&&d===b.length-z&&(a.P=!0,a.ie=this.Kn,b=b.substr(0,b.length-z),w=this.Vd),d=b.lastIndexOf(this.Pt),-1!==d&&d===b.length-x&&(a.P=!0,a.ie=this.tp,b=
b.substr(0,b.length-x),w=this.Ud),d=b.lastIndexOf(this.Rt),-1!==d&&d===b.length-B&&(a.P=!0,a.ie=this.up,b=b.substr(0,b.length-B),w=this.Wd),c=b.lastIndexOf(this.Tv),-1!==c&&c===b.length-y&&(a.U=!0,b=b.substr(0,b.length-y),w=this.zg),c=b.lastIndexOf(this.Px),-1!==c&&c===b.length-e&&(a.Ne=!0,b=b.substr(0,b.length-e),w=this.dh))),b===this.Je)a.Fa=!0,a.i=256,l=!0;else{y=b.indexOf("b");z=b.indexOf("s");-1===u?0===y||0===z?-1===z?(n=b,p=""):-1===y?(p=b,n=""):y<z&&-1!==z?(n=b.substring(y+1,z),p=b.substring(z+
1)):(p=b.substring(z+1,y),n=b.substring(y+1)):this.D="Unsupported rule name":(-1===y&&-1!==z?y=u:-1!==y&&-1===z&&(z=u),y<z?(n=b.substring(0,u),p=b.substring(u+1)):(n=b.substring(u+1),p=b.substring(0,u)));-1!==y&&n&&"b"===n[0]&&(n=n.substring(1));-1!==z&&p&&"s"===p[0]&&(p=p.substring(1));if(null!==r)if(A=0,-1!==a.i)this.D="Generations defined twice",n=null;else{a.i=0;A<r.length&&("g"===r[A].toLowerCase()||"c"===r[A].toLowerCase())&&(A+=1);for(C=0;A<r.length&&-1!==C;)C="0123456789".indexOf(r[A]),-1!==
C?a.i=10*a.i+C:(this.D="Illegal character in generations number",a.i=-1,n=null),A+=1;-1!==a.i&&(2>a.i||256<a.i)&&(this.D="Generations number must be 2-256",a.i=-1,n=null)}if(null!==n&&null!==p){l=!0;for(A=0;A<n.length;)C=w.indexOf(n[A]),-1===C?(this.D="Illegal character in birth specification",l=!1,A=n.length):A+=1;if(l)for(A=0;A<p.length;)C=w.indexOf(p[A]),-1===C?(this.D="Illegal character in survival specification",l=!1,A=p.length):A+=1}}}l&&-1===a.je&&!1===a.te&&!1===a.pa&&(a.I=this.vi(a,n,p,t,
f),""!==this.D&&(l=!1),2===a.i&&(a.i=-1));l?this.pi(a,t):(a.wP=!1,a.pa=!1,a.i=-1,a.Fa=!0);return l};h.prototype.Mp=function(a,b,d,f){var l=0,n=b.length-1,p=!1,r=!0,w,u=0,y=0,z=0,x=0,B=this.cp;for(w=b[l];!p;){var c=w;w=b[l+1];var m=-1;switch(c){case "0":case "1":case "2":case "3":case "4":case "5":case "6":case "7":case "8":case "9":x=10*x+parseInt(c,10);break;case "b":m=0;break;case "o":m=1;break;case ".":m=0;break;case "z":m=7;a.Ic=!0;a.fq=!0;break;case "$":0===x&&(x=1);z+=x;x=0;y>u&&(u=y);y=0;break;
case "!":0===x&&(x=1);z+=x;x=0;y>u&&(u=y);p=!0;break;default:r=!1,"A"<=c&&"X">=c?(r=!0,m=c.charCodeAt(0)-64):"p"<=c&&"y">c?"A"<=w&&"X">=w?(r=!0,m=24*(c.charCodeAt(0)-111)+(w.charCodeAt(0)-64),l+=1,w=b[l+1]):"x"===c&&(r=!0,a.Ic=!0,a.fq=!0,m=3):"y"===c&&("A"<=w&&"O">=w?(r=!0,m=24*(c.charCodeAt(0)-111)+(w.charCodeAt(0)-64),l+=1,w=b[l+1]):(r=!0,a.Ic=!0,a.fq=!0,m=5))}if(0<=m)if(0===x&&(x=1),d||(0===B[m]&&(a.Qs+=1),B[m]+=x,m>=a.Cd&&(a.Cd=m+1)),0<m&&d)for(;0<x;){a.rh[z][y]=-1===a.i?m:2===a.i?1===m?LifeConstants.Pa:
0:m<a.i?m:1;if(!a.Ic&&!a.V&&-1===a.i&&1===m||(a.Ic||a.V)&&m&1||-1!==a.i&&1===m)a.Pe[z][y>>4]|=1<<(~y&15);y+=1;--x}else y+=x,x=0;r||(" "===c||"\t"===c||"\n"===c?r=!0:(this.D="Illegal character in pattern: "+c,this.T=p=a.ro=!0));l+=1;l===n&&(p||(0===x&&(x=1),z+=x,x=0,y>u&&(u=y)),p=!0)}d||(0===u&&(z=u=1),a.width=u,a.height=z,16384<u||16384<z?a.Jg=!0:(a.Pe=Array.ka(Uint16,z,(u-1>>4)+1,0,f,"Pattern.lifeMap"),a.rh=Array.ka(Uint8,z,u,0,f,"Pattern.multiStateMap")),a.Nj="RLE");a.ro&&(l=-1);return l};h.prototype.Om=
function(a,b){var d=b.indexOf("\n");-1===d&&(d=b.length);a.xG=b.substring(0,d).trim()};h.prototype.hd=function(a,b,d){for(var f=!1;b<d&&!f;)" "===a[b]?b+=1:f=!0;return b};h.prototype.ym=function(a){var b=a.indexOf("\n"),d=0,f=!1,l=!1,n=0;-1===b&&(b=a.length);for(;n<b&&!f;)"="===a[n]?f=!0:" "!==a[n]?f=!0:n+=1;if(f&&"="===a[n]){n=this.hd(a,n+1,b);n<b&&"-"===a[n]&&(l=!0,n+=1);for(f=!1;n<b&&!f;){var p="0123456789".indexOf(a[n]);-1!==p?(d=10*d+p,n+=1):f=!0}this.xl=!0;l&&(d=-d);this.Tz=d}};h.prototype.lf=
function(a,b){var d=a.indexOf("\n"),f=0,l=0,n=!1,p=!1,r=!1,w=0;-1===d&&(d=a.length);if(b){for(;w<d&&!r;)"="===a[w]?r=!0:" "!==a[w]?r=!0:w+=1;r&&"="===a[w]&&(w+=1)}else r=!0;if(r&&(w=this.hd(a,w,d),w<d)){"-"===a[w]&&(n=!0,w+=1);for(r=!1;w<d&&!r;)b="0123456789".indexOf(a[w]),-1!==b?(f=10*f+b,w+=1):r=!0;this.vh=!0;this.Mw=n?-f:f;w=this.hd(a,w,d);if(w<d&&","===a[w]&&(w=this.hd(a,w+1,d),w<d)){"-"===a[w]&&(p=!0,w+=1);for(r=!1;w<d&&!r;)b="0123456789".indexOf(a[w]),-1!==b?(l=10*l+b,w+=1):r=!0;this.Nw=p?-l:
l}}};h.prototype.ti=function(a){var b=a.indexOf("XRLE");0===b&&(b=a.indexOf("Pos"),-1!==b&&this.lf(a.substr(b+3),!0),b=a.indexOf("Gen"),-1!==b&&this.ym(a.substr(b+3)))};h.prototype.Lm=function(a,b){var d=b.indexOf("\n");-1===d&&(d=b.length);a.name=b.substring(0,d).trim()};h.prototype.Hd=function(a,b,d,f){var l=d.indexOf("\n");-1===l&&(l=d.length);" "===d[0]&&(b+=" ");d=""+d.substring(0,l).trim();a.title+=d+" ";f?a.Kg+=b+d+"\n":a.Fc+=b+d+"\n";return l+1};h.prototype.G=function(a){var b=-1;a+=" ";var d=
"0123456789".indexOf(a[this.index]);if(-1!==d)for(b=0;-1!==d;)b=10*b+d,this.index+=1,d="0123456789".indexOf(a[this.index]);return b};h.prototype.jk=function(a,b){b=this.G(b);a.kf=b;a.Tg=b};h.prototype.lk=function(a,b){var d=this.G(b),f=-1,l=0,n=0;if(-1!==d){var p=b[this.index];if("-"===p||"+"===p)this.index+=1,l=this.G(b),-1===l?d=-1:"-"===p&&(l=-l);if(","===b[this.index])if(this.index+=1,f=this.G(b),-1===f)d=-1;else{if(p=b[this.index],"-"===p||"+"===p)this.index+=1,n=this.G(b),-1===n?d=-1:"-"===
p&&(n=-n)}else f=d}0!==l&&0!==n&&(d=-1);0===d&&0===f&&(d=-1);0===l&&0===n||0!==d&&0!==f||(d=-1);a.kf=d;a.Tg=f;a.Wr=l;a.Wp=n};h.prototype.gj=function(a,b){var d=this.G(b),f=-1,l=0,n=0,p=!1,r=!1;if(-1!==d){var w=b[this.index];"*"===w&&(p=!0,this.index+=1,w=b[this.index]);if("-"===w||"+"===w)l=this.G(b),-1===l?d=-1:"-"===w&&(l=-l),this.index+=1,w=b[this.index];if(","===w)if(this.index+=1,f=this.G(b),-1===f)d=-1;else{if(w=b[this.index],"*"===w&&(r=!0,this.index+=1,w=b[this.index]),"-"===w||"+"===w)this.index+=
1,n=this.G(b),-1===n?d=-1:"-"===w&&(n=-n)}else f=d}p&&r&&(d=-1);0!==l&&0!==n&&(d=-1);if(p&&0!==n||r&&0!==l)d=-1;if(0===d||0===f)d=-1;p||r||(r=!0);a.kf=d;a.Tg=f;a.Wr=l;a.Wp=n;a.Yz=p;a.Nv=r};h.prototype.Oh=function(a,b){var d=this.G(b),f=-1;-1!==d&&(","===b[this.index]?(this.index+=1,f=this.G(b),-1===f&&(d=-1)):f=d);a.kf=d;a.Tg=f};h.prototype.hk=function(a,b){var d=this.G(b),f=-1;-1!==d&&(","===b[this.index]?(this.index+=1,f=this.G(b),-1===f&&(d=-1)):f=d);0===d&&0===f&&(d=-1);a.kf=d;a.Tg=f};h.prototype.Lh=
function(a,b){var d=!1;b=this.pf(b).toLowerCase();if(""!==b){a.tc="ptkcs".indexOf(b[0]);if(-1!==a.tc)if(this.index=1,2!==a.tc&&-1!==b.indexOf("*"))a.kf=-1;else switch(a.tc){case 0:this.hk(a,b);break;case 1:this.lk(a,b);break;case 2:this.gj(a,b);break;case 3:this.Oh(a,b);break;case 4:this.jk(a,b);break;default:a.kf=-1}this.index!==b.length&&(a.kf=-1);-1!==a.kf?d=!0:(a.tc=-1,this.D="Invalid bounded grid definition '"+b.toUpperCase()+"'")}return d};h.prototype.ec=function(a,b,d,f){var l,n,p=null;if(d[b]===
a){for(b+=1;b<f&&" "===d[b];)b+=1;for(b<f&&"="===d[b]&&(b+=1);b<f&&" "===d[b];)b+=1;a=0;var r=l=!1;"-"===d[b]&&(b+=1,r=!0);for(n=d[b].charCodeAt(0);b<f&&48<=n&&57>=n;)a=10*a+(n-48),b+=1,l=!0,b<f&&(n=d[b].charCodeAt(0));for(l&&(p=r?-a:a);b<f&&" "===d[b];)b+=1;for(b<f&&","===d[b]&&(b+=1);b<f&&" "===d[b];)b+=1}return[p,b]};h.prototype.ik=function(a,b){this.Zk=this.$k=-1;var d=this.ec("x",0,a,b);var f=d[1];d[0]&&(this.$k=d[0]);d=this.ec("y",f,a,b);f=d[1];d[0]&&(this.Zk=d[0]);d=this.ec("h",f,a,b);f=d[1];
d[0]&&(this.Mw=d[0],this.vh=!0);d=this.ec("v",f,a,b);d[0]&&(this.Nw=d[0])};h.prototype.Ie=function(a,b,d,f){var l=b.indexOf("\n"),n=b.indexOf("rule"),p="";-1===l&&(l=b.length);this.ik(b,l);-1===n?d?p="":p=b.substring(1,l).trim():(p=b.substring(n+4,l).trim(),"="===p[0]&&(p=p.substring(1).trim()));a.Rs=p;a.I=p;d=p.indexOf(":");b=p.lastIndexOf(":");-1!==b&&d===b&&null!==AliasManager.Vz(a.I)&&(b=-1);-1!==b&&(this.Lh(a,p.substring(b+1))?p=p.substr(0,b).trim():b=-2);n=p.toLowerCase().lastIndexOf("history");
-1!==n&&n===p.length-7&&(a.Ic=!0,p=p.substr(0,p.length-7).trim());n=p.indexOf("|");-1!==n&&"history"===p.toLowerCase().substr(0,n).trim().substr(-7)&&(a.Ic=!0,d=p.substr(0,n).trim(),p=d.substr(0,d.length-7)+p.substr(n));a.Ic||(n=p.toLowerCase().lastIndexOf("super"),-1!==n&&n===p.length-5&&(a.V=!0,p=p.substr(0,p.length-5).trim()),n=p.indexOf("|"),-1!==n&&"super"===p.toLowerCase().substr(0,n).trim().substr(-5)&&(a.V=!0,d=p.substr(0,n).trim(),p=d.substr(0,d.length-5)+p.substr(n)));-2!==b&&this.ab(a,
p,f)?this.Ha=!0:this.wl=!0;return l+1};h.prototype.yE=function(a){switch(a){case 0:a="Plane";break;case 1:a="Torus";break;case 2:a="Klein bottle";break;case 3:a="Cross-surface";break;case 4:a="Sphere";break;default:a="(unknown)"}return a};h.prototype.He=function(a,b,d){var f=0,l=b.length,n=!1,p=!1;var r=this.cp;var w=4;a.la=!1;a.Fa=!1;a.tc=-1;a.width=0;a.height=0;a.Jg=!1;a.Pe=null;a.rh=null;a.ro=!1;a.Ic=!1;a.V=!1;a.fq=!1;a.U=!1;a.je=-1;a.Ne=!1;a.i=-1;a.te=!1;a.dd=-1;a.Jj=1;a.me=-1;a.zf=-1;a.De=-1;
a.kg=-1;a.pa=!1;a.Ze=null;a.eg=null;a.ee=-1;a.title="";a.Fc="";a.Kg="";a.Cd=2;a.Qs=0;r.fill(0);for(b+=" ";f<l&&!a.ro;)switch(r=b[f],r){case "#":f+=1;r=b[f];f+=1;switch(r){case "N":this.Lm(a,b.substring(f));break;case "O":this.Om(a,b.substring(f));break;case "C":this.ti(b.substring(f));break;case "P":case "R":this.lf(b.substring(f),!1);break;case "\n":--f}f="\n"===r?f+this.Hd(a,"#",b.substring(f),n):f+this.Hd(a,"#"+r,b.substring(f),n);break;case "x":f+=this.Ie(a,b.substring(f),!0,d);p=!0;break;case "\n":f+=
1;break;default:n?f+=this.Hd(a,"",b.substring(f),!0):(n=!0,r=this.Mp(a,b.substring(f),!1,d),-1!==r&&(f=a.Jg?f+r:f+this.Mp(a,b.substring(f),!0,d)))}p||(this.ab(a,"",d)?this.Ha=!0:this.wl=!0);a.te&&this.gn(a,d);!a.pa||a.vb!==this.Ki&&a.vb!==this.ni&&a.vb!==this.Th&&(15!==a.vb&&10!==a.vb||"H"!==a.kh)||(a.U=!0);!a.pa||a.vb!==this.cj&&(15!==a.vb&&10!==a.vb||"L"!==a.kh)||(a.P=!0);a.V&&(a.i=26);-1!==a.tc&&(a.pa&&(w=6*a.ee),a.te&&(w=6*a.dd),a.kf>=16384-w||a.Tg>=16384-w)&&(this.D="Bounded grid is too big",
this.Ha=!1,a.tc=-1);!a.te||""!==this.D||(1<a.tc&&(this.D="LtL only supports Plane or Torus",this.Ha=!1,a.tc=-1),0===a.De&&-1===a.tc&&(this.D="LtL does not support B0 unbounded",this.Ha=!1),0!==a.tc&&1!==a.tc)||0!==a.kf&&0!==a.Tg||(this.D="LtL bounded grid must be finite",this.Ha=!1,a.tc=-1);a.P&&-1!==a.tc&&(0!==(a.kf&1)?(this.D="Bounded grid width must be even",this.Ha=!1,a.tc=-1):0!==(a.Tg&1)&&(this.D="Bounded grid height must be even",this.Ha=!1,a.tc=-1));a.L&&0!==this.Tj[0]&&(this.D="PCA first value must be 0",
this.Tj[0]=0,this.Ha=!1);a.la&&(15===this.Tj[0]&&0!==this.Tj[15]?(this.D="Margolus last value must be 0 when first is 15",this.Ha=!1):0!==this.Tj[0]&&15!==this.Tj[0]&&(this.D="Margolus first value must be 0 or 15",this.Ha=!1));!a.pa||""!==this.D||(1<a.tc&&(this.D="HROT only supports Plane or Torus",this.Ha=!1,a.tc=-1),a.Ze&&1===a.Ze[0]&&-1===a.tc&&(this.D="HROT does not support B0 unbounded",this.Ha=!1),0!==a.tc&&1!==a.tc)||0!==a.kf&&0!==a.Tg||(this.D="HROT bounded grid must be finite",this.Ha=!1,
a.tc=-1);a.Fa&&a.Ic&&""===this.D&&(this.D="[R]History not valid with none rule",this.Ha=a.Ic=!1);a.Fa&&a.V&&""===this.D&&(this.D="[R]Super not valid with none rule",this.Ha=a.Ic=!1);a.P&&a.V&&""===this.D&&(this.D="[R]Super not valid with triangular rule",this.Ha=a.Ic=!1);-1===a.i||!a.Ic||a.te||a.pa||(this.D="[R]History not valid with Generations",this.Ha=a.Ic=!1);-1===a.i||!this.Tj[0]||a.te||a.pa||(this.D="Generations does not support B0",this.Ha=!1);a.te&&a.Ic&&(this.D="[R]History not valid with LtL",
this.Ha=a.Ic=!1);a.te&&a.V&&(this.D="[R]Super not valid with LtL",this.Ha=a.V=!1);a.pa&&a.Ic&&(this.D="[R]History not valid with HROT",this.Ha=a.Ic=!1);a.pa&&a.V&&(this.D="[R]Super not valid with HROT",this.Ha=a.V=!1);a.la&&a.Ic&&(this.D="[R]History not valid with Margolus",this.Ha=a.Ic=!1);a.la&&a.V&&(this.D="[R]Super not valid with Margolus",this.Ha=a.V=!1);a.la&&-1!==a.tc&&(-1!==a.Tg&&0!==(a.Tg&1)&&(this.D="Bounded grid height must be even",a.tc=-1,this.Ha=!1),-1!==a.kf&&0!==(a.kf&1)&&(this.D=
"Bounded grid width must be even",a.tc=-1,this.Ha=!1));this.Ha&&(a.fq?8<a.Cd&&(this.D="Illegal state in pattern for Niemiec",this.Ha=!1,this.T=!0):a.Ic?7<a.Cd&&(this.D="Illegal state in pattern for [R]History",this.Ha=!1,this.T=!0):a.V?26<a.Cd&&(this.D="Illegal state in pattern for [R]Super",this.Ha=!1,this.T=!0):-1!==a.i&&a.Cd>a.i&&(this.D=a.te?"Illegal state in pattern for LtL":a.pa?"Illegal state in pattern for HROT":a.L?"Illegal state in pattern for PCA":"Illegal state in pattern for Generations",
this.T=!0,this.Ha=!1))};h.prototype.fj=function(a,b){var d=!0,f=!1,l=0,n=0,p=0,r=0,w=0,u=!0,y=k.sC,z=null,x=[],B={},c=null;b.vn();var m=b.W();for(""!==m&&"@"===m[0]&&(m="");d&&""!==m;){for(;d&&!f&&""!==m;){if("/"===m[0])b.vn();else if("xpm"===m.toLowerCase())b.vn();else if('"'===m[0])m=m.substr(1),b.Hm(m)&&(l=b.Qy(m),b.N()&&(n=b.O(),b.N()&&(p=b.O(),m=b.W(),'"'===m[m.length-1]&&(m=m.substr(0,m.length-1),b.Hm(m)&&(r=b.Qy(m)))))),0<l&&0<n&&1<=r&&2>=r&&0===n%l?7!==l&&15!==l&&31!==l?f=!1:(f=!0,w=0,z=new Uint16Array(l*
n),c=new Uint32Array(p)):d=!1;else switch(m){case "circles":y=k.ON;B={};z=[];c=[];break;case "diamonds":y=k.PN;B={};z=[];c=[];break;case "hexagons":y=k.QN;B={};z=[];c=[];break;case "triangles":y=k.SN,B={},z=[],c=[]}for(;b.rq();)b.W();m=b.W();""!==m&&"@"===m[0]&&(m="")}for(;d&&f&&""!==m;){if("/"===m[0])b.vn();else{if('"'===m[0])if(d=!1,w<p){var e=m.substr(1);if(e.length===r&&void 0===B[e]&&(m=b.W(),"c"===m&&(m=b.W(),'"'===m[m.length-1]))){d=m.substr(0,m.length-1);d=parseInt(d,16);B[e]=w;c[w]=d;if(d>>
16!==(d>>8&255)||d>>16!==(d&255))u=!1;d=!0}}else{if(d=!1,'"'===m[m.length-1]&&m.length-2===l*r){m=m.substr(1,m.length-2);var t=0;for(d=!0;d&&t<l;)e=m[t*r],1<r&&(e+=m[t*r+1]),void 0===B[e]?d=!1:z[(w-p)*l+t]=B[e],t+=1}}else w===n+p?(f=!1,x[x.length]={Wy:y,width:l,height:n,rG:p,Uu:c.slice(),HL:z.slice(),vF:u},B={},z=null,u=!0,y=k.sC):d=!1,b.OH();w+=1}for(;b.rq();)b.W();m=b.W();""!==m&&"@"===m[0]&&(m="")}}d?w===n+p?(x[x.length]={Wy:y,width:l,height:n,rG:p,Uu:c.slice(),HL:z.slice(),vF:u},a.fe=x):a.fe=
null:a.fe=null};h.prototype.lj=function(a,b){var d=a.Cd,f=[],l=0,n,p=!1;b.vn();b.N()&&(l=b.O(),0<=l&&l<d&&(p=!0));for(;p;){p=!1;for(n="";!b.rq();)""===n?n=b.W():n+=" "+b.W();f[l]=n;b.vn();b.N()&&(l=b.O(),0<=l&&l<d&&(p=!0))}a.Qq=f};h.prototype.Nh=function(a,b){var d=a.Cd;a=a.xe;var f=0,l=0,n=0,p=0,r=!1;b.vn();b.N()&&(f=b.O(),r=!0);for(;r;){r=!1;b.N()&&(l=b.O(),b.N()&&(n=b.O(),b.N()&&(p=b.O(),r=!0)));if(r)if(b.N()&&b.SK()){var w=b.O();var u=b.O();0<=f&&255>=f&&0<=l&&255>=l&&0<=n&&255>=n&&0<=p&&255>=
p&&0<=w&&255>=w&&0<=u&&255>=u?this.Ee(a,f,l,n,p,w,u):r=!1}else 0<=f&&f<d&&0<=l&&255>=l&&0<=n&&255>=n&&0<=p&&255>=p?a[f]=l<<16|n<<8|p:r=!1;r&&(b.vn(),b.N()?f=b.O():r=!1)}};h.prototype.Td=function(a,b,d,f,l,n){var p=!1,r=a.length;var w=f.length;var u=w%32;var y=1<<u,z=(w-u)/32;if(null!==n)for(w=0;!p&&w<n.length;){var x=n[w];if(x.vq===b)for(u=0,p=!0;p&&u<a.length;)0!==this.dc(a[u],x.inputs[u])&&(p=!1),u+=1;w+=1}if(!p){null!==n&&(x={inputs:[],vq:b},x.inputs=a.slice(),n[n.length]=x);f[f.length]=b;if(z>=
d.Zg){for(w=0;w<r;w+=1)for(u=0;u<d.Cg;u+=1)l[w][u][l[w][u].length]=0;d.Zg+=1}for(w=0;w<r;w+=1)for(b=a[w],u=0;u<b.length;u+=1)l[w][b[u]][z]|=y}return p};h.prototype.ol=function(a){var b=a.length,d=b-2,f=b-1,l=!1;if(1<b){for(;0<=d&&0<=this.dc(a[d],a[d+1]);)--d;if(0<d){for(l=!0;f>=d&&0>=this.dc(a[f],a[d]);)--f;var n=a[d];a[d]=a[f];a[f]=n;var p=(b-(d+1))/2|0;for(f=0;f<p;f+=1)n=a[b-f-1],a[b-f-1]=a[d+1+f],a[d+1+f]=n}}return l};h.prototype.dc=function(a,b){var d=0,f=a.length;if(f===b.length){for(;d<f&&a[d]===
b[d];)d+=1;return d===f?0:a[d]-b[d]}return f-b.length};h.prototype.vm=function(a,b,d,f,l){var n,p,r,w=[],u=[],y=[],z=0;for(n=0;n<d;n+=1)for(y[n]=[],p=0;p<l.Cg;p+=1)y[n][p]=[];for(n=l.Zg=0;n<f.length;n+=1){var x=f[n].inputs;var B=f[n].vq;if(0===a)this.Td(x,B,l,u,y,null);else if(a===b-1){w=x.slice(1).sort(this.dc);for(p=0;p<w.length;p+=1)x[p+1]=w[p];do this.Td(x,B,l,u,y,null);while(this.ol(x))}else{var c=this.Fb[l.Uj][a-1];var m=[];for(p=0;p<c.length;p+=1){for(r=0;r<x.length;r+=1)w[r]=x[c[p][r]];this.Td(w,
B,l,u,y,m)&&(z+=1)}}}l.$g=[];for(n=0;n<d;n+=1)for(l.$g[n]=[],p=0;p<l.Cg;p+=1)l.$g[n][p]=new Uint32Array(y[n][p].length),l.$g[n][p].set(y[n][p]);l.ge=new Uint8Array(u.length);l.ge.set(u);l.Ll=z};h.prototype.kk=function(a,b){var d=-1,f=-1,l=-1,n=0,p,r="",w={},u=0,y=0,z=[],x=null,B;var c=0;for(B=!0;B&&3>c;){var m=b.oF();switch(m.toLowerCase()){case this.Cg:B=!1;":"===b.W()?b.N()?(d=b.O(),2<=d&&256>=d?B=!0:this.D=this.Cg+" must be from 2 to 256"):this.D=this.Cg+" must be numeric":this.D=this.Cg+" missing :";
break;case "neighborhood":B=!1;if(":"===b.W()){m=b.W();var e=!1;for(p=0;!e&&p<this.na.length;)m.toLowerCase()===this.na[p]?(f=p,n=this.zb[p],e=!0,x=new Int32Array(n+1)):p+=1;B=e;e||(this.D="neighborhood invalid")}else this.D="neighborhood missing :";break;case "symmetries":B=!1;if(-1!==f)if(":"===b.W()){m=b.W();e=!1;for(p=0;!e&&p<this.Ba[f].length;)m.toLowerCase()===this.Ba[f][p]?(l=p,e=!0):p+=1;B=e;e||(this.D="symmetries invalid")}else this.D="symmetries missing :";else this.D="symmetries must follow neighborhood";
break;default:B=!1}c+=1}if(-1===d||-1===f||-1===l)""===this.D&&(this.D=-1===d?"missing "+this.Cg:-1===f?"missing neighborhood":"missing symmetries"),B=!1;b.sx();m=b.W();for(""!==m&&"@"===m[0]&&(m="");B&&""!==m;){if("var"===m.toLowerCase()){B=!1;r=b.W();var t=[];if("="===b.W())for(B=!0;B&&!b.rq();)if(b.N())p=b.O(),0<=p&&p<=d?t[t.length]=p:(B=!1,this.D="out of range value: "+r+"="+p);else{var A=b.W();if(void 0!==w[A])for(c=0;c<w[A].length;c+=1)t[t.length]=w[A][c];else B=!1,this.D="var unknown assignment: "+
r+"="+A}else this.D="missing =: "+r;B&&(w[r]=t,u+=1)}else if(10>=d&&0===u&&b.rq()){if(t=[],B=!1,m.length===n+1){c=0;for(B=!0;B&&c<n;)A=m.charCodeAt(c),48<=A&&A<48+d?(t[t.length]=[A-48],c+=1):(this.D="expected only digits: "+m,B=!1);B&&(A=m.charCodeAt(c),48<=A&&A<48+d?(y=A-48,z[z.length]={inputs:t,vq:y}):(this.D="expected only digits: "+m,B=!1))}}else{B=!1;A=[];A[0]=m;x[0]=b.Hm(m)?parseInt(m,10):-1;for(c=1;b.pM();)c<n+1?b.N()?(x[c]=b.O(),A[c]=""):(x[c]=-1,A[c]=b.W()):A[c]=b.W(),c+=1;if(A.length===
n+1){m=[];for(r in w){for(c=B=0;c<A.length;c+=1)r===A[c]&&(B+=1);1<B&&(m[m.length]=r)}t=[];var C={};for(c=0;c<m.length;c+=1)C[m[c]]=0;for(B=!0;;){for(c=0;c<n;c+=1)if(e=!1,p=x[c],-1!==p)p>=d?(this.D="state out of range: "+p,B=!1):t[c]=[p];else{var D=A[c];if(m.length)for(p=0;!e&&p<m.length;)m[p]===D?e=!0:p+=1;0<m.length&&e?t[c]=[w[D][C[D]]]:void 0!==w[D]?t[c]=w[D]:(this.D="unknown variable: "+D,B=!1)}e=!1;p=x[c];if(-1!==p)0>p||p>=d?(this.D="output state out of range: "+p,B=!1):y=p;else{D=A[c];if(0<
m.length)for(p=0;!e&&p<m.length;)m[p]===D?e=!0:p+=1;0<m.length&&e?y=w[D][C[D]]:void 0!==w[D]?y=w[D]:(this.D="unknown output variable: "+D,B=!1)}z[z.length]={inputs:t.slice(),vq:y};for(c=0;c<m.length;c+=1)if(C[m[c]]<w[m[c]].length-1){C[m[c]]+=1;break}else C[m[c]]=0;if(c>=m.length)break}}}b.sx();m=b.W();""!==m&&"@"===m[0]&&(b.OH(),m="")}B&&(null===a.A&&(a.A=new Allocator),a.Cg=d,a.Uj=f,a.U=f===k.Ml?!0:!1,this.vm(l,this.Ba[f].length,n,z,a),a.Cd=a.Cg,this.D="",this.Ha=!0,this.wl=!1,a.Fa=!1,this.Fe(a,
a.Cg));return B};h.prototype.Ee=function(a,b,d,f,l,n,p){var r=a.length,w;a[0]=0;for(w=1;w<r;w+=1){var u=2===r?0:(w-1)/(r-2);a[w]=(l*u+b*(1-u)|0)<<16|(n*u+d*(1-u)|0)<<8|p*u+f*(1-u)|0}};h.prototype.Fe=function(a,b){a.xe=new Uint32Array(b);this.Ee(a.xe,255,0,0,255,255,0)};h.prototype.Im=function(a){return(new RegExp("neighborhood *: *"+this.na[k.Ml])).test(a.source)};h.prototype.mk=function(a,b){var d,f=-1,l=-1,n=-1,p=null,r=0,w=null,u=0,y=null,z=0,x=null,B=0,c=0,m=0;var e=0;for(d=!0;d&&3>e;){d=b.oF();
switch(d.toLowerCase()){case this.Te:d=!1;"="===b.W()?b.N()?(f=b.O(),2<=f&&256>=f?d=!0:this.D=this.Te+" must be from 2 to 256"):this.D=this.Te+" must be numeric":this.D=this.Te+" missing =";break;case this.Dg:d=!1;"="===b.W()?b.N()?(l=b.O(),4===l||8===l?d=!0:this.D=this.Dg+" must be 4 or 8"):this.D=this.Dg+" must be numeric":this.D=this.Dg+" missing =";break;case this.ji:d=!1;"="===b.W()?b.N()?(n=b.O(),n>=l&&1E8>=n?d=!0:this.D=this.ji+" out of range"):this.D=this.ji+" must be numeric":this.D=this.ji+
" missing =";break;default:d=!1}e+=1}if(-1===f||-1===l||-1===n)""===this.D&&(this.D=-1===f?"missing "+this.Te:-1===l?"missing "+this.Dg:"missing "+this.ji),d=!1;d&&(p=new Uint32Array(n*f),w=new Uint8Array(n*f),y=new Uint32Array(n),x=new Uint32Array(n));for(b.sx();d&&b.N();){z>n?d=!1:(c=b.O(),m=0,y[z]=1===c?u:r,z+=1,x[B]=c,B+=1);for(;d&&b.N();)e=b.O(),1===c?0>e||e>=f?(this.D="bad state value in tree data: "+e,d=!1):(w[u]=e,u+=1):0>e||e>y.length?(this.D="bad node value in tree data: "+e,d=!1):x[e]!==
c-1?(this.D="bad node pointer in tree data: "+c,d=!1):(p[r]=y[e],r+=1),m+=1;d&&m!==f&&(this.D="bad number of values on tree data line",d=!1);b.sx()}d&&(r+u!==n*f?(this.D="bad count of values in tree data",d=!1):c!==l+1?(this.D="bad last node (wrong level)",d=!1):a.Cd>f&&(d=!1,this.D="illegal state in pattern"));d&&(null===a.A&&(a.A=new Allocator),a.Dg=l,a.Te=f,a.ji=n,a.Nl=y[y.length-1],a.Uk=p.slice(0,r),a.Vk=w.slice(0,u),a.uC=this.Im(b),a.U=a.uC,a.Cd=a.Te,this.D="",this.Ha=!0,this.wl=!1,a.Fa=!1,this.Fe(a,
a.Te));return d};h.prototype.ZE=function(a,b){var d=!1,f=new Script(b,!0);a.C.jx="";a.C.D="";b=f.Tp("@RULE",-1);if(-1!==b&&!f.rq()){a.tC=f.W();var l=f.Tp("@TREE",-1);-1!==l?(d=this.mk(a,f))?a.I=a.tC:(""===a.C.D&&(a.C.D="not valid"),a.C.D="@TREE "+a.C.D):(l=f.Tp("@TABLE",0),-1!==l?(d=this.kk(a,f))?a.I=a.tC:(""===a.C.D&&(a.C.D="not valid"),a.C.D="@TABLE "+a.C.D):a.C.D="@TABLE and @TREE not found");l=f.current-1;d&&(d=f.Tp("@COLORS",0),-1!==d&&(this.Nh(a,f),f.current-1>l&&(l=f.current-1)),d=f.Tp("@ICONS",
0),-1!==d&&(this.fj(a,f),f.current-1>l&&(l=f.current-1)),d=f.Tp("@NAMES",0),-1!==d&&(this.lj(a,f),f.current-1>l&&(l=f.current-1)));""===a.C.D&&(a.C.jx=f.aL(b,l))}};h.prototype.create=function(a,b,d,f,l,n,p){a=new g(a,this);this.Ha=this.wl=this.Jg=this.T=this.jw=!1;this.D="";this.index=0;this.xl=!1;this.Tz=0;this.vh=!1;this.Nw=this.Mw=0;this.Zk=this.$k=-1;this.oc=!1;if("!"===b.substr(0,1)||"O"===b.substr(0,1)||"."===b.substr(0,1)||"*"===b.substr(0,1)||"o"===b.substr(0,1))this.Mh(a,b,d),this.Ha=!0;
null===a.Pe&&(this.Ha=!1,"#Life 1.05"===b.substr(0,10)?this.Ge(a,b,!0,d):"#Life 1.06"===b.substr(0,10)?(this.Kh(a,b,d),this.Ha=!0):"#"===b[0]||"x"===b[0]?(this.He(a,b,d),null!==a.Pe||a.Jg||a.ro||(this.Ge(a,b,!1,d),this.wl=!1,a.rh=null,a.Ic=!1,a.V=!1,a.Cd=2,a.Qs=0)):this.He(a,b,d));a.Jg&&(this.D="Pattern too big (maximum 16384x16384)",this.Jg=!0,a.ro=!1,a.width=1,a.height=1,a.Pe=Array.ka(Uint16,a.height,(a.width-1>>4)+1,0,d,"Pattern.lifeMap"));-1!==a.tc?(b=a.I.lastIndexOf(":"),a.Fp=a.I.substr(b),a.I=
a.I.substr(0,b)):a.Fp="";null===a.Pe&&""===this.D&&(this.D="Invalid pattern",a=null,this.Ha=!1);a&&a.ro&&!a.Jg&&(a=null,this.Ha=!1);a&&(""!==a.Fc&&"\n"!==a.Fc[a.Fc.length-1]&&(a.Fc+="\n"),""!==a.Kg&&"\n"!==a.Kg[a.Kg.length-1]&&(a.Kg+="\n"),""!==this.D&&(a.U||a.P)&&null===a.I.match(/[0-9]/)&&(a.U=!1,a.P=!1),""===this.D||this.Jg||this.T||(a.wG=this.D,a.I=a.Rs,-1!==a.tc?(b=a.I.lastIndexOf(":"),a.Fp=a.I.substr(b),a.I=a.I.substr(0,b)):a.Fp="",a.la=!1,a.L=!1,a.Fa=!1,a.Ic=!1,a.V=!1,a.fq=!1,a.U=!1,a.P=!1,
a.je=-1,a.Ne=!1,a.te=!1,a.yI=a.pa,a.pa=!1,q.NF(a)?(f=null===a.ge?a.Te:a.Cg,a.Cd>f?(this.D="Illegal state in pattern",this.T=!0):(a.Cd=f,this.D="",this.Ha=!0,this.wl=!1,a.Fa=!1)):(b=a.Kg.indexOf("@RULE"),-1!==b&&(b=a.Kg.substr(b),this.ZE(a,b)),-1===a.Te&&null===a.ge&&this.jl(a,f,l,n,p))));return a};h.prototype.ZK=function(a){var b=a.indexOf("@RULE");if(-1===b)a="";else{var d=a.indexOf("\x3c!--",b);a=-1===d?0===b?a:a.substr(b):a.substr(b,d-b);a=a.replace(/<li>/g,"# ");a=a.replace(/<[^<]*>/g,"")}return a};
h.prototype.gl=function(a,b,d){if(4===b.readyState)if(200===b.status){b=a.ZK(b.responseText);var f=performance.now()-this.time;this.time=performance.now();if(""===b)d.C.D="@RULE not found",q.fx(d);else{a.ZE(d,b);var l=performance.now()-this.time;-1!==d.Te||null!==d.ge?q.add(d,f,l,b.length,a.jx):q.fx(d)}}else q.fx(d)};h.prototype.hl=function(a){q.fx(a)};h.prototype.jl=function(a,b,d,f,l){var n=this,p=null,r=a.I,w="";r=r.replace(/ /g,"_");w="/wiki/Rule:"+r;this.time=performance.now();this.jw=!0;l?a.A=
l.g.A:a.A=null;q.hJ(a,b,d,f,l)||(p=new XMLHttpRequest,""!==DocConfig.mC&&(w=DocConfig.mC+r+DocConfig.zH),registerEvent(p,"load",function(){n.gl(n,p,a)},!1),registerEvent(p,"error",function(){n.hl(a)},!1),p.open("GET",w,!0),p.send(null))};window.PatternConstants=k;window.PatternManager=h;window.Pattern=g;window.RuleTreeCache=q}(),function(){var v={yz:[48,48,48,0,255,127,127,0,255,148,148,148,128,255,0,255,0,128,0,128,255,1,159,0,159,0,1,255,254,96,0,1,159,96,255,254,254,96,255,126,125,21,21,126,125,
125,21,126,255,116,116,116,255,116,116,116,255,228,227,0,28,255,27,255,27,28,0,228,227,227,0,228,27,28,255,59,59,59,234,195,176,175,196,255,171,194,68,194,68,171,68,171,194,72,184,71,184,71,72,71,72,184,169,255,188,252,179,63,63,252,179,179,63,252,80,9,0,0,80,9,9,0,80,255,175,250,199,134,213,115,100,95,188,163,0,0,188,163,163,0,188,203,73,0,0,203,73,73,0,203,94,189,0,189,0,94,0,94,189,187,243,119,55,125,32,125,32,55,32,55,125,255,102,185,102,185,255,120,209,168,208,166,119,135,96,192,182,255,41,83,
153,130,247,88,55,89,247,55,88,55,247,87,75,0,0,87,75,75,0,87,200,135,59,51,213,127,255,255,162,255,37,182,37,182,255,228,57,117,142,163,210,57,117,228,193,255,246,188,107,123,123,194,107,145,59,5,5,145,59,59,5,145,119,39,198,40,197,23,197,23,40,23,40,197,178,199,158,255,201,121,134,223,223,39,253,84,149,203,15,203,15,149,15,149,203,152,144,90,143,75,139,71,97,132,224,65,219,65,219,224,255,255,40,218,223,69,74,241,0,241,0,74,0,74,241,122,171,51,220,211,227,61,127,87,90,124,176,36,39,13,165,142,255,
255,38,255,38,255,255,83,50,107,224,142,165,255,181,9,9,255,181,181,9,255,140,238,70,255,74,5,74,5,255,138,84,51,31,172,101,177,115,17,221,0,0,0,221,0,0,0,221,220,255,200,0,41,50,255,150,205,178,45,116,113,255,189,47,0,44,40,119,171,205,107,255,177,115,172,133,73,236,109,0,168,168,46,207,188,181,203,212,188,35,90,97,52,39,209,184,41,164,152,227,46,70,46,70,227,211,156,255,98,146,222,136,56,95,102,54,152,86,142,0,142,0,86,0,86,142,86,223,96,246,135,46,4,208,120,212,233,158,177,92,214,104,147,88,149,
240,147,227,93,148,72,255,133,209,27,194,147,255,255,44,93,0,160,36,158,182,233,0,96,94,217,218,103,88,163,154,38,118,114,139,94,0,43,113,164,174,168,188,114,0,23,119,42,86,93,255,226,202,80,191,155,255,158,136,0,247,62,234,146,88,0,183,229,110,212,36,0,143,161,105,191,210,133,164,0,41,30,89,164,0,132,30,89,42,178,222,217,121,22,11,221,107,22,69,151,255,45,158,3,158,3,45,3,45,158,86,42,29,9,122,22,213,209,110,53,221,57,159,101,91,93,140,45,247,213,37,185,34,0,0,185,34,34,0,185,236,0,172,210,180,78,
231,107,221,162,49,43,43,162,49,49,43,162,36,248,213,114,0,214,213,36,248,149,34,243,185,158,167,144,122,224,34,245,149,255,31,98,31,98,255,152,200,193,255,80,95,128,123,63,102,62,72,255,62,148,151,226,108,159,99,255,226,255,126,98,223,136,80,95,255,225,153,15,73,41,211,212,71,41,83,217,187,180,235,79,0,166,127,251,135,243,229,41,0,41,0,229,82,255,216,141,174,249,249,215,255,167,31,79,31,79,167,213,102,185,255,215,83,4,2,40,224,171,220,41,0,4,6,50,90,221,15,113,15,113,221,33,0,115,108,23,90,182,215,
36],xz:[],Og:{aliceblue:["AliceBlue",240,248,255],antiquewhite:["AntiqueWhite",250,235,215],aqua:["Aqua",0,255,255],aquamarine:["Aquamarine",127,255,212],azure:["Azure",240,255,255],beige:["Beige",245,245,220],bisque:["Bisque",255,228,196],black:["Black",0,0,0],blanchedalmond:["BlanchedAlmond",255,235,205],blue:["Blue",0,0,255],blueviolet:["BlueViolet",138,43,226],brown:["Brown",165,42,42],burlywood:["BurlyWood",222,184,135],cadetblue:["CadetBlue",95,158,160],chartreuse:["Chartreuse",127,255,0],chocolate:["Chocolate",
210,105,30],coral:["Coral",255,127,80],cornflowerblue:["CornflowerBlue",100,149,237],cornsilk:["Cornsilk",255,248,220],crimson:["Crimson",220,20,60],cyan:["Cyan",0,255,255],darkblue:["DarkBlue",0,0,139],darkcyan:["DarkCyan",0,139,139],darkgoldenrod:["DarkGoldenRod",184,134,11],darkgray:["DarkGray",169,169,169],darkgreen:["DarkGreen",0,100,0],darkkhaki:["DarkKhaki",189,183,107],darkmagenta:["DarkMagenta",139,0,139],darkolivegreen:["DarkOliveGreen",85,107,47],darkorange:["DarkOrange",255,140,0],darkorchid:["DarkOrchid",
153,50,204],darkred:["DarkRed",139,0,0],darksalmon:["DarkSalmon",233,150,122],darkseagreen:["DarkSeaGreen",143,188,143],darkslateblue:["DarkSlateBlue",72,61,139],darkslategray:["DarkSlateGray",47,79,79],darkturquoise:["DarkTurquoise",0,206,209],darkviolet:["DarkViolet",148,0,211],deeppink:["DeepPink",255,20,147],deepskyblue:["DeepSkyBlue",0,191,255],dimgray:["DimGray",105,105,105],dodgerblue:["DodgerBlue",30,144,255],firebrick:["FireBrick",178,34,34],floralwhite:["FloralWhite",255,250,240],forestgreen:["ForestGreen",
34,139,34],fuchsia:["Fuchsia",255,0,255],gainsboro:["Gainsboro",220,220,220],ghostwhite:["GhostWhite",248,248,255],gold:["Gold",255,215,0],goldenrod:["GoldenRod",218,165,32],gray:["Gray",128,128,128],green:["Green",0,128,0],greenyellow:["GreenYellow",173,255,47],honeydew:["HoneyDew",240,255,240],hotpink:["HotPink",255,105,180],indianred:["IndianRed",205,92,92],indigo:["Indigo",75,0,130],ivory:["Ivory",255,255,240],khaki:["Khaki",240,230,140],lavender:["Lavender",230,230,250],lavenderblush:["LavenderBlush",
255,240,245],lawngreen:["LawnGreen",124,252,0],lemonchiffon:["LemonChiffon",255,250,205],lightblue:["LightBlue",173,216,230],lightcoral:["LightCoral",240,128,128],lightcyan:["LightCyan",224,255,255],lightgoldenrodyellow:["LightGoldenRodYellow",250,250,210],lightgray:["LightGray",211,211,211],lightgreen:["LightGreen",144,238,144],lightpink:["LightPink",255,182,193],lightsalmon:["LightSalmon",255,160,122],lightseagreen:["LightSeaGreen",32,178,170],lightskyblue:["LightSkyBlue",135,206,250],lightslategray:["LightSlateGray",
119,136,153],lightsteelblue:["LightSteelBlue",176,196,222],lightyellow:["LightYellow",255,255,224],lime:["Lime",0,255,0],limegreen:["LimeGreen",50,205,50],linen:["Linen",250,240,230],magenta:["Magenta",255,0,255],maroon:["Maroon",128,0,0],mediumaquamarine:["MediumAquaMarine",102,205,170],mediumblue:["MediumBlue",0,0,205],mediumorchid:["MediumOrchid",186,85,211],mediumpurple:["MediumPurple",147,112,219],mediumseagreen:["MediumSeaGreen",60,179,113],mediumslateblue:["MediumSlateBlue",123,104,238],mediumspringgreen:["MediumSpringGreen",
0,250,154],mediumturquoise:["MediumTurquoise",72,209,204],mediumvioletred:["MediumVioletRed",199,21,133],midnightblue:["MidnightBlue",25,25,112],mintcream:["MintCream",245,255,250],mistyrose:["MistyRose",255,228,225],moccasin:["Moccasin",255,228,181],navajowhite:["NavajoWhite",255,222,173],navy:["Navy",0,0,128],oldlace:["OldLace",253,245,230],olive:["Olive",128,128,0],olivedrab:["OliveDrab",107,142,35],orange:["Orange",255,165,0],orangered:["OrangeRed",255,69,0],orchid:["Orchid",218,112,214],palegoldenrod:["PaleGoldenRod",
238,232,170],palegreen:["PaleGreen",152,251,152],paleturquoise:["PaleTurquoise",175,238,238],palevioletred:["PaleVioletRed",219,112,147],papayawhip:["PapayaWhip",255,239,213],peachpuff:["PeachPuff",255,218,185],peru:["Peru",205,133,63],pink:["Pink",255,192,203],plum:["Plum",221,160,221],powderblue:["PowderBlue",176,224,230],purple:["Purple",128,0,128],rebeccapurple:["RebeccaPurple",102,51,153],red:["Red",255,0,0],rosybrown:["RosyBrown",188,143,143],royalblue:["RoyalBlue",65,105,225],saddlebrown:["SaddleBrown",
139,69,19],salmon:["Salmon",250,128,114],sandybrown:["SandyBrown",244,164,96],seagreen:["SeaGreen",46,139,87],seashell:["SeaShell",255,245,238],sienna:["Sienna",160,82,45],silver:["Silver",192,192,192],skyblue:["SkyBlue",135,206,235],slateblue:["SlateBlue",106,90,205],slategray:["SlateGray",112,128,144],snow:["Snow",255,250,250],springgreen:["SpringGreen",0,255,127],steelblue:["SteelBlue",70,130,180],tan:["Tan",210,180,140],teal:["Teal",0,128,128],thistle:["Thistle",216,191,216],tomato:["Tomato",
255,99,71],turquoise:["Turquoise",64,224,208],violet:["Violet",238,130,238],wheat:["Wheat",245,222,179],white:["White",255,255,255],whitesmoke:["WhiteSmoke",245,245,245],yellow:["Yellow",255,255,0],yellowgreen:["YellowGreen",154,205,50]},tP:function(){return this.xz},Ff:function(){var h,g;if(!this.JL)for(this.JL=!0,h=g=0;256>h;h+=1)v.xz[h]=v.yz[g]<<16|v.yz[g+1]<<8|v.yz[g+2],g+=3}};window.ColourManager=v}(),function(){function v(h,g,q,k){this.l=h;this.s=g;this.u=q;this.v=k}v.prototype.set=function(h){this.l=
h.l;this.s=h.s;this.u=h.u;this.v=h.v};window.BoundingBox=v}(),function(){function v(g,q,k){this.index=q;this.ja=g.hp[q];this.La=g.Wn[q];this.Ts=g.Io[q];this.T=g.Kv[q];this.G=g.Tu[q];k?this.B=g.Ss[q]:this.B=null;this.M=new BoundingBox(0,0,0,0);this.Oa=new BoundingBox(0,0,0,0);this.Y=this.Ij=this.af=this.jF=this.counter=this.Gb=this.Vb=this.ia=0;this.C=g}function h(g,q){this.A=g;this.uf=[];this.sj=[];this.hp=[];this.Wn=[];this.Io=[];this.Kv=[];this.Tu=[];this.Ss=[];this.G=0;this.index=-1;this.dM=51;
this.Ty=q;this.B=null}v.prototype.JN=function(g,q,k){var a=q.length,b=q[0].length,d,f,l=0,n,p=k.ip;k=k.jp;var r,w=0,u=this.T,y=0,z=u[y],x=z.length;Array.Vh(this.ja,q);for(d=0;d<a;d+=1){var B=this.ja[d];for(q=r=0;q<b;q+=1)if(n=B[q])for(f=15;0<=f;--f){if(0!==(n&1<<f)){var c=w;var m=r;var e=z[l];l+=1;g[c][m]=e&255;g[c][m+1]=e>>8&255;g[c+1][m]=e>>16&255;g[c+1][m+1]=e>>24;c+=2;e=z[l];l+=1;g[c][m]=e&255;g[c][m+1]=e>>8&255;g[c+1][m]=e>>16&255;g[c+1][m+1]=e>>24;c+=2;e=z[l];l+=1;g[c][m]=e&255;g[c][m+1]=e>>
8&255;g[c+1][m]=e>>16&255;g[c+1][m+1]=e>>24;c+=2;e=z[l];l+=1;g[c][m]=e&255;g[c][m+1]=e>>8&255;g[c+1][m]=e>>16&255;g[c+1][m+1]=e>>24;c+=2;e=z[l];l+=1;g[c][m]=e&255;g[c][m+1]=e>>8&255;g[c+1][m]=e>>16&255;g[c+1][m+1]=e>>24;c+=2;e=z[l];l+=1;g[c][m]=e&255;g[c][m+1]=e>>8&255;g[c+1][m]=e>>16&255;g[c+1][m+1]=e>>24;c+=2;e=z[l];l+=1;g[c][m]=e&255;g[c][m+1]=e>>8&255;g[c+1][m]=e>>16&255;g[c+1][m+1]=e>>24;c+=2;e=z[l];l+=1;g[c][m]=e&255;g[c][m+1]=e>>8&255;g[c+1][m]=e>>16&255;g[c+1][m+1]=e>>24;l>=x&&(y+=1,z=u[y],
l=0)}r+=p}else r+=p<<4;w+=k}};v.prototype.XN=function(g,q,k){var a=q.length,b=q[0].length,d,f=0,l;var n=0;var p=k.ip,r=k.jp,w,u=0,y=this.T,z=0,x=y[z],B=x.length,c=y.length;var m=this.C.Ty;Array.Vh(q,this.ja);for(d=0;d<a;d+=1){var e=q[d];for(k=0;k<b;k+=1)(l=e[k])&&(n+=m[l])}if(n)for(d=0;d<a;d+=1){e=q[d];for(k=w=0;k<b;k+=1)if(l=e[k])for(n=15;0<=n;--n){if(0!==(l&1<<n)){var t=u;m=w;x[f]=g[t][m]|g[t][m+1]<<8|g[t+1][m]<<16|g[t+1][m+1]<<24;f+=1;t+=2;x[f]=g[t][m]|g[t][m+1]<<8|g[t+1][m]<<16|g[t+1][m+1]<<24;
f+=1;t+=2;x[f]=g[t][m]|g[t][m+1]<<8|g[t+1][m]<<16|g[t+1][m+1]<<24;f+=1;t+=2;x[f]=g[t][m]|g[t][m+1]<<8|g[t+1][m]<<16|g[t+1][m+1]<<24;f+=1;t+=2;x[f]=g[t][m]|g[t][m+1]<<8|g[t+1][m]<<16|g[t+1][m+1]<<24;f+=1;t+=2;x[f]=g[t][m]|g[t][m+1]<<8|g[t+1][m]<<16|g[t+1][m+1]<<24;f+=1;t+=2;x[f]=g[t][m]|g[t][m+1]<<8|g[t+1][m]<<16|g[t+1][m+1]<<24;f+=1;t+=2;x[f]=g[t][m]|g[t][m+1]<<8|g[t+1][m]<<16|g[t+1][m+1]<<24;f+=1;f>=B&&(z+=1,f=0,z>=c&&(Array.Ap(y,"Snapshot.gridBufferRow"),c+=1));x=y[z]}w+=p}else w+=p<<4;u+=r}};v.prototype.KN=
function(g,q,k){var a=q.length,b=q[0].length,d,f,l,n=0,p,r=k.ip<<3,w=k.jp,u,y=0,z=this.B,x=0,B=z[x],c=B.length;Array.Vh(this.Ts,q);for(d=0;d<a;d+=1){var m=q[d];for(k=u=0;k<b;k+=1)if(p=m[k])for(f=15;0<=f;--f){if(0!==(p&1<<f))for(l=u;l<u+r;l+=4){var e=y;var t=B[n];n+=1;g[e][l]=t&255;g[e][l+1]=t>>8&255;g[e][l+2]=t>>16&255;g[e][l+3]=t>>24;e+=1;t=B[n];n+=1;g[e][l]=t&255;g[e][l+1]=t>>8&255;g[e][l+2]=t>>16&255;g[e][l+3]=t>>24;e+=1;t=B[n];n+=1;g[e][l]=t&255;g[e][l+1]=t>>8&255;g[e][l+2]=t>>16&255;g[e][l+3]=
t>>24;e+=1;t=B[n];n+=1;g[e][l]=t&255;g[e][l+1]=t>>8&255;g[e][l+2]=t>>16&255;g[e][l+3]=t>>24;e+=1;t=B[n];n+=1;g[e][l]=t&255;g[e][l+1]=t>>8&255;g[e][l+2]=t>>16&255;g[e][l+3]=t>>24;e+=1;t=B[n];n+=1;g[e][l]=t&255;g[e][l+1]=t>>8&255;g[e][l+2]=t>>16&255;g[e][l+3]=t>>24;e+=1;t=B[n];n+=1;g[e][l]=t&255;g[e][l+1]=t>>8&255;g[e][l+2]=t>>16&255;g[e][l+3]=t>>24;e+=1;t=B[n];n+=1;g[e][l]=t&255;g[e][l+1]=t>>8&255;g[e][l+2]=t>>16&255;g[e][l+3]=t>>24;e+=1;t=B[n];n+=1;g[e][l]=t&255;g[e][l+1]=t>>8&255;g[e][l+2]=t>>16&
255;g[e][l+3]=t>>24;e+=1;t=B[n];n+=1;g[e][l]=t&255;g[e][l+1]=t>>8&255;g[e][l+2]=t>>16&255;g[e][l+3]=t>>24;e+=1;t=B[n];n+=1;g[e][l]=t&255;g[e][l+1]=t>>8&255;g[e][l+2]=t>>16&255;g[e][l+3]=t>>24;e+=1;t=B[n];n+=1;g[e][l]=t&255;g[e][l+1]=t>>8&255;g[e][l+2]=t>>16&255;g[e][l+3]=t>>24;e+=1;t=B[n];n+=1;g[e][l]=t&255;g[e][l+1]=t>>8&255;g[e][l+2]=t>>16&255;g[e][l+3]=t>>24;e+=1;t=B[n];n+=1;g[e][l]=t&255;g[e][l+1]=t>>8&255;g[e][l+2]=t>>16&255;g[e][l+3]=t>>24;e+=1;t=B[n];n+=1;g[e][l]=t&255;g[e][l+1]=t>>8&255;g[e][l+
2]=t>>16&255;g[e][l+3]=t>>24;e+=1;t=B[n];n+=1;g[e][l]=t&255;g[e][l+1]=t>>8&255;g[e][l+2]=t>>16&255;g[e][l+3]=t>>24;n>=c&&(x+=1,B=z[x],n=0)}u+=r}else u+=r<<4;y+=w}};v.prototype.IN=function(g,q,k){var a=q.length,b=q[0].length,d,f,l,n=0,p,r=k.ip<<3,w=k.jp,u,y=0,z=this.G,x=0,B=z[x],c=B.length;Array.Vh(this.La,q);for(d=0;d<a;d+=1){var m=q[d];for(k=u=0;k<b;k+=1)if(p=m[k])for(f=15;0<=f;--f){if(0!==(p&1<<f))for(l=u;l<u+r;l+=4){var e=y;var t=B[n];n+=1;g[e][l]=t&255;g[e][l+1]=t>>8&255;g[e][l+2]=t>>16&255;g[e][l+
3]=t>>24;e+=1;t=B[n];n+=1;g[e][l]=t&255;g[e][l+1]=t>>8&255;g[e][l+2]=t>>16&255;g[e][l+3]=t>>24;e+=1;t=B[n];n+=1;g[e][l]=t&255;g[e][l+1]=t>>8&255;g[e][l+2]=t>>16&255;g[e][l+3]=t>>24;e+=1;t=B[n];n+=1;g[e][l]=t&255;g[e][l+1]=t>>8&255;g[e][l+2]=t>>16&255;g[e][l+3]=t>>24;e+=1;t=B[n];n+=1;g[e][l]=t&255;g[e][l+1]=t>>8&255;g[e][l+2]=t>>16&255;g[e][l+3]=t>>24;e+=1;t=B[n];n+=1;g[e][l]=t&255;g[e][l+1]=t>>8&255;g[e][l+2]=t>>16&255;g[e][l+3]=t>>24;e+=1;t=B[n];n+=1;g[e][l]=t&255;g[e][l+1]=t>>8&255;g[e][l+2]=t>>
16&255;g[e][l+3]=t>>24;e+=1;t=B[n];n+=1;g[e][l]=t&255;g[e][l+1]=t>>8&255;g[e][l+2]=t>>16&255;g[e][l+3]=t>>24;e+=1;t=B[n];n+=1;g[e][l]=t&255;g[e][l+1]=t>>8&255;g[e][l+2]=t>>16&255;g[e][l+3]=t>>24;e+=1;t=B[n];n+=1;g[e][l]=t&255;g[e][l+1]=t>>8&255;g[e][l+2]=t>>16&255;g[e][l+3]=t>>24;e+=1;t=B[n];n+=1;g[e][l]=t&255;g[e][l+1]=t>>8&255;g[e][l+2]=t>>16&255;g[e][l+3]=t>>24;e+=1;t=B[n];n+=1;g[e][l]=t&255;g[e][l+1]=t>>8&255;g[e][l+2]=t>>16&255;g[e][l+3]=t>>24;e+=1;t=B[n];n+=1;g[e][l]=t&255;g[e][l+1]=t>>8&255;
g[e][l+2]=t>>16&255;g[e][l+3]=t>>24;e+=1;t=B[n];n+=1;g[e][l]=t&255;g[e][l+1]=t>>8&255;g[e][l+2]=t>>16&255;g[e][l+3]=t>>24;e+=1;t=B[n];n+=1;g[e][l]=t&255;g[e][l+1]=t>>8&255;g[e][l+2]=t>>16&255;g[e][l+3]=t>>24;e+=1;t=B[n];n+=1;g[e][l]=t&255;g[e][l+1]=t>>8&255;g[e][l+2]=t>>16&255;g[e][l+3]=t>>24;n>=c&&(x+=1,B=z[x],n=0)}u+=r}else u+=r<<4;y+=w}};v.prototype.YN=function(g,q,k){var a=q.length,b=q[0].length,d,f=0,l;var n=0;var p=k.ip<<3,r=k.jp,w,u=0,y=this.B,z=0,x=y[z],B=x.length,c=y.length;var m=this.C.Ty;
Array.Vh(q,this.Ts);for(d=0;d<a;d+=1){var e=q[d];for(k=0;k<b;k+=1)(l=e[k])&&(n+=m[l])}if(n)for(d=0;d<a;d+=1){e=q[d];for(k=w=0;k<b;k+=1)if(l=e[k])for(n=15;0<=n;--n){if(0!==(l&1<<n))for(m=w;m<w+p;m+=4){var t=u;x[f]=g[t][m]|g[t][m+1]<<8|g[t][m+2]<<16|g[t][m+3]<<24;f+=1;t+=1;x[f]=g[t][m]|g[t][m+1]<<8|g[t][m+2]<<16|g[t][m+3]<<24;f+=1;t+=1;x[f]=g[t][m]|g[t][m+1]<<8|g[t][m+2]<<16|g[t][m+3]<<24;f+=1;t+=1;x[f]=g[t][m]|g[t][m+1]<<8|g[t][m+2]<<16|g[t][m+3]<<24;f+=1;t+=1;x[f]=g[t][m]|g[t][m+1]<<8|g[t][m+2]<<
16|g[t][m+3]<<24;f+=1;t+=1;x[f]=g[t][m]|g[t][m+1]<<8|g[t][m+2]<<16|g[t][m+3]<<24;f+=1;t+=1;x[f]=g[t][m]|g[t][m+1]<<8|g[t][m+2]<<16|g[t][m+3]<<24;f+=1;t+=1;x[f]=g[t][m]|g[t][m+1]<<8|g[t][m+2]<<16|g[t][m+3]<<24;f+=1;t+=1;x[f]=g[t][m]|g[t][m+1]<<8|g[t][m+2]<<16|g[t][m+3]<<24;f+=1;t+=1;x[f]=g[t][m]|g[t][m+1]<<8|g[t][m+2]<<16|g[t][m+3]<<24;f+=1;t+=1;x[f]=g[t][m]|g[t][m+1]<<8|g[t][m+2]<<16|g[t][m+3]<<24;f+=1;t+=1;x[f]=g[t][m]|g[t][m+1]<<8|g[t][m+2]<<16|g[t][m+3]<<24;f+=1;t+=1;x[f]=g[t][m]|g[t][m+1]<<8|
g[t][m+2]<<16|g[t][m+3]<<24;f+=1;t+=1;x[f]=g[t][m]|g[t][m+1]<<8|g[t][m+2]<<16|g[t][m+3]<<24;f+=1;t+=1;x[f]=g[t][m]|g[t][m+1]<<8|g[t][m+2]<<16|g[t][m+3]<<24;f+=1;t+=1;x[f]=g[t][m]|g[t][m+1]<<8|g[t][m+2]<<16|g[t][m+3]<<24;f+=1;f>=B&&(z+=1,f=0,z>=c&&(Array.Ap(y,"Snapshot.overlayGridBufferRow"),c+=1),x=y[z])}w+=p}else w+=p<<4;u+=r}};v.prototype.VN=function(g,q,k){var a=q.length,b=q[0].length,d,f=0,l;var n=0;var p=k.ip<<3,r=k.jp,w,u=0,y=this.G,z=0,x=y[z],B=x.length,c=y.length;var m=this.C.Ty;Array.Vh(q,
this.La);for(d=0;d<a;d+=1){var e=q[d];for(k=0;k<b;k+=1)(l=e[k])&&(n+=m[l])}if(n)for(d=0;d<a;d+=1){e=q[d];for(k=w=0;k<b;k+=1)if(l=e[k])for(n=15;0<=n;--n){if(0!==(l&1<<n))for(m=w;m<w+p;m+=4){var t=u;x[f]=g[t][m]|g[t][m+1]<<8|g[t][m+2]<<16|g[t][m+3]<<24;f+=1;t+=1;x[f]=g[t][m]|g[t][m+1]<<8|g[t][m+2]<<16|g[t][m+3]<<24;f+=1;t+=1;x[f]=g[t][m]|g[t][m+1]<<8|g[t][m+2]<<16|g[t][m+3]<<24;f+=1;t+=1;x[f]=g[t][m]|g[t][m+1]<<8|g[t][m+2]<<16|g[t][m+3]<<24;f+=1;t+=1;x[f]=g[t][m]|g[t][m+1]<<8|g[t][m+2]<<16|g[t][m+3]<<
24;f+=1;t+=1;x[f]=g[t][m]|g[t][m+1]<<8|g[t][m+2]<<16|g[t][m+3]<<24;f+=1;t+=1;x[f]=g[t][m]|g[t][m+1]<<8|g[t][m+2]<<16|g[t][m+3]<<24;f+=1;t+=1;x[f]=g[t][m]|g[t][m+1]<<8|g[t][m+2]<<16|g[t][m+3]<<24;f+=1;t+=1;x[f]=g[t][m]|g[t][m+1]<<8|g[t][m+2]<<16|g[t][m+3]<<24;f+=1;t+=1;x[f]=g[t][m]|g[t][m+1]<<8|g[t][m+2]<<16|g[t][m+3]<<24;f+=1;t+=1;x[f]=g[t][m]|g[t][m+1]<<8|g[t][m+2]<<16|g[t][m+3]<<24;f+=1;t+=1;x[f]=g[t][m]|g[t][m+1]<<8|g[t][m+2]<<16|g[t][m+3]<<24;f+=1;t+=1;x[f]=g[t][m]|g[t][m+1]<<8|g[t][m+2]<<16|
g[t][m+3]<<24;f+=1;t+=1;x[f]=g[t][m]|g[t][m+1]<<8|g[t][m+2]<<16|g[t][m+3]<<24;f+=1;t+=1;x[f]=g[t][m]|g[t][m+1]<<8|g[t][m+2]<<16|g[t][m+3]<<24;f+=1;t+=1;x[f]=g[t][m]|g[t][m+1]<<8|g[t][m+2]<<16|g[t][m+3]<<24;f+=1;f>=B&&(z+=1,f=0,z>=c&&(Array.Ap(y,"Snapshot.colourGridBufferRow"),c+=1),x=y[z])}w+=p}else w+=p<<4;u+=r}};h.prototype.bufferSize=function(){for(var g=0,q=0;q<this.sj.length;)g+=this.hp[q].length*this.hp[q][0].length*2,g+=this.Wn[q].length*this.Wn[q][0].length*2,g+=this.Kv[q].length*this.Kv[q][0].length*
4,g+=this.Tu[q].length*this.Tu[q][0].length*4,this.Ss[q]&&(g+=this.Io[q].length*this.Io[q][0].length*2,g+=this.Ss[q].length*this.Ss[q][0].length*4),q+=1;return g};h.prototype.$O=function(){for(var g=0,q=0;q<this.sj.length;)this.sj[q]&&(g+=1),q+=1;return g};h.prototype.reset=function(){this.uf=[];this.sj=[];this.G=0;this.index=-1};h.prototype.tO=function(g){var q=null;if(0<this.uf.length)for(q=this.uf[this.index];q&&q.counter>g;)q=null,0<this.index&&(this.T(this.uf[this.index].index),this.uf.pop(),
--this.index,0<=this.index&&(q=this.uf[this.index]));return q};h.prototype.ut=function(g,q,k,a,b,d,f,l,n,p,r,w,u,y,z,x,B,c,m,e){var t=null!==b;if(m)x=this.B;else if(51>this.uf.length)x=this.lz(x,B,!1,t),this.index+=1;else{this.index+=1;if(51<=this.index){this.index=50;this.T(this.uf[0].index);for(m=0;50>m;m+=1)this.uf[m]=this.uf[m+1];this.uf.pop();this.lz(x,B,!1,t)}x=this.uf[this.index]}x.Y=e;x.XN(g,q,c);x.VN(k,a,c);t&&x.YN(b,d,c);x.M.l=f.l;x.M.u=f.u;x.M.s=f.s;x.M.v=f.v;x.Oa.l=l.l;x.Oa.u=l.u;x.Oa.s=
l.s;x.Oa.v=l.v;x.ia=n;x.Vb=p;x.Gb=r;x.counter=w;x.jF=u;x.af=y;x.Ij=z};h.prototype.T=function(g){this.sj[g]=!1};h.prototype.na=function(g,q,k){for(var a=0,b=!1;a<this.G&&!b;)this.sj[a]?a+=1:b=!0;b?(g=a,this.sj[a]=!0):(this.hp[a]=Array.ka(Uint16,q,g,0,this.A,"Snapshot.tileGrid"+a),this.Wn[a]=Array.ka(Uint16,q,g,0,this.A,"Snapshot.colourTileGrid"+a),this.Kv[a]=Array.ka(Uint32,1,1024,0,this.A,"Snapshot.gridBuffer"+a),this.Tu[a]=Array.ka(Uint32,1,8192,0,this.A,"Snapshot.colourGridBuffer"+a),k&&(this.Io[a]=
Array.ka(Uint16,q,g,0,this.A,"Snapshot.overlayTileGrid"+a),this.Ss[a]=Array.ka(Uint32,1,8192,0,this.A,"Snapshot.overlayGridBuffer"+a)),this.sj[a]=!0,this.G+=1,g=a);return g};h.prototype.lz=function(g,q,k,a){g=this.na(g,q,a);k?this.B=k=new v(this,g,a):(k=new v(this,g,a),this.uf[this.uf.length]=k);return k};h.prototype.da=function(g,q,k,a,b,d,f,l){var n=g.ja,p=g.La,r=g.Ts,w=g.ja.length,u=0,y=g.index;this.hp[y]=Array.ka(Uint16,k,q,0,this.A,"Snapshot.tileGrid"+y);this.Wn[y]=Array.ka(Uint16,k,q,0,this.A,
"Snapshot.colourTileGrid"+y);l&&(this.Io[y]=Array.ka(Uint16,k,q,0,this.A,"Snapshot.overlayTileGrid"+y));g.ja=this.hp[y];g.La=this.Wn[y];l&&(g.Ts=this.Io[y]);if(0<a||0<b)for(;u<w;)g.ja[u+b].set(n[u],a),g.La[u+b].set(p[u],a),l&&g.Ts[u+b].set(r[u],a),u+=1;g.M.l+=d;g.M.u+=d;g.M.s+=f;g.M.v+=f;g.Oa.l+=d;g.Oa.u+=d;g.Oa.s+=f;g.Oa.v+=f};h.prototype.sH=function(g,q,k,a,b,d,f){var l;this.B&&this.da(this.B,g,q,k,a,b,d,f);var n=0;for(l=this.uf.length;n<l;)this.da(this.uf[n],g,q,k,a,b,d,f),n+=1;for(n=0;n<this.sj.length;)this.sj[n]||
(this.hp[n]=Array.ka(Uint16,q,g,0,this.A,"Snapshot.tileGrid"+n),this.Wn[n]=Array.ka(Uint16,q,g,0,this.A,"Snapshot.colourTileGrid"+n),f&&(this.Io[n]=Array.ka(Uint16,q,g,0,this.A,"Snapshot.overlayTileGrid"+n))),n+=1};window.SnapshotManager=h;window.Snapshot=v}(),function(){function v(h,g,q){this.A=h;this.g=g;this.C=q;this.gh=this.fh=1;this.Vo=2;this.Vb=h.R(Uint8,0,"HROT.births");this.xx=h.R(Uint8,0,"HROT.survivals");this.Fu=h.R(Uint8,0,"HROT.altBirths");this.Gu=h.R(Uint8,0,"HROT.altSurvivals");this.type=
q.be;this.Ao=Array.ka(Uint8,1,1,0,h,"HROT.neighbourhood");this.Ka=h.R(Int16,0,"HROT.neighbourList");this.Mb=Array.ka(Int32,1,1,0,h,"HROT.counts");this.da=h.R(Uint32,0,"HROT.widths");this.Su=h.R(Uint8,0,"HROT.colUsed");this.yf=h.R(Int8,0,"HROT.weightedNeighbourhood");this.Hh=null;this.Vf=this.Wf=-1;this.Ba=this.G=this.T=this.na=0;this.oc=!1;this.Me="";this.Ei=-1;this.P=!1}v.prototype.resize=function(h,g){this.Mb=Array.ka(Int32,g,h,0,this.A,"HROT.counts");this.Su=this.A.R(Uint8,h,"HROT.colUsed")};v.prototype.nO=
function(h,g,q,k,a,b,d,f,l){var n=2*g+1,p=g*g,r=p+g,w,u=q.length>>1;this.type=h;this.gh=g;this.fh=a&&h!=this.C.nm&&h!=this.C.yp?g+g:g;this.da=this.A.R(Uint32,n,"HROT.widths");this.Me=q;this.Ei=k;this.P=a;this.Vf=f;this.Wf=l;if(b)for(this.yf=this.A.R(Int8,b.length,"HROT.weightedNeighbourhood"),k=0;k<b.length;k+=1)this.yf[k]=b[k];else this.yf=null;if(d)for(this.Hh=this.A.R(Uint8,d.length,"HROT.weightedStates"),k=0;k<d.length;k+=1)this.Hh[k]=d[k];else this.Hh=null;switch(h){case this.C.be:for(k=0;k<
n;k+=1)this.da[k]=g;break;case this.C.Nf:for(k=0;k<g;k+=1)this.da[k]=k,this.da[n-k-1]=k;this.da[k]=g;break;case this.C.xk:for(k=-g;k<=g;k+=1){for(h=0;(h+1)*(h+1)+k*k<=r;)h+=1;this.da[k+g]=h}break;case this.C.Fk:for(k=-g;k<=g;k+=1){for(h=0;(h+1)*(h+1)+k*k<=p;)h+=1;this.da[k+g]=h}break;case this.C.nm:this.Ao=Array.ka(Uint8,n,n,0,this.A,"HROT.neighbourhood");p=new Uint16Array(n);d=w=a=k=r=b=0;for(f=this.Ao[r];r<n;)for(h="0123456789abcdef".indexOf(q[b]),b===u&&(f[k]=1,k+=1,a+=1,w+=1),b+=1,l=3;0<=l;--l)0!==
(h&1<<l)&&(f[k]=1,a+=1,w+=1),k+=1,k===n&&(p[d]=w,w=0,d+=1,k=0,r+=1,r<n&&(f=this.Ao[r]));q=new Uint32Array(a);for(r=a=0;r<n;r+=1)for(f=this.Ao[r],k=0;k<n;k+=1)0<f[k]&&(q[a]=r<<16|k,a+=1);for(k=n=0;k<p.length;k+=1)0<p[k]&&(n+=p[k]+2);this.Ka=this.A.R(Int16,n,"HROT.neighbourList");for(k=a=b=0;k<p.length;k+=1)if(0<p[k]){d=q[b];this.Ka[a]=g-(d>>16);this.Ka[a+1]=p[k];a+=2;for(r=0;r<p[k];r+=1)this.Ka[a+r]=g-(q[b]&65535),b+=1;a+=p[k]}}};v.prototype.B=function(h,g,q){return 0>h||0>h+g||g-h>=this.T?0:0>g&&
h+g<this.G?this.Mb[h+g][0]:g>=this.T&&g-h>=this.T-this.G?this.Mb[h+this.T-1-g][this.T-1]:h<this.G?q[g]:h-this.G+1+g<=this.Ba?this.Mb[this.G-1][h-this.G+1+g]:g-(h-this.G+1)>=this.Ba?this.Mb[this.G-1][g-(h-this.G+1)]:this.Mb[this.G-1][this.Ba+(h+g+this.G+this.Ba+1)%2]};v.prototype.Lb=function(h,g,q,k){var a=this.g.S,b=null,d=this.fh,f=this.gh,l;for(l=0;l<f;l+=1){b=a[g+l];var n=a[k+l+1];n.set(b.slice(h,q+1),h)}for(l=0;l<f;l+=1)b=a[k-l],n=a[g-l-1],n.set(b.slice(h,q+1),h);if(copyWithin)for(l=g;l<=k;l+=
1)b=a[l],b.copyWithin(q+1,h,h+d+1),b.copyWithin(h-d-1,q-d,q+1);else for(l=g;l<=k;l+=1)for(n=0;n<d;n+=1)b[q+n+1]=b[h+n],b[h-n-1]=b[q-n];for(l=0;l<f;l+=1)b=a[g+l],n=a[k+l+1],n.set(b.slice(h,h+d+1),q+1),n.set(b.slice(q-d,q+1),h-d-1);for(l=0;l<f;l+=1)b=a[k-l],n=a[g-l-1],n.set(b.slice(h,h+d+1),q+1),n.set(b.slice(q-d,q+1),h-d-1)};v.prototype.ab=function(h,g,q,k){var a=this.g.S,b=this.fh,d=this.gh,f;for(f=0;f<d;f+=1)a[k+f+1].fill(0,h,q+1);for(f=0;f<d;f+=1)a[g-f-1].fill(0,h,q+1);for(f=g;f<=k;f+=1){var l=
a[f];l.fill(0,q+1,q+b+2);l.fill(0,h-b-1,h)}for(f=0;f<d;f+=1)l=a[k+f+1],l.fill(0,q+1,q+b+2),l.fill(0,h-b-1,h);for(f=0;f<d;f+=1)l=a[g-f-1],l.fill(0,q+1,q+b+2),l.fill(0,h-b-1,h)};v.prototype.Fb=function(h,g,q,k,a){var b,d,f=this.g.S,l=this.g.Da,n=this.g.width,p=0,r=this.g.height,w=0,u=n,y=p,z=r,x=w,B=this.g.M,c=this.g.Oa,m=this.fh,e=this.gh,t=a?this.Fu:this.Vb,A=a?this.Gu:this.xx,C=this.Mb;var D=this.Vo-1;var E=LifeConstants.Pa,G=LifeConstants.rl,F=this.g.Gp;var H=this.g.i+this.g.K-1;var I=this.g.K,
L=0<this.g.K?1:0;var K=b=a=0;if(1===D)for(D=g-e;D<=k+e;D+=1){var N=f[D];var J=C[D];var S=l[D>>4];var U=d=!1;for(g=h-m;g<=q+m;g+=1){var V=N[g];var P=J[g];H=0;V<E?0<=P&&1===t[P]&&(b+=1,H=128):0<=P&&1===A[P]?H=128:K+=1;V=F[V+H];N[g]=V;V>G&&(d=!0,S[g>>8]|=1<<(~(g>>4)&15),g<n&&(n=g),g>p&&(p=g),V>=E&&(a+=1,g<u&&(u=g),g>y&&(y=g),U=!0))}d&&(D<r&&(r=D),D>w&&(w=D));U&&(D<z&&(z=D),D>x&&(x=D))}else for(D=g-e;D<=k+e;D+=1){N=f[D];J=C[D];S=l[D>>4];U=d=!1;for(g=h-m;g<=q+m;g+=1){V=N[g];P=J[g];if(V<=I)0<=P&&1===t[P]?
(V=H,b+=1):V>L&&--V;else if(V===H){if(0>P||0===A[P])--V,K+=1}else V>L&&--V;N[g]=V;0<V&&(d=!0,S[g>>8]|=1<<(~(g>>4)&15),g<n&&(n=g),g>p&&(p=g),V===H&&(a+=1,g<u&&(u=g),g>y&&(y=g),U=!0))}d&&(D<r&&(r=D),D>w&&(w=D));U&&(D<z&&(z=D),D>x&&(x=D))}this.g.ia=a;this.g.Vb=b;this.g.Gb=K;0<a?(B.l=n,B.u=p,B.s=r,B.v=w,c.l=u,c.u=y,c.s=z,c.v=x):this.g.Y=0};v.prototype.Gf=function(h,g,q,k,a){var b,d=this.g.i+this.g.K,f=this.g.K,l=this.yf,n=this.g.S,p=this.Mb,r=this.Hh,w=r[0],u=l[0],y=l[1],z=l[2],x=l[3],B=l[4],c=l[5],m=
l[6],e=l[7];l=l[8];for(h-=a;h<=g+a;h+=1){var t=p[h];var A=q-a;var C=A-1;for(b=A+1;A<=k+a;){var D=0;var E=n[h-1];var G=E[C];G>f?D+=u*r[d-G]:0<w&&(D+=u*w);G=E[A];G>f?D+=y*r[d-G]:0<w&&(D+=y*w);G=E[b];G>f?D+=z*r[d-G]:0<w&&(D+=z*w);E=n[h];G=E[C];G>f?D+=x*r[d-G]:0<w&&(D+=x*w);G=E[A];G>f?D+=B*r[d-G]:0<w&&(D+=B*w);G=E[b];G>f?D+=c*r[d-G]:0<w&&(D+=c*w);E=n[h+1];G=E[C];G>f?D+=m*r[d-G]:0<w&&(D+=m*w);G=E[A];G>f?D+=e*r[d-G]:0<w&&(D+=e*w);G=E[b];G>f?D+=l*r[d-G]:0<w&&(D+=l*w);t[A]=D;A+=1;C+=1;b+=1}}};v.prototype.pf=
function(h,g,q,k,a){var b,d=LifeConstants.Pa,f=this.yf,l=this.g.S,n=this.Mb,p=f[0],r=f[1],w=f[2],u=f[3],y=f[4],z=f[5],x=f[6],B=f[7];f=f[8];for(h-=a;h<=g+a;h+=1){var c=n[h];var m=q-a;var e=m-1;for(b=m+1;m<=k+a;){var t=0;var A=l[h-1];A[e]>=d&&(t+=p);A[m]>=d&&(t+=r);A[b]>=d&&(t+=w);A=l[h];A[e]>=d&&(t+=u);A[m]>=d&&(t+=y);A[b]>=d&&(t+=z);A=l[h+1];A[e]>=d&&(t+=x);A[m]>=d&&(t+=B);A[b]>=d&&(t+=f);c[m]=t;m+=1;e+=1;b+=1}}};v.prototype.hd=function(h,g,q,k,a,b){var d=this.Mb,f,l=LifeConstants.Pa,n=this.Vf,p=
this.Wf,r=this.g.S;for(f=g-b;f<=k+b;f+=1){var w=d[f];for(g=h-a;g<=q+a;){var u=0;var y=r[f-n];y[g-n]>=l&&(u+=1);y[g+n]>=l&&(u+=1);y=r[f+n];y[g-n]>=l&&(u+=1);y[g+n]>=l&&(u+=1);r[f-p][g]>=l&&(u+=1);r[f+p][g]>=l&&(u+=1);y=r[f];y[g-p]>=l&&(u+=1);y[g+p]>=l&&(u+=1);y[g]>=l&&(u+=1);w[g]=u;g+=1}}};v.prototype.uc=function(h,g,q,k,a,b){var d=this.Mb,f,l,n=LifeConstants.Pa,p=this.g.S;for(f=g-b;f<=k+b;f+=1){var r=d[f];for(g=h-a;g<=q+a;){var w=0;for(l=-b;0>l;l+=1){var u=p[f+l];u[g]>=n&&(w+=1);u[g+l]>=n&&(w+=1)}u=
p[f];for(l=-a;l<=a;l+=1)u[g+l]>=n&&(w+=1);for(l=1;l<=a;l+=1)u=p[f+l],u[g]>=n&&(w+=1),u[g+l]>=n&&(w+=1);r[g]=w;g+=1}}};v.prototype.hf=function(h,g,q,k,a,b){var d=this.Mb,f,l,n=LifeConstants.Pa,p=this.g.S;for(f=g-b;f<=k+b;f+=1){var r=d[f];for(g=h-a;g<=q+a;){var w=0;for(l=-b;0>l;l+=1){var u=p[f+l];u[g]>=n&&(w+=1)}u=p[f];for(l=-a;0>=l;l+=1)u[g+l]>=n&&(w+=1);for(l=1;l<=a;l+=1)p[f+l][g+l]>=n&&(w+=1);r[g]=w;g+=1}}};v.prototype.nf=function(h,g,q,k,a,b){var d=this.Mb,f,l,n,p=LifeConstants.Pa,r=this.g.S;if(null===
this.Hh)if(1!==a||1!==b||this.P)for(f=g-b;f<=k+b;f+=1){var w=d[f];for(g=h-a;g<=q+a;){if(this.P&&0!==(g+f&1)){var u=-(a+a+1);var y=this.yf.length+u;u+=u}else u=y=0;var z=0;for(n=-b;n<=b;n+=1){var x=r[f+n];for(l=-a;l<=a;l+=1)x[g+l]>=p&&(z+=this.yf[y]),y+=1;y+=u}w[g]=z;g+=1}}else this.pf(g,k,h,q,a);else{var B=this.Hh[0];var c=this.Hh[1];for(f=g-b;f<=k+b;f+=1)for(w=d[f],g=h-a;g<=q+a;){this.P&&0!==(g+f&1)?(u=-(a+a+1),y=this.yf.length+u,u+=u):u=y=0;z=0;for(n=-b;n<=b;n+=1){x=r[f+n];for(l=-a;l<=a;l+=1)z=
x[g+l]>=p?z+this.yf[y]*c:z+this.yf[y]*B,y+=1;y+=u}w[g]=z;g+=1}}};v.prototype.Id=function(h,g,q,k,a,b){var d=this.Mb,f,l,n,p,r=LifeConstants.Pa,w=this.Ka,u=this.g.S;for(f=g-b;f<=k+b;f+=1){var y=d[f];for(g=h-a;g<=q+a;){for(l=p=0;l<w.length;){var z=w[l];this.P&&0===(g+f&1)&&(z=-z);l+=1;var x=u[f+z];z=w[l];for(n=l+=1;n<l+z;n+=1)x[g+w[n]]>=r&&(p+=1);l+=z}y[g]=p;g+=1}}};v.prototype.Wd=function(h,g,q,k,a,b){var d=this.Mb,f,l,n,p,r,w=LifeConstants.Pa,u=this.g.S;for(f=g-b;f<=k+b;f+=1){var y=d[f];g=h-a;var z=
r=p=0;for(n=-b;n<=b;n+=1){var x=u[f+n];if(1===n)for(l=-a;l<=a;l+=1)x[g+l]>=w&&(r+=1);else if(-1===n)for(l=-a;l<=a;l+=1)x[g+l]>=w&&(z+=1);else x[g-1]>=w&&(p+=1),x[g+1]>=w&&(p+=1)}u[f][g]>=w&&(p+=1);y[g]=p+r+z;for(g+=1;g<=q+a;){p=0;for(n=-b;n<=b;n+=1)x=u[f+n],1===n?(x[g-a-1]>=w&&--r,x[g+a]>=w&&(r+=1)):-1===n?(x[g-a-1]>=w&&--z,x[g+a]>=w&&(z+=1)):(x[g-1]>=w&&(p+=1),x[g+1]>=w&&(p+=1));u[f][g]>=w&&(p+=1);y[g]=p+r+z;g+=1}}};v.prototype.gb=function(h,g,q,k,a,b,d){var f=this.Mb,l,n,p,r=LifeConstants.Pa,w=
this.g.S;for(l=g-b;l<=k+b;l+=1){var u=f[l];g=h-a;var y=0;var z=d;for(p=-b;p<=b;p+=1){var x=w[l+p];for(n=-a+z;n<=a-z;n+=2)x[g+n]>=r&&(y+=1);z=1-z}1===d&&w[l][g]>=r&&(y+=1);u[g]=y;g+=1;if(g<=q+a){var B=0;z=d;for(p=-b;p<=b;p+=1){x=w[l+p];for(n=-a+z;n<=a-z;n+=2)x[g+n]>=r&&(B+=1);z=1-z}1==d&&w[l][g]>=r&&(B+=1);u[g]=B;for(g+=1;g<=q+a;){z=d;for(p=-b;p<=b;p+=1)x=w[l+p],x[g-a+z-2]>=r&&--y,x[g+a-z]>=r&&(y+=1),z=1-z;1===d&&(w[l][g-2]>=r&&--y,w[l][g]>=r&&(y+=1));u[g]=y;g+=1;if(g<=q+a){z=d;for(p=-b;p<=b;p+=1)x=
w[l+p],x[g-a+z-2]>=r&&--B,x[g+a-z]>=r&&(B+=1),z=1-z;1===d&&(w[l][g-2]>=r&&--B,w[l][g]>=r&&(B+=1));u[g]=B;g+=1}}}}};v.prototype.Nc=function(h,g,q,k,a,b){this.gb(h,g,q,k,a,b,1)};v.prototype.dc=function(h,g,q,k,a,b){this.gb(h,g,q,k,a,b,0)};v.prototype.Ee=function(h,g,q,k,a,b){var d=this.Mb,f,l,n,p=LifeConstants.Pa,r=this.g.S;for(f=g-b;f<=k+b;f+=1){var w=d[f];g=h-a;var u=0;for(n=-b;0>n;n+=1){var y=r[f+n];for(l=-a;l<=a+n;l+=1)y[g+l]>=p&&(u+=1)}for(n=0;n<=b;n+=1)for(y=r[f+n],l=-a+n;l<=a;l+=1)y[g+l]>=p&&
(u+=1);w[g]=u;for(g+=1;g<=q+a;){for(n=-b;0>n;n+=1)y=r[f+n],y[g-a-1]>=p&&--u,y[g+a+n]>=p&&(u+=1);for(n=0;n<=b;n+=1)y=r[f+n],y[g-a+n-1]>=p&&--u,y[g+a]>=p&&(u+=1);w[g]=u;g+=1}}};v.prototype.Ge=function(h,g,q,k,a,b){var d=this.Mb,f,l,n=LifeConstants.Pa,p=this.g.S;for(f=g-b;f<=k+b;f+=1){var r=d[f];for(g=h-a;g<=q+a;){var w=0;for(l=1;l<=b;l+=1){var u=p[f+l];u[g-l]>=n&&(w+=1);u[g+l]>=n&&(w+=1);u=p[f-l];u[g-l]>=n&&(w+=1);u[g+l]>=n&&(w+=1)}u=p[f];u[g]>=n&&(w+=1);r[g]=w;g+=1}}};v.prototype.Je=function(h,g,q,
k,a,b){var d=this.Mb,f,l,n=LifeConstants.Pa,p=this.g.S;for(f=g-b;f<=k+b;f+=1){var r=d[f];for(g=h-a;g<=q+a;){var w=0;for(l=1;l<=b;l+=1){var u=p[f+l];u[g-l]>=n&&(w+=1);u[g+l]>=n&&(w+=1);u[g]>=n&&(w+=1);u=p[f-l];u[g-l]>=n&&(w+=1);u[g+l]>=n&&(w+=1);u[g]>=n&&(w+=1)}u=p[f];for(l=-a;l<=a;l+=1)u[g+l]>=n&&(w+=1);r[g]=w;g+=1}}};v.prototype.vd=function(h,g,q,k,a,b){var d=this.Mb,f,l,n,p=LifeConstants.Pa,r=this.g.S;for(f=g-b;f<=k+b;f+=1){var w=d[f];g=h-a;var u=n=0;for(l=1;l<=b;l+=1){var y=r[f+l];y[g]>=p&&(n+=
1);y=r[f-l];y[g]>=p&&(n+=1)}y=r[f];for(l=-a;l<=a;l+=1)y[g+l]>=p&&(u+=1);w[g]=n+u;for(g+=1;g<=q+a;){n=0;for(l=1;l<=b;l+=1)r[f+l][g]>=p&&(n+=1),r[f-l][g]>=p&&(n+=1);y=r[f];y[g-a-1]>=p&&--u;y[g+a]>=p&&(u+=1);w[g]=n+u;g+=1}}};v.prototype.ff=function(h,g,q,k,a,b){var d=this.Mb,f,l,n=LifeConstants.Pa,p=this.g.S;for(f=g-b;f<=k+b;f+=1){var r=d[f];g=h-a;var w=0;var u=g+f&1;if(0===u){var y=b+1;for(u=-b;0>u;u+=1){var z=p[f+u];for(l=-y;l<y;l+=2)z[g+l]>=n&&(w+=1),z[g+l+1]>=n&&(w+=1);z[g+l]>=n&&(w+=1);y+=1}u=0}else{y=
b;for(u=-b;0>=u;u+=1){z=p[f+u];for(l=-y;l<y;l+=2)z[g+l]>=n&&(w+=1),z[g+l+1]>=n&&(w+=1);z[g+l]>=n&&(w+=1);y+=1}u=1}for(;u<=b;u+=1){--y;z=p[f+u];for(l=-y;l<y;l+=2)z[g+l]>=n&&(w+=1),z[g+l+1]>=n&&(w+=1);z[g+l]>=n&&(w+=1)}r[g]=w;for(g+=1;g<=q+a;){u=g+f&1;if(0===u){y=b+1;l=b;for(u=-b;0>u;u+=1)z=p[f+u],z[g+l]>=n&&(w+=1),l+=1,z[g+l]>=n&&(w+=1),y+=1;--y;z=p[f];z[g-l-1]>=n&&--w;z[g+l]>=n&&(w+=1);l+=1;for(u=1;u<=b;u+=1)--y,--l,z=p[f+u],z[g-l-1]>=n&&--w,z[g-l]>=n&&--w}else{y=b;l=b+1;for(u=-b;0>u;u+=1)z=p[f+u],
z[g-l-1]>=n&&--w,z[g-l]>=n&&--w,y+=1,l+=1;--l;z=p[f];z[g-l-1]>=n&&--w;z[g+l]>=n&&(w+=1);y+=1;for(u=1;u<=b;u+=1)--y,--l,z=p[f+u],z[g+l]>=n&&(w+=1),z[g+l+1]>=n&&(w+=1)}r[g]=w;g+=1}}};v.prototype.Sd=function(h,g,q,k,a,b){var d=this.Mb,f,l,n,p,r=LifeConstants.Pa,w=this.g.S;for(f=g-b;f<=k+b;f+=1){var u=d[f];for(g=h-a;g<=q+a;){var y=0;for(n=-b;0>n;n+=1){var z=p=n+b+1;var x=w[f+n];for(l=-a;0>=l;l+=1)x[g+l]>=r&&(y+=z),z+=p;z-=p+p;for(l=1;l<=a;l+=1)x[g+l]>=r&&(y+=z),z-=p;z=p=n+b+1;x=w[f-n];for(l=-a;0>=l;l+=
1)x[g+l]>=r&&(y+=z),z+=p;z-=p+p;for(l=1;l<=a;l+=1)x[g+l]>=r&&(y+=z),z-=p}z=p=a+1;x=w[f];for(l=-a;0>=l;l+=1)x[g+l]>=r&&(y+=z),z+=p;z-=p+p;for(l=1;l<=a;l+=1)x[g+l]>=r&&(y+=z),z-=p;u[g]=y;g+=1}}};v.prototype.He=function(h,g,q,k,a,b){var d=this.Mb,f,l,n,p=LifeConstants.Pa,r=this.da,w=this.g.S;for(f=g-b;f<=k+b;f+=1){var u=d[f];g=h-a;var y=0;for(n=-b;n<=b;n+=1){var z=r[n+b];var x=w[f+n];for(l=-z;l<z;l+=2)x[g+l]>=p&&(y+=1),x[g+l+1]>=p&&(y+=1);x[g+l]>=p&&(y+=1)}u[g]=y;for(g+=1;g<=q+a;){for(n=-b;n<=b;n+=1)z=
r[n+b],x=w[f+n],x[g-z-1]>=p&&--y,x[g+z]>=p&&(y+=1);u[g]=y;g+=1}}};v.prototype.Ud=function(h){var g,q,k=this.g.M.l,a=this.g.M.u,b=this.g.M.s,d=this.g.M.v,f=this.fh,l=this.gh,n=h?this.Fu:this.Vb,p=h?this.Gu:this.xx,r=f+f,w=l+l;var u=f+1;var y=l+1;var z=this.Mb,x=this.type,B=this.Vo-1,c=this.g.width,m=0,e=this.g.height,t=0,A=c,C=m,D=e,E=t,G=this.g.S,F=this.g.Da;var H=this.g.Aa;var I=this.g.wa,L=0,K=0,N=0,J=0,S=0,U=0,V=0,P=LifeConstants.Pa,sa=LifeConstants.rl,X=this.g.Gp,ja=this.Su;-1!==this.g.xa&&(L=
Math.round((this.g.width-H)/2),N=Math.round((this.g.height-I)/2),K=L+H-1,J=N+I-1,1===n[0]&&(k=L+f,a=K-f,d=J-l,b=N+l),1===this.g.xa&&(k-L<f&&(a=K),K-a<f&&(k=L),J-d<l&&(b=N),b-N<l&&(d=J),this.Lb(L,N,K,J)),0===this.g.xa&&1===B&&this.g.Iz(G,0),k-L<f&&(k=L+f),K-a<f&&(a=K-f),J-d<l&&(d=J-l),b-N<l&&(b=N+l),x===this.C.be?(k-=r,b-=w,a+=r,d+=w):x===this.C.Nf&&6<f&&(k-=f,b-=l,a+=f,d+=l));if(x===this.C.be){k-=r;b-=w;a+=r;d+=w;for(q=b;q<b+w;q+=1)z[q].fill(0,k,a+1);for(q=b+w;q<=d;q+=1)z[q].fill(0,k,k+r+1);var na=
z[b+w-1];for(q=b+w;q<=d;q+=1){var ha=z[q];B=G[q];H=0;for(g=k+r;g+8<=a;)B[g]>=P&&(H+=1),ha[g]=na[g]+H,g+=1,B[g]>=P&&(H+=1),ha[g]=na[g]+H,g+=1,B[g]>=P&&(H+=1),ha[g]=na[g]+H,g+=1,B[g]>=P&&(H+=1),ha[g]=na[g]+H,g+=1,B[g]>=P&&(H+=1),ha[g]=na[g]+H,g+=1,B[g]>=P&&(H+=1),ha[g]=na[g]+H,g+=1,B[g]>=P&&(H+=1),ha[g]=na[g]+H,g+=1,B[g]>=P&&(H+=1),ha[g]=na[g]+H,g+=1;for(;g<=a;)B[g]>=P&&(H+=1),ha[g]=na[g]+H,g+=1;na=ha}k+=f;b+=l;a-=f;d-=l;-1!==this.g.xa&&(k+=r,b+=w,a-=r,d-=w);w=G[b][k];H=z[b+l][k+f];var Y=0;w<P?1===
n[H]&&(U+=1,Y=128):0===p[H]?V+=1:Y=128;w=X[w+Y];G[b][k]=w;w>sa&&(ja[k]|=1,t=e=b,F[b>>4][k>>8]|=1<<(~(k>>4)&15),w>=P&&(S+=1,ja[k]|=2,E=D=b));var ea=I=!1;ha=z[b+l];na=z[b+l];B=G[b];r=F[b>>4];for(g=k+1;g<=a;g+=1)w=B[g],H=ha[g+f]-na[g-u],Y=0,w<P?1===n[H]&&(U+=1,Y=128):0===p[H]?V+=1:Y=128,w=X[w+Y],B[g]=w,w>sa&&(ja[g]|=1,I=!0,r[g>>8]|=1<<(~(g>>4)&15),w>=P&&(S+=1,ja[g]|=2,ea=!0));I&&(t=e=b);ea&&(E=D=b);r=B=!1;ha=k+f;for(q=b+1;q<=d;q+=1)w=G[q][k],H=z[q+l][ha]-z[q-y][ha],Y=0,w<P?1===n[H]&&(U+=1,Y=128):0===
p[H]?V+=1:Y=128,w=X[w+Y],G[q][k]=w,w>sa&&(q<e&&(e=q),q>t&&(t=q),B=!0,F[q>>4][k>>8]|=1<<(~(k>>4)&15),w>=P&&(S+=1,q<D&&(D=q),q>E&&(E=q),r=!0));B&&(ja[k]|=1);r&&(ja[k]|=2);for(q=b+1;q<=d;q+=1){B=G[q];r=F[q>>4];na=z[q+l];var da=z[q-y];ha=k+1+f;var qa=k+1-u;ea=I=!1;for(g=k+1;g<=a;g+=1)w=B[g],H=na[ha]+da[qa]-na[qa]-da[ha],Y=0,w<P?1===n[H]&&(Y=128,U+=1):0===p[H]?V+=1:Y=128,w=X[w+Y],B[g]=w,w>sa&&(I=!0,r[g>>8]|=1<<(~(g>>4)&15),ja[g]|=1,w>=P&&(S+=1,ea=!0,ja[g]|=2)),ha+=1,qa+=1;I&&(q<e&&(e=q),q>t&&(t=q));ea&&
(q<D&&(D=q),q>E&&(E=q))}for(g=k;g<=a;g+=1)ja[g]&&(g<c&&(c=g),g>m&&(m=g),0!==(ja[g]&2)&&(g<A&&(A=g),g>C&&(C=g)),ja[g]=0);this.g.ia=S;this.g.Vb=U;this.g.Gb=V;0<S?(this.g.M.l=c,this.g.M.u=m,this.g.M.s=e,this.g.M.v=t,this.g.Oa.l=A,this.g.Oa.u=C,this.g.Oa.s=D,this.g.Oa.v=E):this.g.Y=0}else if(x===this.C.Nf&&6<f){k-=f;a+=f;b-=l;d+=l;-1===this.g.xa&&(k-=f,a+=f,b-=l,d+=l);this.na=d-b+1;this.T=a-k+1;this.G=this.na+(this.T-1)/2|0;this.Ba=this.T/2|0;for(u=0;u<this.G;u+=1)for(ha=z[u],B=G[u+b],ja=u-1,H=ja-1,q=
z[ja],r=z[H],y=0;y<=this.T;y+=1)ha[y]=this.B(ja,y-1,q)+this.B(ja,y+1,q)-this.B(H,y,r),u<this.na&&B[y+k]>=P&&(ha[y]+=1);for(u=l;u<=this.na-l;u+=1){ja=u-1;q=z[ja];qa=u+l;var ma=z[qa];ha=qa-1;var T=z[ha];g=u-l-1;var Q=z[g];na=g-1;var W=z[na];da=u+b;B=G[da];r=F[da>>4];ea=I=!1;for(y=f;y<=this.T-f;y+=1){H=y+f;w=y-f;H=this.B(qa,y,ma)-this.B(ja,H+1,q)-this.B(ja,w-1,q)+this.B(na,y,W)+this.B(ha,y,T)-this.B(ja,H,q)-this.B(ja,w,q)+this.B(g,y,Q);var ia=y+k;w=B[ia];Y=0;w<P?1===n[H]&&(Y=128,U+=1):0===p[H]?V+=1:
Y=128;w=X[w+Y];B[ia]=w;w>sa&&(ia<c&&(c=ia),ia>m&&(m=ia),I=!0,r[ia>>8]|=1<<(~(ia>>4)&15),w>=P&&(S+=1,ea=!0,ia<A&&(A=ia),ia>C&&(C=ia)))}I&&(da<e&&(e=da),da>t&&(t=da));ea&&(da<D&&(D=da),da>E&&(E=da))}this.g.ia=S;this.g.Vb=U;this.g.Gb=V;0<S?(this.g.M.l=c,this.g.M.u=m,this.g.M.s=e,this.g.M.v=t,this.g.Oa.l=A,this.g.Oa.u=C,this.g.Oa.s=D,this.g.Oa.v=E):this.g.Y=0}else switch(x){case this.C.ih:this.hd(k,b,a,d,f,l);break;case this.C.Th:this.uc(k,b,a,d,f,l);break;case this.C.ni:this.hf(k,b,a,d,f,l);break;case this.C.yp:this.nf(k,
b,a,d,f,l);break;case this.C.nm:this.Id(k,b,a,d,f,l);break;case this.C.Ej:this.Wd(k,b,a,d,f,l);break;case this.C.tj:this.Nc(k,b,a,d,f,l);break;case this.C.nj:this.dc(k,b,a,d,f,l);break;case this.C.Ki:this.Ee(k,b,a,d,f,l);break;case this.C.Vj:this.Ge(k,b,a,d,f,l);break;case this.C.Zj:this.Je(k,b,a,d,f,l);break;case this.C.vj:this.vd(k,b,a,d,f,l);break;case this.C.cj:this.ff(k,b,a,d,f,l);break;case this.C.Hi:this.Sd(k,b,a,d,f,l);break;default:this.He(k,b,a,d,f,l)}-1!==this.g.xa&&(k<L+f&&(k=L+f),a>K-
f&&(a=K-f),b<N+l&&(b=N+l),d>J-l&&(d=J-l));x===this.C.be||x===this.C.Nf&&6<f||this.Fb(k,b,a,d,h);1===this.g.xa&&this.ab(L,N,K,J)};v.prototype.jd=function(h,g,q,k,a,b){var d=this.Mb,f,l=this.g.i+this.g.K-1,n=this.Vf,p=this.Wf,r=this.g.S;for(f=g-b;f<=k+b;f+=1){var w=d[f];for(g=h-a;g<=q+a;){var u=0;var y=r[f-n];y[g-n]===l&&(u+=1);y[g+n]===l&&(u+=1);y=r[f+n];y[g-n]===l&&(u+=1);y[g+n]===l&&(u+=1);r[f-p][g]===l&&(u+=1);r[f+p][g]===l&&(u+=1);y=r[f];y[g-p]===l&&(u+=1);y[g+p]===l&&(u+=1);y[g]===l&&(u+=1);w[g]=
u;g+=1}}};v.prototype.Dc=function(h,g,q,k,a,b){var d=this.Mb,f,l,n=this.g.i+this.g.K-1,p=this.g.S;for(f=g-b;f<=k+b;f+=1){var r=d[f];for(g=h-a;g<=q+a;){var w=0;for(l=-b;0>l;l+=1){var u=p[f+l];u[g]===n&&(w+=1);u[g+l]===n&&(w+=1)}u=p[f];for(l=-a;l<=a;l+=1)u[g+l]===n&&(w+=1);for(l=1;l<=a;l+=1)u=p[f+l],u[g]===n&&(w+=1),u[g+l]===n&&(w+=1);r[g]=w;g+=1}}};v.prototype.lf=function(h,g,q,k,a,b){var d=this.Mb,f,l,n=this.g.i+this.g.K-1,p=this.g.S;for(f=g-b;f<=k+b;f+=1){var r=d[f];for(g=h-a;g<=q+a;){var w=0;for(l=
-b;0>l;l+=1){var u=p[f+l];u[g]===n&&(w+=1)}u=p[f];for(l=-a;0>=l;l+=1)u[g+l]===n&&(w+=1);for(l=1;l<=a;l+=1)p[f+l][g+l]===n&&(w+=1);r[g]=w;g+=1}}};v.prototype.Hf=function(h,g,q,k,a,b){var d=this.Mb,f,l,n,p=this.g.i+this.g.K-1,r=this.g.S;if(null===this.Hh)for(f=g-b;f<=k+b;f+=1){var w=d[f];for(g=h-a;g<=q+a;){if(this.P&&0!==(g+f&1)){var u=-(a+a+1);var y=this.yf.length+u;u+=u}else u=y=0;var z=0;for(n=-b;n<=b;n+=1){var x=r[f+n];for(l=-a;l<=a;l+=1)x[g+l]===p&&(z+=this.yf[y]),y+=1;y+=u}w[g]=z;g+=1}}else if(1!==
a||1!==b||this.P){var B=this.Hh[0];var c=this.Hh[1];for(f=g-b;f<=k+b;f+=1)for(w=d[f],g=h-a;g<=q+a;){this.P&&0!==(g+f&1)?(u=-(a+a+1),y=this.yf.length+u,u+=u):u=y=0;z=0;for(n=-b;n<=b;n+=1){x=r[f+n];for(l=-a;l<=a;l+=1)z=x[g+l]===p?z+this.yf[y]*c:z+this.yf[y]*B,y+=1;y+=u}w[g]=z;g+=1}}else this.Gf(g,k,h,q,a)};v.prototype.Rd=function(h,g,q,k,a,b){var d=this.Mb,f,l,n,p,r=this.g.i+this.g.K-1,w=this.Ka,u=this.g.S;for(f=g-b;f<=k+b;f+=1){var y=d[f];for(g=h-a;g<=q+a;){for(l=p=0;l<w.length;){var z=w[l];this.P&&
0===(g+f&1)&&(z=-z);l+=1;var x=u[f+z];z=w[l];for(n=l+=1;n<l+z;n+=1)x[g+w[n]]===r&&(p+=1);l+=z}y[g]=p;g+=1}}};v.prototype.ne=function(h,g,q,k,a,b){var d=this.Mb,f,l,n,p,r,w=this.g.i+this.g.K-1,u=this.g.S;for(f=g-b;f<=k+b;f+=1){var y=d[f];g=h-a;var z=r=p=0;for(n=-b;n<=b;n+=1){var x=u[f+n];if(1===n)for(l=-a;l<=a;l+=1)x[g+l]===w&&(r+=1);else if(-1===n)for(l=-a;l<=a;l+=1)x[g+l]===w&&(z+=1);else x[g-1]===w&&(p+=1),x[g+1]===w&&(p+=1)}u[f][g]===w&&(p+=1);y[g]=p+r+z;for(g+=1;g<=q+a;){p=0;for(n=-b;n<=b;n+=
1)x=u[f+n],1===n?(x[g-a-1]===w&&--r,x[g+a]===w&&(r+=1)):-1===n?(x[g-a-1]===w&&--z,x[g+a]===w&&(z+=1)):(x[g-1]===w&&(p+=1),x[g+1]===w&&(p+=1));u[f][g]===w&&(p+=1);y[g]=p+r+z;g+=1}}};v.prototype.zb=function(h,g,q,k,a,b,d){var f=this.Mb,l,n,p,r=this.g.i+this.g.K-1,w=this.g.S;for(l=g-b;l<=k+b;l+=1){var u=f[l];g=h-a;var y=0;var z=d;for(p=-b;p<=b;p+=1){var x=w[l+p];for(n=-a+z;n<=a-z;n+=2)x[g+n]===r&&(y+=1);z=1-z}1===d&&w[l][g]===r&&(y+=1);u[g]=y;g+=1;if(g<=q+a){var B=0;z=d;for(p=-b;p<=b;p+=1){x=w[l+p];
for(n=-a+z;n<=a-z;n+=2)x[g+n]===r&&(B+=1);z=1-z}1===d&&w[l][g]===r&&(B+=1);u[g]=B;for(g+=1;g<=q+a;){z=d;for(p=-b;p<=b;p+=1)x=w[l+p],x[g-a+z-2]===r&&--y,x[g+a-z]===r&&(y+=1),z=1-z;1===d&&(w[l][g-2]===r&&--y,w[l][g]===r&&(y+=1));u[g]=y;g+=1;if(g<=q+a){z=d;for(p=-b;p<=b;p+=1)x=w[l+p],x[g-a+z-2]===r&&--B,x[g+a-z]===r&&(B+=1),z=1-z;1===d&&(w[l][g-2]===r&&--B,w[l][g]===r&&(B+=1));u[g]=B;g+=1}}}}};v.prototype.ad=function(h,g,q,k,a,b){this.zb(h,g,q,k,a,b,1)};v.prototype.ec=function(h,g,q,k,a,b){this.zb(h,
g,q,k,a,b,0)};v.prototype.Fe=function(h,g,q,k,a,b){var d=this.Mb,f,l,n,p=this.g.i+this.g.K-1,r=this.g.S;for(f=g-b;f<=k+b;f+=1){var w=d[f];g=h-a;var u=0;for(n=-b;0>n;n+=1){var y=r[f+n];for(l=-a;l<=a+n;l+=1)y[g+l]===p&&(u+=1)}for(n=0;n<=b;n+=1)for(y=r[f+n],l=-a+n;l<=a;l+=1)y[g+l]===p&&(u+=1);w[g]=u;for(g+=1;g<=q+a;){for(n=-b;0>n;n+=1)y=r[f+n],y[g-a-1]===p&&--u,y[g+a+n]===p&&(u+=1);for(n=0;n<=b;n+=1)y=r[f+n],y[g-a+n-1]===p&&--u,y[g+a]===p&&(u+=1);w[g]=u;g+=1}}};v.prototype.Ce=function(h,g,q,k,a,b){var d=
this.Mb,f,l,n=this.g.i+this.g.K-1,p=this.g.S;for(f=g-b;f<=k+b;f+=1){var r=d[f];for(g=h-a;g<=q+a;){var w=0;for(l=1;l<=b;l+=1){var u=p[f+l];u[g-l]===n&&(w+=1);u[g+l]===n&&(w+=1);u=p[f-l];u[g-l]===n&&(w+=1);u[g+l]===n&&(w+=1)}u=p[f];u[g]===n&&(w+=1);r[g]=w;g+=1}}};v.prototype.bf=function(h,g,q,k,a,b){var d=this.Mb,f,l,n=this.g.i+this.g.K-1,p=this.g.S;for(f=g-b;f<=k+b;f+=1){var r=d[f];for(g=h-a;g<=q+a;){var w=0;for(l=1;l<=b;l+=1){var u=p[f+l];u[g-l]===n&&(w+=1);u[g+l]===n&&(w+=1);u[g]===n&&(w+=1);u=p[f-
l];u[g-l]===n&&(w+=1);u[g+l]===n&&(w+=1);u[g]===n&&(w+=1)}u=p[f];for(l=-a;l<=a;l+=1)u[g+l]===n&&(w+=1);r[g]=w;g+=1}}};v.prototype.Hd=function(h,g,q,k,a,b){var d=this.Mb,f,l,n,p=this.g.i+this.g.K-1,r=this.g.S;for(f=g-b;f<=k+b;f+=1){var w=d[f];g=h-a;var u=n=0;for(l=1;l<=b;l+=1){var y=r[f+l];y[g]===p&&(n+=1);y=r[f-l];y[g]===p&&(n+=1)}y=r[f];for(l=-a;l<=a;l+=1)y[g+l]===p&&(u+=1);w[g]=n+u;for(g+=1;g<=q+a;){n=0;for(l=1;l<=b;l+=1)r[f+l][g]===p&&(n+=1),r[f-l][g]===p&&(n+=1);y=r[f];y[g-a-1]===p&&--u;y[g+a]===
p&&(u+=1);w[g]=n+u;g+=1}}};v.prototype.gf=function(h,g,q,k,a,b){var d=this.Mb,f,l,n=this.g.i+this.g.K-1,p=this.g.S;for(f=g-b;f<=k+b;f+=1){var r=d[f];g=h-a;var w=0;var u=g+f&1;if(0===u){var y=b+1;for(u=-b;0>u;u+=1){var z=p[f+u];for(l=-y;l<y;l+=2)z[g+l]===n&&(w+=1),z[g+l+1]===n&&(w+=1);z[g+l]===n&&(w+=1);y+=1}u=0}else{y=b;for(u=-b;0>=u;u+=1){z=p[f+u];for(l=-y;l<y;l+=2)z[g+l]===n&&(w+=1),z[g+l+1]===n&&(w+=1);z[g+l]===n&&(w+=1);y+=1}u=1}for(;u<=b;u+=1){--y;z=p[f+u];for(l=-y;l<y;l+=2)z[g+l]===n&&(w+=1),
z[g+l+1]===n&&(w+=1);z[g+l]===n&&(w+=1)}r[g]=w;for(g+=1;g<=q+a;){u=g+f&1;if(0===u){y=b+1;l=b;for(u=-b;0>u;u+=1)z=p[f+u],z[g+l]===n&&(w+=1),l+=1,z[g+l]===n&&(w+=1),y+=1;--y;z=p[f];z[g-l-1]===n&&--w;z[g+l]===n&&(w+=1);l+=1;for(u=1;u<=b;u+=1)--y,--l,z=p[f+u],z[g-l-1]===n&&--w,z[g-l]===n&&--w}else{y=b;l=b+1;for(u=-b;0>u;u+=1)z=p[f+u],z[g-l-1]===n&&--w,z[g-l]===n&&--w,y+=1,l+=1;--l;z=p[f];z[g-l-1]===n&&--w;z[g+l]===n&&(w+=1);y+=1;for(u=1;u<=b;u+=1)--y,--l,z=p[f+u],z[g+l]===n&&(w+=1),z[g+l+1]===n&&(w+=
1)}r[g]=w;g+=1}}};v.prototype.Td=function(h,g,q,k,a,b){var d=this.Mb,f,l,n,p,r=this.g.i+this.g.K-1,w=this.g.S;for(f=g-b;f<=k+b;f+=1){var u=d[f];for(g=h-a;g<=q+a;){var y=0;for(n=-b;0>n;n+=1){var z=p=n+b+1;var x=w[f+n];for(l=-a;0>=l;l+=1)x[g+l]===r&&(y+=z),z+=p;z-=p+p;for(l=1;l<=a;l+=1)x[g+l]===r&&(y+=z),z-=p;z=p=n+b+1;x=w[f-n];for(l=-a;0>=l;l+=1)x[g+l]===r&&(y+=z),z+=p;z-=p+p;for(l=1;l<=a;l+=1)x[g+l]===r&&(y+=z),z-=p}z=p=a+1;x=w[f];for(l=-a;0>=l;l+=1)x[g+l]===r&&(y+=z),z+=p;z-=p+p;for(l=1;l<=a;l+=
1)x[g+l]===r&&(y+=z),z-=p;u[g]=y;g+=1}}};v.prototype.Ie=function(h,g,q,k,a,b){var d=this.Mb,f,l,n,p=this.g.i+this.g.K-1,r=this.da,w=this.g.S;for(f=g-b;f<=k+b;f+=1){var u=d[f];g=h-a;var y=0;for(n=-b;n<=b;n+=1){var z=r[n+b];var x=w[f+n];for(l=-z;l<z;l+=2)x[g+l]===p&&(y+=1),x[g+l+1]===p&&(y+=1);x[g+l]===p&&(y+=1)}u[g]=y;for(g+=1;g<=q+a;){for(n=-b;n<=b;n+=1)z=r[n+b],x=w[f+n],x[g-z-1]===p&&--y,x[g+z]===p&&(y+=1);u[g]=y;g+=1}}};v.prototype.Vd=function(h){var g,q,k=this.g.M.l,a=this.g.M.u,b=this.g.M.s,d=
this.g.M.v,f=this.fh,l=this.gh,n=h?this.Fu:this.Vb,p=h?this.Gu:this.xx,r=f+f,w=l+l;var u=f+1;var y=l+1;var z=this.Mb,x=this.type,B=this.g.width,c=0,m=this.g.height,e=0,t=B,A=c,C=m,D=e,E=this.g.S,G=this.g.Da;var F=this.g.Aa;var H=this.g.wa;var I=0,L=0,K=0,N=0,J=0,S=0,U=0,V,P=this.g.i+this.g.K-1,sa=this.g.K,X=0<this.g.K?1:0;-1!==this.g.xa&&(I=Math.round((this.g.width-F)/2),K=Math.round((this.g.height-H)/2),L=I+F-1,N=K+H-1,1===n[0]&&(k=I+f,a=L-f,d=N-l,b=K+l),1===this.g.xa&&(k-I<f&&(a=L),L-a<f&&(k=I),
N-d<l&&(b=K),b-K<l&&(d=N),this.Lb(I,K,L,N)),k-I<f&&(k=I+f),L-a<f&&(a=L-f),N-d<l&&(d=N-l),b-K<l&&(b=K+l),x===this.C.be?(k-=r,b-=w,a+=r,d+=w):x===this.C.Nf&&6<f&&(k-=f,b-=l,a+=f,d+=l));if(x===this.C.be){k-=r;b-=w;a+=r;d+=w;for(q=b;q<b+w;q+=1)z[q].fill(0,k,a+1);for(q=b+w;q<=d;q+=1)z[q].fill(0,k,k+r);for(q=b+w;q<=d;q+=1){var ja=z[q-1];var na=z[q];F=E[q];H=0;for(g=k+r;g<=a;g+=1)F[g]===P&&(H+=1),na[g]=ja[g]+H}k+=f;b+=l;a-=f;d-=l;-1!==this.g.xa&&(k+=r,b+=w,a-=r,d-=w);w=E[b][k];H=z[b+l][k+f];w<=sa?1===n[H]?
(w=P,S+=1):w>X&&--w:w===P?0===p[H]&&(--w,U+=1):w>X&&--w;E[b][k]=w;0<w&&(c=B=k,e=m=b,G[b>>4][k>>8]|=1<<(~(k>>4)&15),w===P&&(J+=1,A=t=k,D=C=b));var ha=V=!1;na=z[b+l];ja=z[b+l];F=E[b];r=G[b>>4];for(g=k+1;g<=a;g+=1)w=F[g],H=na[g+f]-ja[g-u],w<=sa?1===n[H]?(w=P,S+=1):w>X&&--w:w===P?0===p[H]&&(--w,U+=1):w>X&&--w,F[g]=w,0<w&&(g<B&&(B=g),g>c&&(c=g),V=!0,r[g>>8]|=1<<(~(g>>4)&15),w===P&&(J+=1,g<t&&(t=g),g>A&&(A=g),ha=!0));V&&(e=m=b);ha&&(D=C=b);r=F=!1;na=k+f;for(q=b+1;q<=d;q+=1)w=E[q][k],H=z[q+l][na]-z[q-y][na],
w<=sa?1===n[H]?(w=P,S+=1):w>X&&--w:w===P?0===p[H]&&(--w,U+=1):w>X&&--w,E[q][k]=w,0<w&&(q<m&&(m=q),q>e&&(e=q),F=!0,G[q>>4][k>>8]|=1<<(~(k>>4)&15),w===P&&(J+=1,q<C&&(C=q),q>D&&(D=q),r=!0));F&&(k<B&&(B=k),k>c&&(c=k));r&&(k<t&&(t=k),k>A&&(A=k));for(q=b+1;q<=d;q+=1){F=E[q];r=G[q>>4];ja=z[q+l];var Y=z[q-y];ha=V=!1;na=k+1+f;var ea=k+1-u;for(g=k+1;g<=a;g+=1)w=F[g],H=ja[na]+Y[ea]-ja[ea]-Y[na],w<=sa?1===n[H]?(w=P,S+=1):w>X&&--w:w===P?0===p[H]&&(--w,U+=1):w>X&&--w,F[g]=w,0<w&&(r[g>>8]|=1<<(~(g>>4)&15),g<B&&
(B=g),g>c&&(c=g),V=!0,w===P&&(J+=1,ha=!0,g<t&&(t=g),g>A&&(A=g))),na+=1,ea+=1;V&&(q<m&&(m=q),q>e&&(e=q));ha&&(q<C&&(C=q),q>D&&(D=q))}this.g.ia=J;this.g.Vb=S;this.g.Gb=U;0<J?(this.g.M.l=B,this.g.M.u=c,this.g.M.s=m,this.g.M.v=e,this.g.Oa.l=t,this.g.Oa.u=A,this.g.Oa.s=C,this.g.Oa.v=D):this.g.Y=0}else if(x===this.C.Nf&&6<f){k-=f;a+=f;b-=l;d+=l;-1===this.g.xa&&(k-=f,a+=f,b-=l,d+=l);this.na=d-b+1;this.T=a-k+1;this.G=this.na+(this.T-1)/2|0;this.Ba=this.T/2|0;for(u=0;u<this.G;u+=1)for(na=z[u],F=E[u+b],q=u-
1,H=q-1,g=z[q],r=z[H],y=0;y<=this.T;y+=1)na[y]=this.B(q,y-1,g)+this.B(q,y+1,g)-this.B(H,y,r),u<this.na&&F[y+k]===P&&(na[y]+=1);for(u=l;u<=this.na-l;u+=1){q=u-1;g=z[q];var da=u+l;var qa=z[da];na=da-1;var ma=z[na];ja=u-l-1;var T=z[ja];Y=ja-1;var Q=z[Y];ea=u+b;F=E[ea];r=G[ea>>4];ha=V=!1;for(y=f;y<=this.T-f;y+=1){H=y+f;w=y-f;H=this.B(da,y,qa)-this.B(q,H+1,g)-this.B(q,w-1,g)+this.B(Y,y,Q)+this.B(na,y,ma)-this.B(q,H,g)-this.B(q,w,g)+this.B(ja,y,T);var W=y+k;w=F[W];w<=sa?1===n[H]?(w=P,S+=1):w>X&&--w:w===
P?0===p[H]&&(--w,U+=1):w>X&&--w;F[W]=w;0<w&&(r[W>>8]|=1<<(~(W>>4)&15),W<B&&(B=W),W>c&&(c=W),V=!0,w===P&&(J+=1,ha=!0,W<t&&(t=W),W>A&&(A=W)))}V&&(ea<m&&(m=ea),ea>e&&(e=ea));ha&&(ea<C&&(C=ea),ea>D&&(D=ea))}this.g.ia=J;this.g.Vb=S;this.g.Gb=U;0<J?(this.g.M.l=B,this.g.M.u=c,this.g.M.s=m,this.g.M.v=e,this.g.Oa.l=t,this.g.Oa.u=A,this.g.Oa.s=C,this.g.Oa.v=D):this.g.Y=0}else switch(x){case this.C.ih:this.jd(k,b,a,d,f,l);break;case this.C.Th:this.Dc(k,b,a,d,f,l);break;case this.C.ni:this.lf(k,b,a,d,f,l);break;
case this.C.yp:this.Hf(k,b,a,d,f,l);break;case this.C.nm:this.Rd(k,b,a,d,f,l);break;case this.C.Ej:this.ne(k,b,a,d,f,l);break;case this.C.tj:this.ad(k,b,a,d,f,l);break;case this.C.nj:this.ec(k,b,a,d,f,l);break;case this.C.Ki:this.Fe(k,b,a,d,f,l);break;case this.C.Vj:this.Ce(k,b,a,d,f,l);break;case this.C.Zj:this.bf(k,b,a,d,f,l);break;case this.C.vj:this.Hd(k,b,a,d,f,l);break;case this.C.cj:this.gf(k,b,a,d,f,l);break;case this.C.Hi:this.Td(k,b,a,d,f,l);break;default:this.Ie(k,b,a,d,f,l)}-1!==this.g.xa&&
(k<I+f&&(k=I+f),a>L-f&&(a=L-f),b<K+l&&(b=K+l),d>N-l&&(d=N-l));x===this.C.be||x===this.C.Nf&&6<f||this.Fb(k,b,a,d,h);1===this.g.xa&&this.ab(I,K,L,N)};v.prototype.uM=function(h){var g=!1;this.oc&&1===(h&1)&&(g=!0);2===this.Vo?this.Ud(g):this.Vd(g)};window.HROT=v}(),function(){function v(a,b,d,f,l,n,p,r){this.name=a;this.Al=!1;this.Am=10;this.bi=this.ai=0;this.rb=f;this.Bb=d;this.ob=b;this.Lg=l;this.fc=n;this.Qc=p;this.dj=r;this.tm=!1;-1===this.fc.ca.red&&(this.tm=!0);128<=(this.rb.red+this.rb.green+
this.rb.blue)/3?(this.ai=ViewConstants.yF,this.bi=ViewConstants.xF):(this.ai=ViewConstants.Mv,this.bi=ViewConstants.Lv)}function h(a,b,d){this.red=a;this.green=b;this.blue=d}function g(a,b){this.aa=a;this.ca=b}function q(a,b,d,f,l,n){this.C=n;this.qu=!0;this.A=new Allocator;this.Mh=[];this.de=!1;this.kk=!0;this.wh=!1;this.Qu=this.Wt=this.ir=this.Yt=this.nk=this.mj=this.lj=this.jd=null;this.$b=new Random;this.$b.Ff(Date.now().toString());this.fa=!1;this.Dg=8;this.Te=2;this.ji=0;this.Nl=-1;this.xe=
this.Vk=this.Uk=null;this.$g=[];this.ge=null;this.Ll=this.Uj=this.Zg=0;this.pf=this.dc=this.fj=this.yi=this.kj=this.Ii=this.hf=this.fe=null;this.ab=this.Ag=0;this.zg=this.zk=null;this.Hf=!0;this.hj=new BoundingBox(0,0,0,0);this.Jh=this.nf=-1;this.cu=this.Yy=0;this.Zy=!1;this.cm=!0;this.uj=this.Fg=this.oc=this.ud=this.td=!1;this.Os=0;this.Cm=[];this.Fm=[];this.Im=[];this.Jm=[];this.ol=[];this.ul=[];this.vm=[];this.ym=[];this.gn=[];this.No=[];this.Po=[];this.Uo=[];this.Lm=[];this.Om=[];this.Vm=[];this.Wm=
[];this.oi=[];this.Kg=this.Fc="";this.Lb=255;this.kc=null;this.jg=this.A.R(Uint8,65536,"Life.bitCounts16");this.ry();this.nu=this.A.R(Uint8,65536,"Life.firstBit16");this.ty();this.ti=this.Fh=this.uc=null;this.Zb=this.cc=this.ad=this.Lh=0;this.Bc=1;this.Y=0;this.wa=this.Aa=this.xa=-1;this.Tn=this.Sn=0;this.Vy=this.Ou=!1;this.qt=ViewConstants.$E;this.Fe=[];this.Ge=[];this.Fe[0]=this.A.R(Int32,k.cx,"Life.boundaryX0");this.Ge[0]=this.A.R(Int32,k.cx,"Life.boundaryY0");this.hk=0;this.nl=4294967295;this.fm=
4286611584;this.DC="rgb(0,255,0)";this.kB="rgb(255,0,0)";this.Du="rgb(255,255,0)";this.L=this.la=this.Fa=!1;this.je=-1;this.P=!1;this.ie=this.C.Kn;this.U=!1;this.Ug=this.C.$p;this.Ne=this.Ew=this.sc=!1;this.i=-1;this.V=this.ta=!1;this.zi=this.K=0;this.og=this.pa=!1;this.bh=new SnapshotManager(this.A,this.jg);this.Bo=k.zt;this.kd=this.qc=this.bl=!1;this.$d=this.Yf=this.Oa=this.M=null;this.width=f;this.height=l;this.ip=2;this.jp=16;this.ua=this.width>>4;this.ya=this.height>>4;this.au=null;this.J=b;
this.H=d;this.Gb=this.Vb=this.ia=0;this.Pa=k.Pa;this.Sf=k.Sf;this.cf=k.cf;this.rl=k.rl;this.hw=this.rb=0;this.$=1;this.Uf=-1;this.Vn=1;this.im=30;this.Na=this.angle=this.counter=this.Ij=this.af=0;this.zoom=6;this.va=this.Ca=0;this.Oe=.1;this.ib=0;this.oa=1;this.Le=this.Ke=0;this.B=.1;this.ae=littleEndian;this.mb=[];this.Eg=this.Ce=this.Td=this.Gf=this.ne=this.vd=this.ec=this.Ph=this.gf=this.He=this.dh=this.Je=this.Ee=this.Dc=null;this.rf=-1;this.jj=this.Nc=this.yd=this.gl=null;this.context=a;this.Cb=
this.Ab=0;this.Yb=this.hb=this.th=this.zd=this.ze=this.ra=this.ja=null;this.hl=this.A.R(Uint32,this.J,"Life.blankPixelRow");this.Bf=this.A.R(Uint8,(this.width-1>>3)+1,"Life.blankRow");this.sr=this.A.R(Uint16,(this.width-1>>4)+1,"Life.blankRow16");this.wd=this.A.R(Uint16,this.ua>>4,"Life.blankTileRow");this.wc=this.A.R(Uint8,this.width,"Life.blankColourRow");this.Hg=this.$j=this.Zi=this.vf=this.Da=this.La=this.Lk=this.Ho=this.$c=this.hc=this.qe=this.yk=this.ac=this.Ja=this.S=null;this.Ta=this.A.R(Uint8,
256,"Life.redChannel");this.Sa=this.A.R(Uint8,256,"Life.greenChannel");this.Qa=this.A.R(Uint8,256,"Life.blueChannel");this.Se=this.A.R(Uint32,256,"Life.pixelColours");this.Wd=null;this.zu=0;this.Vd=this.Yc=this.lf=this.Ud=this.ij=this.xi=this.xg=this.vi=null;this.Gp=this.A.R(Uint16,2*(this.Sf+1)<<8,"Life.colourLookup");this.du=this.A.R(Uint8,2048,"Life.colourReset");this.Zd=ViewConstants.Mv;this.wg=-1;this.rg=ViewConstants.Lv;this.vg=-1;this.Ef=10;this.Bl=!0;this.mK=10;this.gb=this.na=null;this.ga=
8192;this.wL=[0,0,48];this.vL=[255,255,255];this.uL=[255,255,255];this.xL=[0,255,0];this.yL=[255,0,0];this.Bj=[0,0,48];this.Aj=[255,255,255];this.zj=[255,255,255];this.Cj=[0,255,0];this.Dj=[255,0,0];this.za=new HROT(this.A,this,n);this.coords=this.A.R(Float32,1,"Life.coords");this.Ka=this.A.R(Uint32,1,"Life.cellColours");this.zb=0}var k={VA:0,XA:1,WA:2,oM:3,xm:5E4,pl:0,$e:1,pe:2,jM:0,ww:0,vw:1,RA:2,SA:3,oG:4,TA:5,UA:6,lM:6,kM:7,mM:8,cM:20,nM:"RotCCW RotCW FlipX FlipY FlipXY RotCWFlipX RotCWFlipY FlipXorY RotCWorCCW".split(" "),
Fl:1048576,AE:"Buffer Full",Vu:[[0,0,0],[0,255,0],[0,0,160],[255,216,255],[255,0,0],[255,255,0],[96,96,96],[255,105,180],[128,0,128],[0,191,255],[0,64,128],[64,224,208],[0,128,64],[255,255,255],[255,99,71],[250,128,114],[219,112,147],[255,165,0],[245,222,179],[0,255,255],[192,192,192],[192,255,128],[255,182,193],[0,255,127],[1,1,1],[255,0,127]],xw:"dead;on;off;marked on trail;marked off trail;marked on alt;boundary;marked on no-trail;marked off no-trail;on trail 1;off trail 1;on trail;off trail 2;on no-trail 1;off disappearing;on no-trail 2;off vanishing;on no-trail 3;off cycling 1;on no-trail 4;off cycling 2;on no-trail 5;off cycling 3;on no-trail 6;hidden;on no-trail 7".split(";"),
Hp:[[0,0,0],[255,0,0],[0,255,0],[128,128,0],[16,16,255],[128,0,128],[0,128,128],[96,96,96],[255,255,0],[255,128,0],[128,255,0],[170,170,0],[144,144,144],[170,85,85],[85,128,43],[128,128,64],[0,0,0],[255,0,0],[0,255,0],[128,128,0]],iL:[[1,1,1],[1,0,0],[0,1,0]],jL:[[0,1,0],[1,1,0],[1,0,1]],kL:[[1,1,0],[1,0,1],[1,0,0]],lL:[[0,1,1],[1,1,0],[0,0,1]],eL:[[1,1,1],[0,0,1],[0,1,0]],fL:[[0,1,0],[0,1,1],[1,0,1]],gL:[[0,1,1],[1,0,1],[0,0,1]],hL:[[1,1,0],[0,1,1],[1,0,0]],qL:[[0,1,0],[1,0,0],[1,1,1]],rL:[[1,0,
1],[1,1,0],[0,1,0]],sL:[[1,0,0],[1,0,1],[1,1,0]],tL:[[0,0,1],[1,1,0],[0,1,1]],mL:[[0,1,0],[0,0,1],[1,1,1]],nL:[[1,0,1],[0,1,1],[0,1,0]],oL:[[0,0,1],[1,0,1],[0,1,1]],pL:[[1,0,0],[0,1,1],[1,1,0]],Gc:4096,Di:16,cx:4096,BL:512,Pv:262144,Bm:65536,no:65536,AF:8192,zF:131072,zt:64,cG:524288,Pj:12,Pa:64,Sf:127,cf:63,rl:1,Ub:1,lb:2,yb:4,Sb:8,bc:16,xb:32,Wb:64,Xb:128};v.prototype.set=function(a){this.Al=a.Al;this.Am=a.Am;this.ai=a.ai;this.bi=a.bi;this.rb=a.rb;this.Bb=a.Bb;this.ob=a.ob;this.Lg=a.Lg;this.fc=
a.uP;this.Qc=a.Qc;this.dj=a.dj;this.fc=a.fc;this.tm=a.tm};v.prototype.Zo=function(a,b,d){this.Al=!0;this.Am=a;this.ai=b.red<<16|b.green<<8|b.blue;this.bi=d.red<<16|d.green<<8|d.blue};v.prototype.dO=function(a,b){this.ai=-1!==a?a:128<=(this.rb.red+this.rb.green+this.rb.blue)/3?ViewConstants.yF:ViewConstants.Mv;this.bi=-1!==b?b:128<=(this.rb.red+this.rb.green+this.rb.blue)/3?ViewConstants.xF:ViewConstants.Lv};v.prototype.AL=function(a){var b=!0;a||this.Bb.aa.pA(this.Bb.ca)&&this.ob.aa.pA(this.ob.ca)&&
this.ob.aa.pA(this.rb)&&(b=!1);return b};h.prototype.set=function(a){this.red=a.red;this.green=a.green;this.blue=a.blue};h.prototype.pA=function(a){var b=!1;this.red===a.red&&this.green===a.green&&this.blue===a.blue&&(b=!0);return b};g.prototype.set=function(a){this.aa.set(a.aa);this.ca.set(a.ca)};q.prototype.mA=function(){var a=ViewConstants.Ib,b=this.J+a+a<<1;a=this.H+a+a<<1;this.wh?(null===this.jd&&(this.jd=document.createElement("canvas")),this.jd.width=b,this.jd.height=a,this.lj=this.jd.getContext("2d",
{alpha:!1}),this.mj=this.lj.getImageData(0,0,this.jd.width,this.jd.height),this.nk=new Uint32Array(this.mj.data.buffer)):this.nk=this.mj=this.lj=null};q.prototype.EF=function(){var a,b,d,f=this.J,l=20*this.H,n=-l,p=this.$b;this.Yt=new Uint16Array(k.xm);this.ir=new Float32Array(k.xm);this.Wt=new Float32Array(k.xm);this.Qu=new Uint32Array(k.xm);var r=this.Yt;var w=this.ir;var u=this.Wt;for(a=0;a<k.xm;a+=1){r[a]=p.random()*f|0;for(b=d=0;10>b;b+=1)d+=p.random()*l;w[a]=-d/10;w[a]>n&&(n=w[a]);u[a]=p.random()/
5+.8;if(a<k.xm-4&&.2>p.random()){b=r[a];d=w[a];var y=u[a];a+=1;r[a]=b;w[a]=d-2;u[a]=y;a+=1;r[a]=b;w[a]=d+2;u[a]=y;1<b&&(a+=1,r[a]=b-2,w[a]=d,u[a]=y);b<f-2&&(a+=1,r[a]=b+2,w[a]=d,u[a]=y)}}for(a=0;a<k.xm;a+=1)w[a]-=n};q.prototype.Rd=function(){var a,b=0,d=this.J,f=this.H,l=this.Se[0],n=this.yd,p=this.$b,r=this.Yt,w=this.ir,u=this.Wt,y=this.Qu;for(a=0;a<k.xm;a+=1){var z=r[a];var x=w[a];var B=u[a];var c=z;var m=x;if(0<=x&&x<f-1)if((x|0)===(x+B|0))m=x+B,n[(m|0)*d+c]=-1;else{if(n[(x+B|0)*d+z]===l)m=x+B;
else{var e=p.random();if(.05>e){var t=1;.025>e&&(t=-1);0<=z+t&&z+t<d&&n[(x+B|0)*d+z+t]===l&&n[(x|0)*d+z+t]===l&&(c=z+t,m=x+B)}}n[(m|0)*d+c]=-1}else 0>x&&(m=x+B);m>=f-1&&(y[b]=a,b+=1);r[a]=c;w[a]=m}if(5<b)for(a=0;a<b;a+=1).25>p.random()&&(e=y[a],m=-(p.random()*f),c=p.random()*d|0,r[e]=c,w[e]=m,B=u[e],a<b-4&&.2>p.random()&&(a+=1,e=y[a],r[e]=c,w[e]=m-2,u[e]=B,a+=1,e=y[a],r[e]=c,w[e]=m+2,u[e]=B,1<c&&(a+=1,e=y[a],r[e]=c-2,w[e]=m,u[e]=B),c<d-2&&(a+=1,e=y[a],r[e]=c+2,w[e]=m,u[e]=B)))};q.prototype.YM=function(a){this.fe=
a};q.prototype.qs=function(a){this.ab=0;a?null===this.hf&&(this.hf=this.A.R(Int32,k.Fl,"Life.hashList"),this.Ii=this.A.R(Uint32,k.Fl,"Life.genList"),this.kj=this.A.R(Uint32,k.Fl,"Life.popList"),this.yi=this.A.R(Uint32,k.Fl,"Life.bornList"),this.fj=this.A.R(Uint32,k.Fl,"Life.diedList"),this.dc=this.A.R(Uint32,2*k.Fl,"Life.boxList"),this.pf=this.A.R(Int32,k.Fl,"Life.nextList"),this.zk=Array.ka(Uint8,this.height,this.width,k.pl,this.A,"Life.countList"),2<this.i&&(this.zg=Array.ka(Uint8,this.height,this.width,
0,this.A,"Life.initList")),this.Hf=!0,this.hj.l=this.width,this.hj.s=this.height,this.hj.u=0,this.hj.v=0,this.Ag=this.Jh=this.nf=-1,this.pf.fill(-1)):(this.zg=this.zk=this.pf=this.dc=this.fj=this.yi=this.kj=this.Ii=this.hf=null,this.Ag=this.Jh=this.nf=-1)};q.prototype.XI=function(a,b,d){b="Spaceship ("+(b+","+d)+")c";1<a&&(b+="/"+a);return b};q.prototype.ll=function(a,b){var d=31415962,f=a.l,l=a.s,n=a.u-f+1;a=a.v-l+1;var p=n-1,r=a-1,w=a,u=2>=this.i&&!this.fa,y,z,x=0,B=0,c=0,m=0,e=this.S,t=k.Pa;(this.L||
this.fa||this.V)&&0!==(this.counter&1)&&(e=this.Ja);if(b===k.ww||b===k.vw||b===k.TA||b===k.UA){var A=n;n=w;w=A}for(z=0;z<w;z+=1)for(y=0;y<n;y+=1){switch(b){case k.ww:x=c;B=r-m;break;case k.oG:x=p-y;B=r-z;break;case k.vw:x=p-c;B=m;break;case k.RA:x=p-y;B=z;break;case k.SA:x=y;B=r-z;break;case k.TA:x=c;B=m;break;case k.UA:x=p-c,B=r-m}if(u)e[B+l][x+f]>=t&&(d=1000003*d^z,d=1000003*d^y);else if(A=e[B+l][x+f],A>this.K){A-=this.K;if(this.L)switch(b){case k.ww:A=A<<1&15|(A&8)>>3;break;case k.oG:A=A&12|A&
3;break;case k.vw:A=A>>1&15|(A&1)<<3;break;case k.RA:A=A&5|(A&2)<<2|(A&8)>>2;break;case k.SA:A=A&10|(A&1)<<2|(A&4)>>2;break;case k.TA:A=(A&8)>>3|(A&4)>>1|(A&2)<<1|(A&1)<<3;break;case k.UA:A=(A&4)<<1|(A&8)>>1|(A&1)<<1|(A&2)>>1}d=1000003*d^z;d=1000003*d^y;d=1000003*d^A}m+=1;m===a&&(m=0,c+=1)}return d|0};q.prototype.bu=function(a,b){for(var d,f=k.jM,l=-1,n,p;f<=k.lM&&-1===l;){n=this.ll(a,f);if(b)for(d=this.Ag;-1!==d&&-1===l;)n===this.hf[d]&&this.Ii[d]!==this.counter?(l=d,b&&(this.Jh=f,f===k.RA&&(p=this.ll(a,
k.SA),p===n&&(this.Jh=k.kM)),f===k.ww&&(p=this.ll(a,k.vw),p===n&&(this.Jh=k.mM)))):d=this.pf[d];else n===this.cu&&(l=1);f+=1}return l};q.prototype.ou=function(a,b){var d=31415962,f=a.l,l=a.s,n=a.u,p=a.v,r,w=2>=this.i&&!this.fa,u=this.S,y=this.zk,z=this.zg,x=k.Pa,B=this.hj;(this.L||this.fa||this.V)&&0!==(this.counter&1)&&(u=this.Ja);f<B.l&&(B.l=f);l<B.s&&(B.s=l);n>B.u&&(B.u=n);p>B.v&&(B.v=p);for(r=l;r<=p;r+=1){var c=r-l;var m=u[r];if(w)for(a=f;a<=n;a+=1)m[a]>=x&&(d=1000003*d^c,d=1000003*d^a-f);else if(this.V)for(a=
f;a<=n;a+=1)1===(m[a]&1)&&(d=1000003*d^c,d=1000003*d^a-f);else for(a=f;a<=n;a+=1){var e=m[a];e>this.K&&(e-=this.K,d=1000003*d^c,d=1000003*d^a-f,d=1000003*d^e)}}if(!b){for(r=B.s;r<=B.v;r+=1)if(m=u[r],b=y[r],w)if(this.Hf)for(a=B.l;a<=B.u;a+=1)m[a]>=x&&(b[a]=k.$e);else for(a=B.l;a<=B.u;a+=1)m[a]>=x?b[a]===k.pl&&(b[a]=k.pe):b[a]===k.$e&&(b[a]=k.pe);else if(this.L)if(this.Hf)for(a=B.l;a<=B.u;a+=1)e=m[a],e>this.K?e-=this.K:e=0,f=0,0!==(e&1)&&(f=k.$e),l=0,0!==(e&2)&&(l=k.$e),n=0,0!==(e&4)&&(n=k.$e),p=0,
0!==(e&8)&&(p=k.$e),b[a]=f|l<<2|n<<4|p<<6;else for(a=B.l;a<=B.u;a+=1)p=b[a],e=m[a],e>this.K?e-=this.K:e=0,f=p&3,0!==(e&1)?f===k.pl&&(f=k.pe):f===k.$e&&(f=k.pe),l=p>>2&3,0!==(e&2)?l===k.pl&&(l=k.pe):l===k.$e&&(l=k.pe),n=p>>4&3,0!==(e&4)?n===k.pl&&(n=k.pe):n===k.$e&&(n=k.pe),p=p>>6&3,0!==(e&8)?p===k.pl&&(p=k.pe):p===k.$e&&(p=k.pe),b[a]=f|l<<2|n<<4|p<<6;else if(this.V)for(e=z[r],a=B.l;a<=B.u;a+=1)this.Hf?(e[a]=m[a]&1,m[a]&1&&(b[a]=k.$e)):m[a]&1?b[a]===k.pl?b[a]=k.pe:(m[a]&1)!==e[a]&&(b[a]=k.pe):b[a]===
k.$e&&(b[a]=k.pe);else for(e=z[r],a=B.l;a<=B.u;a+=1)this.Hf?(e[a]=m[a],m[a]>this.K&&(b[a]=k.$e)):m[a]>this.K?b[a]===k.pl?b[a]=k.pe:m[a]!==e[a]&&(b[a]=k.pe):b[a]===k.$e&&(b[a]=k.pe);this.Hf=!1}return d|0};q.prototype.gj=function(a,b){for(var d;0!==b;)d=b,b=a%b,a=d;return a};q.prototype.ny=function(a,b){var d="Oblique";if(a>b){var f=a;a=b;b=f}f=this.gj(a,b);switch(a/f*10+b/f){case 12:d+=" Knightwise";break;case 13:d+=" Camelwise";break;case 14:d+=" Giraffewise";break;case 15:d+=" Ibiswise";break;case 16:d+=
" Flamingowise";break;case 23:d+=" Zebrawise";break;case 34:d+=" Antelopewise"}return d};q.prototype.qy=function(a,b,d,f,l,n,p,r,w){var u="",y=String(this.counter-f),z="",x="",B=this.ia,c=B,m=16384,e=0,t=16384,A=0,C=this.ab,D=b,E=16384,G=0,F=0,H,I=H="",L=this.zk,K=0,N=0,J="",S=this.nf,U="",V="";var P=this.pa?this.Oa:this.M;0<f&&(y+=" and "+this.counter);l=Math.abs(l);n=Math.abs(n);if(0<l||0<n){var sa="Spaceship";0===l||0===n?x="0":(l>n?(x=l,z=n):(x=n,z=l),u=this.gj(x,z),x=String(x/u),1!==z/u&&(x+=
"/"+String(z/u)));l===n||0===l||0===n?(z=l===n&&0!==l?"Diagonal":"Orthogonal",0===l&&(l=n),1<l?1===f?u=l+"c":(u=this.gj(l,f),P=l/u,a=f/u,1!==u?(u=1===P?"c":P+"c",1<a&&(u+="/"+a),u+=" | "+l+"c/"+f):u=l+"c/"+f):(u="c",1<f&&(u+="/"+f))):(u=this.gj(l,this.gj(n,f)),P=l/u,z=n/u,a=f/u,1!==u?(u=P>z?"("+P+","+z+")c":"("+z+","+P+")c",1<a&&(u+="/"+a),u=l>n?u+(" | ("+l+","+n+")c"):u+(" | ("+n+","+l+")c")):u=l>n?"("+l+","+n+")c":"("+n+","+l+")c",1<f&&(u+="/"+f),z=this.ny(l,n))}else if(1===f||this.oc&&2===f)sa=
"Still Life";else if(sa="Oscillator",!w)for(this.Hf=!0,this.zk.Wa.fill(0),l=0;l<2*f;l+=1)this.we(!1,a.ce,a.Ac,a.Hb,a),this.re(),a.gi(),this.ou(P,w),this.yi[b+l]=this.Vb,this.fj[b+l]=this.Gb;for(n=0;b<C;)l=this.kj[b],n+=l,l<B&&(B=l),l>c&&(c=l),b+=1;B=B===c?String(B):String(B)+" | "+String(c)+" | "+String((n/(C-D)).toFixed(1));b=D;if("Spaceship"===sa)for(;b<C;)l=this.dc[b<<1],c=l>>16,n=l&65535,c>p&&(p=c),n>r&&(r=n),b+=1;else{for(;b<C;)l=this.dc[b<<1],c=l>>16,n=l&65535,l=this.dc[(b<<1)+1],p=l>>16,r=
l&65535,p<m&&(m=p),r<t&&(t=r),p+c-1>e&&(e=p+c-1),r+n-1>A&&(A=r+n-1),b+=1;p=e-m+1;r=A-t+1}p=String(p+" x "+r+" = "+p*r);if(0<f){H=0;for(b=D;b<C;)F=this.yi[b]+this.fj[b],F<E&&(E=F),F>G&&(G=F),H+=F,b+=1;E===G?(F=E,H=String(F.toFixed(1))):(F=H/(C-D),H=String(E.toFixed(1)+" | "+G.toFixed(1)+" | "+F.toFixed(1)))}if("Oscillator"===sa&&!w){for(C=t;C<=A;C+=1)if(b=L[C],this.L)for(l=m;l<=e;l+=1)t=b[l],(t&3)===k.pe?K+=1:(t&3)===k.$e&&(N+=1),t>>=2,(t&3)===k.pe?K+=1:(t&3)===k.$e&&(N+=1),t>>=2,(t&3)===k.pe?K+=1:
(t&3)===k.$e&&(N+=1),t>>=2,(t&3)===k.pe?K+=1:(t&3)===k.$e&&(N+=1);else for(l=m;l<=e;l+=1)b[l]===k.pe?K+=1:b[l]===k.$e&&(N+=1);I=String((K/(K+N)).toFixed(2))}"Oscillator"!==sa||w||(V=String((F/(K+N)).toFixed(2)+" | "+(F/K).toFixed(2)));w||(J=String(K+" | "+N+" | "+(K+N)));w||this.U||this.P||(U=0>=S?String(f):0===f%S?String(S)+" ("+k.nM[this.Jh]+")":String(f));return[d,sa,z,u,p,y,B,x,f,H,I,U,J,V]};q.prototype.CM=function(a,b){var d=this.pa?this.Oa:this.M,f=d.l,l=d.s,n=d.u-f+1,p=d.v-l+1,r=n<<16|p,w=
f<<16|l,u=!1,y,z=0,x=0;var B=[];if((this.la||this.oc)&&0!==(this.counter&1))return B;if(this.ab<k.Fl)if(0===this.ia)B=["Empty Pattern","Empty"];else{var c=this.ou(d,!0);var m=!1;var e=this.Ag;for(y=-1;-1!==e&&!m;){var t=this.hf[e];c>t?(y=e,e=this.pf[e]):c<this.hf[e]?m=!0:c===this.hf[e]&&(t=e<<1,this.ia===this.kj[e]&&r===this.dc[t]?(B=this.counter-this.Ii[e],this.dc[t+1]===w?1===B||(this.oc||this.la)&&2===B?(t="Still Life",B=1):t="Oscillator period "+B:(z=f-(this.dc[t+1]>>16),x=l-(this.dc[t+1]&65535),
t=this.XI(B,z,x)),u=m=!0,B=this.qy(b,e,t,B,z,x,n,p,a)):(y=e,e=this.pf[e]))}u||(this.hf[this.ab]=c,this.Ii[this.ab]=this.counter,this.kj[this.ab]=this.ia,this.yi[this.ab]=this.Vb,this.fj[this.ab]=this.Gb,this.dc[this.ab<<1]=r,this.dc[(this.ab<<1)+1]=f<<16|l,this.pf[this.ab]=-1,-1===this.Ag?this.Ag=0:-1===y?this.Ag=this.ab:this.pf[y]=this.ab,-1!==this.nf||a||this.U||this.P?-1===this.nf||this.Zy||this.counter!==this.Yy||(a=this.bu(d,!1),-1!==a?this.Zy=!0:this.nf=-1):(a=this.bu(d,!0),-1!==a&&(this.nf=
this.counter-this.Ii[a],this.Yy=this.counter+this.nf,this.cu=c)),this.ab+=1,this.ab===k.Fl&&(this.ab=0,B=[k.AE]))}return B};q.prototype.ky=function(a,b,d,f,l,n,p){var r=this.J/2,w=this.H/2,u=0,y=this.width/2-.25,z=this.height/2,x=this.coords,B=this.Ka,c=this.height/2-this.va-this.Zb+.5,m=this.width/2-this.Ca-this.cc+.5,e=this.zoom*this.Bc;if(a>d){var t=d;d=a;a=t}b>f&&(t=f,f=b,b=t);a+=l;d+=l;b+=n;f+=n;B.length!==k.Gc&&(this.coords=this.A.R(Float32,12*k.Gc,"Life.coords"),this.Ka=this.A.R(Uint32,k.Gc,
"Life.cellColours"),x=this.coords,B=this.Ka);this.context.lineWidth=1.6;this.context.lineCap="butt";this.context.lineJoin="bevel";for(n=l=0;b<=f;b+=1)if(t=(b-z+c)*e+w,t>=-e&&t<this.H+e){var A=b-z;var C=m-y;for(t=a;t<=d;t+=1){if(0<p[u]){var D=(t+C)*e+r;if(D>=-e&&D<this.J+2*e){B[l]=(0<<k.Di)+n;D=t-y;var E=t+b&1;x[n]=D-1;x[n+1]=A+E;x[n+2]=D+1;x[n+3]=A+E;x[n+4]=D;x[n+5]=A+1-E;n+=6;l+=1;l===k.Gc&&(this.zb=l,this.Sd(!0,!1,!0),n=l=0)}}u+=1}}else u+=d-a+1;this.zb=l;0<l&&this.Sd(!0,!1,!0)};q.prototype.mu=
function(a,b,d,f,l,n){var p=this.J/2,r=this.H/2,w=this.width/2-.25,u=this.height/2,y=this.coords,z=this.Ka,x=this.height/2-this.va-this.Zb+.5,B=this.width/2-this.Ca-this.cc+.5,c=this.zoom*this.Bc;if(a>d){var m=d;d=a;a=m}b>f&&(m=f,f=b,b=m);a+=l;d+=l;b+=n;f+=n;z.length!==k.Gc&&(this.coords=this.A.R(Float32,12*k.Gc,"Life.coords"),this.Ka=this.A.R(Uint32,k.Gc,"Life.cellColours"),y=this.coords,z=this.Ka);this.context.lineWidth=1.6;this.context.lineCap="butt";this.context.lineJoin="bevel";for(n=l=0;b<=
f;b+=1)if(m=(b-u+x)*c+r,m>=-c&&m<this.H+c){var e=b-u;var t=B-w;for(m=a;m<=d;m+=1){var A=(m+t)*c+p;if(A>=-c&&A<this.J+2*c){z[l]=(0<<k.Di)+n;A=m-w;var C=m+b&1;y[n]=A-1;y[n+1]=e+C;y[n+2]=A+1;y[n+3]=e+C;y[n+4]=A;y[n+5]=e+1-C;n+=6;l+=1;l===k.Gc&&(this.zb=l,this.Sd(!0,!1,!0),n=l=0)}}}this.zb=l;0<l&&this.Sd(!0,!1,!0)};q.prototype.DK=function(){var a=this.S,b=this.hc,d=null,f=this.$d,l=this.J/2,n=this.H/2,p,r,w=this.width/2-.25,u=this.height/2,y=ViewConstants.bb[3]+128,z=ViewConstants.bb[4]+128,x=ViewConstants.bb[5]+
128,B=ViewConstants.bb[6]+128,c=this.Pa,m=this.coords,e=this.Ka,t=f.l,A=f.u;var C=f.s;var D=f.v,E=this.height/2-this.va-this.Zb+.5,G=this.width/2-this.Ca-this.cc+.5,F=this.zoom*this.Bc,H=!this.qc&&!this.kd;(this.V||this.fa)&&0!==(this.counter&1)&&(a=this.Ja);e.length!==k.Gc&&(this.coords=this.A.R(Float32,12*k.Gc,"Life.coords"),this.Ka=this.A.R(Uint32,k.Gc,"Life.cellColours"),m=this.coords,e=this.Ka);-1!==this.xa&&(0!==this.Aa?(t=Math.round((this.width-this.Aa)/2)-1,A=t+this.Aa-1+2):(t=0,A=this.width-
1),0!==this.wa?(C=Math.round((this.height-this.wa)/2)-1,D=C+this.wa-1+2):(C=0,D=this.height-1));this.context.lineWidth=1.6;this.context.lineCap="butt";this.context.lineJoin="bevel";for(r=f=0;C<=D;C+=1){var I=(C-u+E)*F+n;if(I>=-F&&I<this.H+F){I=a[C];b&&(d=b[C]);var L=C-u;var K=G-w;for(p=t;p<=A;p+=1){var N=(p+K)*F+l;if(N>=-F&&N<this.J+2*F){N=I[p];if(d){var J=d[p];if(J===z||J===B)N=N>c?y:J;else if(J===y||J===x)N=N<c?z:J}0<N&&(e[f]=(N<<k.Di)+r,N=p-w,J=p+C&1,m[r]=N-1,m[r+1]=L+J,m[r+2]=N+1,m[r+3]=L+J,m[r+
4]=N,m[r+5]=L+1-J,r+=6,f+=1);f===k.Gc&&(this.zb=f,this.Sd(!0,H,!1),this.kd&&!this.qc&&(this.context.strokeStyle="rgb("+this.Ta[0]+","+this.Qa[0]+","+this.Sa[0]+")",this.Sd(!1,!1,!1)),r=f=0)}}}}this.zb=f;0<f&&(this.Sd(!0,H,!1),this.kd&&!this.qc&&(this.context.strokeStyle="rgb("+this.Ta[0]+","+this.Qa[0]+","+this.Sa[0]+")",this.Sd(!1,!1,!1)),r=0);if(this.qc){this.context.strokeStyle="rgb("+(this.Zd>>16)+","+(this.Zd>>8&255)+","+(this.Zd&255)+")";this.context.lineWidth=1;D=n/F-E+u|0;f=0;for(C=-n/F-E+
u|0;C<=D;C+=1)if(I=(C-u+E)*F+n,I>=-F&&I<this.H+F)for(L=C-u,K=G-w,t=-l/F-K-F|0,A=l/F-K+F|0,p=t;p<=A;p+=1)N=(p+K)*F+l,N>=-F&&N<this.J+F&&(N=p-w,J=p+C&1,m[r]=N-1,m[r+1]=L+J,m[r+2]=N+1,m[r+3]=L+J,m[r+4]=N,m[r+5]=L+1-J,r+=6,f+=1),f===k.Gc&&(this.zb=f,this.Sd(!1,!1,!1),r=f=0);this.zb=f;0<f&&this.Sd(!1,!1,!1)}};q.prototype.Sd=function(a,b,d){var f,l=this.context,n=this.width/2-this.Ca-this.cc,p=this.height/2-this.va-this.Zb,r=this.zoom*this.Bc,w=this.zoom*this.Bc*ViewConstants.he,u=this.J/2,y=this.H/2,z=
0,x=0,B=-1,c=this.coords,m=this.zb,e=this.Ka,t=(1<<k.Di)-1;if(a&&!d&&e.sort){x=(k.Gc<<k.Di)+256;for(f=m;f<k.Gc;f+=1)e[f]=x;e.sort()}l.beginPath();a||(B=x=z=0);for(f=0;f<m;f+=1){a&&(x=e[f],z=x&t,x>>=k.Di);var A=c[z];var C=c[z+1];z+=2;var D=(C+p)*w+y;var E=(A+n)*r+u;var G=(c[z+1]-C)*w;var F=(c[z]-A)*r;z+=2;x!==B&&(B=x,0<f&&(a?(b&&l.stroke(),l.fill()):l.stroke(),l.beginPath()),a&&!d&&(l.fillStyle=this.oi[x],b&&(l.strokeStyle=this.oi[x])));l.moveTo(E|0,D|0);l.lineTo(F+E|0,G+D|0);l.lineTo(F+E|0,D|0);G=
(c[z+1]-C)*w;F=(c[z]-A)*r;l.lineTo(F+E|0,G+D|0);z+=2}a?(b&&l.stroke(),l.fill()):l.stroke()};q.prototype.jy=function(a,b,d,f,l,n,p){var r=0,w=this.width/2-.25,u=this.height/2,y=Math.PI/3,z=.5/Math.cos(y/2)*1.16,x=ViewConstants.he/4/Math.cos(y/2)*1.16,B=[],c=[],m=this.coords,e=this.Ka,t=this.J/2,A=this.H/2,C=this.width/2-this.Ca-this.cc,D=this.height/2-this.va-this.Zb,E=this.oa;C=C+D/2+-(this.height>>2)+.5;D+=.5;if(a>d){var G=d;d=a;a=G}b>f&&(G=f,f=b,b=G);a+=l;d+=l;b+=n;f+=n;e.length!==k.Gc&&(this.coords=
this.A.R(Float32,12*k.Gc,"Life.coords"),this.Ka=this.A.R(Uint32,k.Gc,"Life.cellColours"),m=this.coords,e=this.Ka);n=y/2;for(l=0;5>=l;l+=1)B[l]=Math.cos(n)*x,c[l]=Math.sin(n)*z,B[l]+=c[l]/2,n+=y;y=B[0];z=c[0];x=B[1];G=c[1];var F=B[2];var H=c[2];var I=B[3];var L=c[3];var K=B[4];var N=c[4];B=B[5];c=c[5];this.context.lineWidth=1;this.context.lineCap="round";this.context.lineJoin="round";for(n=l=0;b<=f;b+=1){var J=b-u;var S=(J+D)*E+A;if(S>=-E&&S<this.H+E)for(S=a;S<=d;S+=1){if(0<p[r]){var U=S-w;var V=(U+
C-(J+D)/2)*E+t;V>=-E&&V<this.J+E&&(e[l]=(0<<k.Di)+n,m[n]=y+U,m[n+1]=z+J,m[n+2]=x+U,m[n+3]=G+J,m[n+4]=F+U,m[n+5]=H+J,m[n+6]=I+U,m[n+7]=L+J,m[n+8]=K+U,m[n+9]=N+J,m[n+10]=B+U,m[n+11]=c+J,n+=12,l+=1,l===k.Gc&&(this.zb=l,this.Id(!0,!1,!1,!0),n=l=0))}r+=1}else r+=d-a+1}this.zb=l;0<l&&this.Id(!0,!1,!1,!0)};q.prototype.lu=function(a,b,d,f,l,n){var p=this.width/2-.25,r=this.height/2,w=Math.PI/3,u=.5/Math.cos(w/2)*1.16,y=ViewConstants.he/4/Math.cos(w/2)*1.16,z=[],x=[],B=this.coords,c=this.Ka,m=this.J/2,e=this.H/
2,t=this.width/2-this.Ca-this.cc,A=this.height/2-this.va-this.Zb,C=this.oa;t=t+A/2+-(this.height>>2)+.5;A+=.5;if(a>d){var D=d;d=a;a=D}b>f&&(D=f,f=b,b=D);a+=l;d+=l;b+=n;f+=n;c.length!==k.Gc&&(this.coords=this.A.R(Float32,12*k.Gc,"Life.coords"),this.Ka=this.A.R(Uint32,k.Gc,"Life.cellColours"),B=this.coords,c=this.Ka);n=w/2;for(l=0;5>=l;l+=1)z[l]=Math.cos(n)*y,x[l]=Math.sin(n)*u,z[l]+=x[l]/2,n+=w;w=z[0];u=x[0];y=z[1];D=x[1];var E=z[2];var G=x[2];var F=z[3];var H=x[3];var I=z[4];var L=x[4];z=z[5];x=x[5];
this.context.lineWidth=1;this.context.lineCap="round";this.context.lineJoin="round";for(n=l=0;b<=f;b+=1){var K=b-r;var N=(K+A)*C+e;if(N>=-C&&N<this.H+C)for(N=a;N<=d;N+=1){var J=N-p;var S=(J+t-(K+A)/2)*C+m;S>=-C&&S<this.J+C&&(c[l]=(0<<k.Di)+n,B[n]=w+J,B[n+1]=u+K,B[n+2]=y+J,B[n+3]=D+K,B[n+4]=E+J,B[n+5]=G+K,B[n+6]=F+J,B[n+7]=H+K,B[n+8]=I+J,B[n+9]=L+K,B[n+10]=z+J,B[n+11]=x+K,n+=12,l+=1,l===k.Gc&&(this.zb=l,this.Id(!0,!1,!1,!0),n=l=0))}}this.zb=l;0<l&&this.Id(!0,!1,!1,!0)};q.prototype.zK=function(){var a=
this.S,b=this.hc,d=null,f=this.$d,l=this.J/2,n=this.H/2,p,r=this.width/2-.25,w=this.height/2,u=Math.PI/3,y=.5/Math.cos(u/2)*1.16,z=ViewConstants.he/4/Math.cos(u/2)*1.16,x=[],B=[],c=ViewConstants.bb[3]+128,m=ViewConstants.bb[4]+128,e=ViewConstants.bb[5]+128,t=ViewConstants.bb[6]+128,A=this.Pa,C=this.coords,D=this.Ka,E=f.l,G=f.u;var F=f.s;var H=f.v,I=this.height/2-this.va-this.Zb+.5,L=this.width/2-this.Ca-this.cc+.5-(this.height>>2)+I/2,K=this.zoom*this.Bc,N=!this.qc&&!this.kd;(this.V||this.fa)&&0!==
(this.counter&1)&&(a=this.Ja);D.length!==k.Gc&&(this.coords=this.A.R(Float32,12*k.Gc,"Life.coords"),this.Ka=this.A.R(Uint32,k.Gc,"Life.cellColours"),C=this.coords,D=this.Ka);-1!==this.xa&&(0!==this.Aa?(E=Math.round((this.width-this.Aa)/2)-1,G=E+this.Aa-1+2):(E=0,G=this.width-1),0!==this.wa?(F=Math.round((this.height-this.wa)/2)-1,H=F+this.wa-1+2):(F=0,H=this.height-1));var J=u/2;for(f=0;5>=f;f+=1)x[f]=Math.cos(J)*z,B[f]=Math.sin(J)*y,x[f]+=B[f]/2,J+=u;u=x[0];y=B[0];z=x[1];var S=B[1];var U=x[2];var V=
B[2];var P=x[3];var sa=B[3];var X=x[4];var ja=B[4];x=x[5];B=B[5];this.context.lineWidth=1;this.context.lineCap="round";this.context.lineJoin="round";for(J=f=0;F<=H;F+=1){var na=(F+I-w)*K+n;if(na>=-K&&na<this.H+K){na=a[F];b&&(d=b[F]);var ha=F-w;var Y=L-r-(ha+I)/2;for(p=E;p<=G;p+=1){var ea=(p+Y)*K+l;if(ea>=-K&&ea<this.J+K){ea=na[p];if(d){var da=d[p];if(da===m||da===t)ea=ea>A?c:da;else if(da===c||da===e)ea=ea<A?m:da}0<ea&&(D[f]=(ea<<k.Di)+J,ea=p-r,C[J]=u+ea,C[J+1]=y+ha,C[J+2]=z+ea,C[J+3]=S+ha,C[J+4]=
U+ea,C[J+5]=V+ha,C[J+6]=P+ea,C[J+7]=sa+ha,C[J+8]=X+ea,C[J+9]=ja+ha,C[J+10]=x+ea,C[J+11]=B+ha,J+=12,f+=1);f===k.Gc&&(this.zb=f,this.Id(!0,N,!1,!1),this.kd&&!this.qc&&(this.context.strokeStyle="rgb("+this.Ta[0]+","+this.Qa[0]+","+this.Sa[0]+")",this.Id(!1,!1,!1,!1)),J=f=0)}}}}this.zb=f;0<f&&(this.Id(!0,N,!1,!1),this.kd&&!this.qc&&(this.context.strokeStyle="rgb("+this.Ta[0]+","+this.Qa[0]+","+this.Sa[0]+")",this.Id(!1,!1,!1,!1)),J=0);if(this.qc){this.context.strokeStyle="rgb("+(this.Zd>>16)+","+(this.Zd>>
8&255)+","+(this.Zd&255)+")";this.context.lineWidth=1;f=0;H=n/K-I+w|0;for(F=-n/K-I+w|0;F<=H;F+=1)if(na=(F+I-w)*K+n,na>=-K&&na<this.H+K)for(ha=F-w,Y=L-r-(ha+I)/2,E=-l/K-Y-K|0,G=l/K-Y+K|0,p=E;p<=G;p+=1)ea=(p+Y)*K+l,ea>=-K&&ea<this.J+K&&(ea=p-r,C[J]=u+ea,C[J+1]=y+ha,C[J+2]=z+ea,C[J+3]=S+ha,C[J+4]=U+ea,C[J+5]=V+ha,C[J+6]=P+ea,C[J+7]=sa+ha,J+=8,f+=1),f===k.Gc&&(this.zb=f,this.Id(!1,!1,!0,!1),J=f=0);this.zb=f;0<f&&this.Id(!1,!1,!0,!1)}};q.prototype.Id=function(a,b,d,f){var l=this.context,n=this.width/2-
this.Ca-this.cc,p=this.height/2-this.va-this.Zb,r=this.zoom*this.Bc,w=this.J/2,u=this.H/2,y=0,z=0,x=12,B=0,c=-1,m=this.coords,e=this.zb,t=this.Ka,A=(1<<k.Di)-1;n=n+p/2+-(this.height>>2)+.5;p+=.5;a&&!f&&t.sort&&(B=(k.Gc<<k.Di)+256,t.fill(B,e),t.sort());l.beginPath();a||(z=x=d?8:12,c=B=y=0);for(d=0;d<e;d+=1){a&&(B=t[d],y=B&A,z=y+x,B>>=k.Di);var C=m[y];var D=m[y+1];var E=D+p;var G=C+n-E/2;y+=2;E=E*r+u;G=G*r+w;var F=(m[y+1]-D)*r;var H=(m[y]-C)*r-F/2;y+=2;B!==c&&(c=B,0<d&&(a?(b&&l.stroke(),l.fill()):l.stroke(),
l.beginPath()),a&&!f&&(l.fillStyle=this.oi[B],b&&(l.strokeStyle=this.oi[B])));l.moveTo(G,E);for(l.lineTo(H+G,F+E);y<z;)F=(m[y+1]-D)*r,H=(m[y]-C)*r-F/2,y+=2,l.lineTo(H+G,F+E);z+=x}a?(b&&l.stroke(),l.fill()):l.stroke()};q.prototype.Ju=function(a,b,d,f,l,n,p){var r="",w=b.ta?b.$d:b.M,u=w.l,y=w.u,z=w.v,x=w.s,B=y-u+1,c=z-x+1;w=0;var m=[],e=this.S,t=null;var A=(b.width>>1)-(a.kb>>1);var C=(b.height>>1)-(a.qb>>1),D=a.Pb;2>f&&(f=2);2>l&&(l=2);f===l&&this.ta&&(l=f=7);a.ub&&(u=D.l+A,x=D.s+C,y=D.u+A,z=D.v+C,
u>y&&(A=u,u=y,y=A),x>z&&(A=x,x=z,z=A),B=y-u+1,c=z-x+1);b.P&&(0<u&&0!==(u&1)&&(--u,B+=1),0<x&&0!==(x&1)&&(--x,c+=1));b.la&&(0<u&&0===(u&1)&&(--u,B+=1),0<x&&0===(x&1)&&(--x,c+=1));if(0===n.length)for(A=0;A<f;A+=1)n[A]=A;if(2>=l)m[0]="b",m[1]="o";else for(m[0]=".",A=0;A<l-1;A+=1)m[A+1]=24<=A?String.fromCharCode(112+(A/24|0)-1)+String.fromCharCode(65+A%24):String.fromCharCode(65+A);d&&(r+=b.Fc);A=p&&""!==a.rd?a.rd:a.Kb;"Conway's Life"===A&&(A="Life");"B3/S23History"===A&&(A="LifeHistory");r=r+("x = "+
B+", y = "+c+", rule = "+A)+a.en;r+="\n";for(a=r.length;x<=z;){A=u;2>=f&&!this.fa?(t=e[x],B=t[A],l=B<=this.cf||B===this.Lb?0:1):l=b.getState(A,x,!1);p=1;for(A+=1;A<=y+1;)A>y?B=-1:2>=f&&!this.fa?(B=t[A],B=B<=this.cf||B===this.Lb?0:1):B=b.getState(A,x,!1),B!==l?((-1!==B||0!==l)&&0<w&&(1<w&&(r+=w),r+="$",69<=r.length-a&&(r+="\n",a=r.length),w=0),0<l?(1<p&&(r+=p),r+=m[n[l]]):A<=y&&(1<p&&(r+=p),r+=m[n[l]]),69<=r.length-a&&(r+="\n",a=r.length),p=1,l=B):p+=1,A+=1;w+=1;x+=1}r+="!\n";d&&(r+=b.Kg);return r};
q.prototype.SI=function(a,b,d,f){var l=this.hb,n=this.ja,p=this.S,r=this.La,w=this.Da,u=this.ze,y=this.M,z=this.$d,x,B=!0,c=this.P?1:0,m=this.P?14:15;if(a!==(a&this.Ab)||b!==(b&this.Cb)){B=!1;var e=this.width<this.ga&&a!==(a&this.Ab);for(x=this.height<this.ga&&b!==(b&this.Cb);e||x;)(e||x)&&this.Zr(e,x),e&&(a+=this.width>>2),x&&(b+=this.height>>2),e=this.width<this.ga&&a!==(a&this.Ab),x=this.height<this.ga&&b!==(b&this.Cb);a===(a&this.Ab)&&b===(b&this.Cb)&&(B=!0,l=this.hb,n=this.ja,p=this.S,r=this.La,
w=this.Da,u=this.ze)}if(B)if(0!==(this.counter&1)&&(l=this.Yb,n=this.ra),e=1<<(~a&15),x=1<<(~(a>>4)&15),1===(d&1)?(this.Y=1,0===(l[b][a>>4]&e)&&(this.ia+=1),p[b][a]=this.de?(a+b&127)+64:this.Pa,r[b>>4][a>>8]|=x,w[b>>4][a>>8]|=x,l[b][a>>4]|=e,n[b>>4][a>>8]|=x,u[b>>4][a>>8]&=~x,f=a&15,0<a&&f<=c?(a-=f+1,n[b>>4][a>>8]|=1<<(~(a>>4)&15),a+=f+1):a<this.width-1&&f>=m&&(a+=16-f,n[b>>4][a>>8]|=1<<(~(a>>4)&15),a-=16-f),0<b&&0===(b&15)?(--b,n[b>>4][a>>8]|=1<<(~(a>>4)&15),0<a&&f<=c?(a-=f+1,n[b>>4][a>>8]|=1<<(~(a>>
4)&15),a+=f+1):a<this.width-1&&f>=m&&(a+=16-f,n[b>>4][a>>8]|=1<<(~(a>>4)&15),a-=16-f),b+=1):b<this.height-1&&15===(b&15)&&(b+=1,n[b>>4][a>>8]|=1<<(~(a>>4)&15),0<a&&f<=c?(a-=f+1,n[b>>4][a>>8]|=1<<(~(a>>4)&15),a+=f+1):a<this.width-1&&f>=m&&(a+=16-f,n[b>>4][a>>8]|=1<<(~(a>>4)&15),a-=16-f),--b)):(0!==(l[b][a>>4]&e)&&--this.ia,p[b][a]=f?this.rb:this.cf,r[b>>4][a>>8]|=x,w[b>>4][a>>8]|=x,l[b][a>>4]&=~e),0<d)1===this.ia?(y.l=a,y.u=a,y.s=b,y.v=b):(a<y.l&&(y.l=a),a>y.u&&(y.u=a),b<y.s&&(y.s=b),b>y.v&&(y.v=b)),
a<z.l&&(z.l=a),a>z.u&&(z.u=a),b<z.s&&(z.s=b),b>z.v&&(z.v=b);else if(a===y.l||a===y.u||b===y.v||b===y.s)this.Fg=!0;return 0};q.prototype.TI=function(a,b,d,f){var l=this.hb,n=this.ja,p=this.S,r=this.La,w=this.Da,u=this.ze,y=this.hc,z=this.M,x=this.$d,B,c=!0,m=0,e=this.P?1:0,t=this.P?14:15;if(a!==(a&this.Ab)||b!==(b&this.Cb)){c=!1;var A=this.width<this.ga&&a!==(a&this.Ab);for(B=this.height<this.ga&&b!==(b&this.Cb);A||B;)(A||B)&&this.Zr(A,B),A&&(a+=this.width>>2),B&&(b+=this.height>>2),A=this.width<this.ga&&
a!==(a&this.Ab),B=this.height<this.ga&&b!==(b&this.Cb);a===(a&this.Ab)&&b===(b&this.Cb)&&(c=!0,l=this.hb,n=this.ja,p=this.S,r=this.La,w=this.Da,y=this.hc,u=this.ze)}if(c){0!==(this.counter&1)&&(l=this.Yb,n=this.ra);A=1<<(~a&15);B=1<<(~(a>>4)&15);1===(d&1)?(this.Y=1,0===(l[b][a>>4]&A)&&(this.ia+=1),p[b][a]=this.Pa,r[b>>4][a>>8]|=B,w[b>>4][a>>8]|=B,l[b][a>>4]|=A,n[b>>4][a>>8]|=B,u[b>>4][a>>8]&=~B,f=a&15,0<a&&f<=e?(a-=f+1,n[b>>4][a>>8]|=1<<(~(a>>4)&15),a+=f+1):a<this.width-1&&f>=t&&(a+=16-f,n[b>>4][a>>
8]|=1<<(~(a>>4)&15),a-=16-f),0<b&&0===(b&15)?(--b,n[b>>4][a>>8]|=1<<(~(a>>4)&15),0<a&&f<=e?(a-=f+1,n[b>>4][a>>8]|=1<<(~(a>>4)&15),a+=f+1):a<this.width-1&&f>=t&&(a+=16-f,n[b>>4][a>>8]|=1<<(~(a>>4)&15),a-=16-f),b+=1):b<this.height-1&&15===(b&15)&&(b+=1,n[b>>4][a>>8]|=1<<(~(a>>4)&15),0<a&&f<=e?(a-=f+1,n[b>>4][a>>8]|=1<<(~(a>>4)&15),a+=f+1):a<this.width-1&&f>=t&&(a+=16-f,n[b>>4][a>>8]|=1<<(~(a>>4)&15),a-=16-f),--b)):(0!==(l[b][a>>4]&A)&&--this.ia,p[b][a]=f?this.rb:this.cf,r[b>>4][a>>8]|=B,w[b>>4][a>>
8]|=B,l[b][a>>4]&=~A);if(y){n=y[b][a];0<n&&(n=ViewConstants.bb.indexOf(n-128));if(6===d&&6!==n||6!==d&&6===n)m=1;2===d&&(p[b][a]=k.rl);y[b][a]=0===d?0:ViewConstants.bb[d]+128}if(0<d)1===this.ia?(z.l=a,z.u=a,z.s=b,z.v=b):(a<z.l&&(z.l=a),a>z.u&&(z.u=a),b<z.s&&(z.s=b),b>z.v&&(z.v=b)),a<x.l&&(x.l=a),a>x.u&&(x.u=a),b<x.s&&(x.s=b),b>x.v&&(x.v=b);else if(a===z.l||a===z.u||b===z.v||b===z.s)this.Fg=!0}return m};q.prototype.Nu=function(a,b,d,f){var l=this.hb,n=this.ja,p=this.S,r=this.La,w=this.Da,u=this.ze,
y=this.hc,z=this.M,x=this.Oa,B=this.$d,c=0,m,e=this.la?-1:0;var t=Math.round((this.width-this.Aa)/2)+e;var A=Math.round((this.height-this.wa)/2)+e,C=t+this.Aa-1,D=A+this.wa-1,E=!0;e=0;var G=this.P?1:0,F=this.P?14:15;(this.L||this.fa||this.V)&&0!==(this.counter&1)&&(p=this.Ja);-1!==this.xa&&(0===this.Aa&&(t=0,C=this.width-1),0===this.wa&&(A=0,D=this.height-1));if(a!==(a&this.Ab)||b!==(b&this.Cb)){E=!1;var H=this.width<this.ga&&a!==(a&this.Ab);for(m=this.height<this.ga&&b!==(b&this.Cb);H||m;)(H||m)&&
this.Zr(H,m),H&&(a+=this.width>>2),m&&(b+=this.height>>2),H=this.width<this.ga&&a!==(a&this.Ab),m=this.height<this.ga&&b!==(b&this.Cb);a===(a&this.Ab)&&b===(b&this.Cb)&&(E=!0,l=this.hb,n=this.ja,p=this.S,r=this.La,w=this.Da,y=this.hc,u=this.ze)}if(E&&(-1===this.xa||a>=t&&a<=C&&b>=A&&b<=D)){if(this.L||this.fa)l=p[b][a],p[b][a]=f&&0===d?0:this.K+d,w[b>>4][a>>8]=65535,this.fa&&(0!==(this.counter&1)&&(n=this.ra),c=1<<(~(a>>4)&15),n[b>>4][a>>8]|=c,u[b>>4][a>>8]&=~c),0===d?l>this.K&&(this.L?this.ia-=this.jg[l-
this.K]:--this.ia):(this.Y=1,this.L?(l<=this.K||(this.ia-=this.jg[l-this.K]),this.ia+=this.jg[d]):(n[b>>4][a>>8]|=c,u[b>>4][a>>8]&=~c,0===l&&(this.ia+=1),r=a&15,0<a&&r<=G?(a-=r+1,n[b>>4][a>>8]|=1<<(~(a>>4)&15),a+=r+1):a<this.width-1&&r>=F&&(a+=16-r,n[b>>4][a>>8]|=1<<(~(a>>4)&15),a-=16-r),0<b&&0===(b&15)?(--b,n[b>>4][a>>8]|=1<<(~(a>>4)&15),0<a&&r<=G?(a-=r+1,n[b>>4][a>>8]|=1<<(~(a>>4)&15),a+=r+1):a<this.width-1&&r>=F&&(a+=16-r,n[b>>4][a>>8]|=1<<(~(a>>4)&15),a-=16-r),b+=1):b<this.height-1&&15===(b&15)&&
(b+=1,n[b>>4][a>>8]|=1<<(~(a>>4)&15),0<a&&r<=G?(a-=r+1,n[b>>4][a>>8]|=1<<(~(a>>4)&15),a+=r+1):a<this.width-1&&r>=F&&(a+=16-r,n[b>>4][a>>8]|=1<<(~(a>>4)&15),a-=16-r),--b)));else if(0!==(this.counter&1)&&(l=this.Yb,n=this.ra),t=1<<(~a&15),c=1<<(~(a>>4)&15),this.pa)l=p[b][a],2===this.i?(n=this.Pa,1===d&&(d=this.Pa,this.Y=1)):(n=this.i-1+this.K,0<d&&(d=this.K+d,this.Y=1)),p[b][a]=d,r[b>>4][a>>8]|=c,w[b>>4][a>>8]|=c,l!==n&&d===n?this.ia+=1:l===n&&d!==n&&--this.ia;else{(H=2>=this.i||this.V?1===(d&1):d===
this.i-1)?(this.Y=1,0===(l[b][a>>4]&t)&&(this.ia+=1),p[b][a]=this.Pa,r[b>>4][a>>8]|=c,w[b>>4][a>>8]|=c,l[b][a>>4]|=t,n[b>>4][a>>8]|=c,u[b>>4][a>>8]&=~c,r=a&15,0<a&&r<=G?(a-=r+1,n[b>>4][a>>8]|=1<<(~(a>>4)&15),a+=r+1):a<this.width-1&&r>=F&&(a+=16-r,n[b>>4][a>>8]|=1<<(~(a>>4)&15),a-=16-r),0<b&&0===(b&15)?(--b,n[b>>4][a>>8]|=1<<(~(a>>4)&15),0<a&&r<=G?(a-=r+1,n[b>>4][a>>8]|=1<<(~(a>>4)&15),a+=r+1):a<this.width-1&&r>=F&&(a+=16-r,n[b>>4][a>>8]|=1<<(~(a>>4)&15),a-=16-r),b+=1):b<this.height-1&&15===(b&15)&&
(b+=1,n[b>>4][a>>8]|=1<<(~(a>>4)&15),0<a&&r<=G?(a-=r+1,n[b>>4][a>>8]|=1<<(~(a>>4)&15),a+=r+1):a<this.width-1&&r>=F&&(a+=16-r,n[b>>4][a>>8]|=1<<(~(a>>4)&15),a-=16-r),--b)):(0!==(l[b][a>>4]&t)&&--this.ia,p[b][a]=f?this.rb:this.cf,r[b>>4][a>>8]|=c,w[b>>4][a>>8]|=c,l[b][a>>4]&=~t);if(this.ta&&y){l=y[b][a];0<l&&(l=ViewConstants.bb.indexOf(l-128));if(6===d&&6!==l||6!==d&&6===l)e=1;2===d?p[b][a]=k.rl:y[b][a]=0===d?0:ViewConstants.bb[d]+128}2<this.i&&(0<d&&(d=this.K+d),p[b][a]=d)}if(0<d)1===this.ia&&(this.Fg=
!0),a<z.l&&(z.l=a),a>z.u&&(z.u=a),b<z.s&&(z.s=b),b>z.v&&(z.v=b),a<B.l&&(B.l=a),a>B.u&&(B.u=a),b<B.s&&(B.s=b),b>B.v&&(B.v=b),this.pa&&d===this.i-1+this.K&&(1===this.ia?(x.l=a,x.u=a,x.s=b,x.v=b):(a<x.l&&(x.l=a),a>x.u&&(x.u=a),b<x.s&&(x.s=b),b>x.v&&(x.v=b)));else if(a===z.l||a===z.u||b===z.v||b===z.s)this.Fg=!0}return e};q.prototype.getState=function(a,b,d){switch(this.rv){case k.VA:return this.pu(a,b,d);case k.XA:return this.pu(a,b,!0);case k.WA:return this.oy(a,b,d);default:return this.py(a,b,d)}};
q.prototype.Xj=function(a,b,d,f){switch(this.rv){case k.VA:return this.SI(a,b,d,f);case k.XA:return this.Nu(a,b,d,f);case k.WA:return this.TI(a,b,d,f);default:return this.Nu(a,b,d,f)}};q.prototype.qO=function(){this.rv=-1!==this.i||-1!==this.xa||this.Fa?this.fa&&2===this.i?k.XA:k.oM:this.ta?k.WA:k.VA};q.prototype.jJ=function(a){var b=1<<k.Pj;a?(this.uc=Array.ka(Uint32,1,b,0,this.A,"Life.popGraphData"),this.Fh=Array.ka(Uint32,1,b,0,this.A,"Life.birthGraphData"),this.ti=Array.ka(Uint32,1,b,0,this.A,
"Life.deathGraphData"),this.Lh=b):(this.uc=Array.ka(Uint32,0,0,0,this.A,"Life.popGraphData"),this.Fh=Array.ka(Uint32,0,0,0,this.A,"Life.birthGraphData"),this.ti=Array.ka(Uint32,0,0,0,this.A,"Life.deathGraphData"),this.Lh=0)};q.prototype.pu=function(a,b,d){var f=0,l=this.S;a===(a&this.Ab)&&b===(b&this.Cb)&&(this.fa&&0!==(this.counter&1)&&(l=this.Ja),a=l[b][a],d?f=a:f=a<=this.cf?0:1);return f};q.prototype.oy=function(a,b,d){var f=0,l=ViewConstants.bb[3]+128,n=ViewConstants.bb[4]+128,p=ViewConstants.bb[5]+
128,r=ViewConstants.bb[6]+128;a===(a&this.Ab)&&b===(b&this.Cb)&&(f=this.S[b][a],d||(this.hc?(a=this.hc[b][a],a===n||a===r?(f>=this.Pa&&(a=l),f=ViewConstants.bb.indexOf(a-128)):a===l||a===p?(f<this.Pa&&(a=n),f=ViewConstants.bb.indexOf(a-128)):f=f===this.rb?0:f<=this.cf?2:1):f=f<=this.cf?0:1));return f};q.prototype.py=function(a,b,d){var f=0,l=ViewConstants.bb[3]+128,n=ViewConstants.bb[4]+128,p=ViewConstants.bb[5]+128,r=ViewConstants.bb[6]+128,w=this.la?-1:0,u=Math.round((this.width-this.Aa)/2)+w;w=
Math.round((this.height-this.wa)/2)+w;var y=u+this.Aa-1,z=w+this.wa-1,x=this.S;(this.L||this.fa||this.V)&&0!==(this.counter&1)&&(x=this.Ja);a===(a&this.Ab)&&b===(b&this.Cb)&&(f=x[b][a],d||2<this.i?2<this.i&&0<f&&!this.Fa&&(f<=this.K?f=0:(-1!==this.xa&&(0===this.Aa&&(u=0,y=this.width-1),0===this.wa&&(w=0,z=this.height-1)),f=-1===this.xa||f!==this.Lb||a>=u&&a<=y&&b>=w&&b<=z?this.L||this.fa||this.V?f-this.K:this.i+this.K-f:0)):this.hc?-1===this.xa||f!==this.Lb||a>=u&&a<=y&&b>=w&&b<=z?(a=this.hc[b][a],
a===n||a===r?(f>=this.Pa&&(a=l),f=ViewConstants.bb.indexOf(a-128)):a===l||a===p?(f<this.Pa&&(a=n),f=ViewConstants.bb.indexOf(a-128)):f=f===this.rb?0:f<=this.cf?2:1):f=0:f=f<=this.cf||f===this.Lb?0:1);return f};q.prototype.Zl=function(a){var b,d,f,l=a.length,n=a[0].length,p=this.jg,r=0;for(b=0;b<l;b+=1){var w=a[b];for(d=0;d<n;d+=1)(f=w[d])&&(r+=p[f])}return r};q.prototype.ik=function(a,b){var d=a.pg,f=d.length,l=!1;if(this.la||this.L)for(this.td=this.ud=!1,a=0;!l&&a<f;){var n=d[a];n.$h<b?("reverse playback"===
n.action&&(this.td=!this.td),a+=1):n.$h>b?l=!0:"reverse playback"===n.action?l=this.ud=!0:a+=1}};q.prototype.st=function(a,b,d,f){var l=this.bh.uf.length,n=null;a<this.counter&&(n=this.bh.tO(a),l!==this.bh.uf.length&&(this.Bo-=k.zt*(l-this.bh.uf.length)));n&&(this.yu(n,f),f.gi());for(;this.counter<a-1;)this.Y?(this.ik(f,this.counter),this.we(!1,!0,d,f.Hb,f),f.Nb+=f.Ma,0===this.Y&&2<this.i||this.re(),0===this.Y&&2>=this.i&&(this.Y=1,this.ik(f,this.counter),this.we(!1,!1,d,f.Hb,f),this.Y=0,--this.counter,
f.Nb-=f.Ma)):(this.counter+=1,f.Nb+=f.Ma,this.re()),f.gi();this.counter<a?(this.Y?(this.ik(f,this.counter),this.we(b,!0,d,f.Hb,f),f.Nb+=f.Ma,0===this.Y&&2<this.i||this.re(),0===this.Y&&2>=this.i&&(this.Y=1,this.ik(f,this.counter),this.we(!1,!1,d,f.Hb,f),this.Y=0,--this.counter,f.Nb-=f.Ma)):(this.counter+=1,f.Nb+=f.Ma,this.re()),f.gi()):-1===this.i&&0<this.counter&&this.re();f.Gj&&(this.Y=1)};q.prototype.yu=function(a,b){var d=this.S,f=this.hc;this.counter=a.counter;b.Nb=a.jF;this.af=a.af;this.Ij=
a.Ij;if(0!==(this.counter&1)){b=this.th;var l=this.zd;var n=this.ra;var p=this.ja}else b=this.zd,l=this.th,n=this.ja,p=this.ra;b.Wa.fill(0);l.Wa.fill(0);this.S.Wa.fill(0);(this.L||this.fa||this.V)&&this.Ja.Wa.fill(0);this.ac.Wa.fill(0);this.ze.Wa.fill(0);a.JN(b,n,this);a.IN(d,this.La,this);(this.L||this.fa||this.V)&&Array.Vh(d,this.Ja);this.og?(f.Wa.fill(0),this.$c.Wa.fill(0),a.KN(f,this.Da,this),this.Lf()):Array.Vh(this.Da,this.La);Array.Vh(n,p);Array.Vh(b,l);this.M.l=a.M.l;this.M.s=a.M.s;this.M.u=
a.M.u;this.M.v=a.M.v;this.Oa.l=a.Oa.l;this.Oa.s=a.Oa.s;this.Oa.u=a.Oa.u;this.Oa.v=a.Oa.v;this.ia=a.ia;this.Vb=a.Vb;this.Gb=a.Gb;this.Y=a.Y};q.prototype.ut=function(a){if(0!==(this.counter&1)){var b=this.th;var d=this.ra}else b=this.zd,d=this.ja;this.Au(!1,b,d,a)};q.prototype.rt=function(a,b){this.yu(this.au,a);this.bh.reset();this.Bo=k.zt;b||this.ut(a)};q.prototype.Au=function(a,b,d,f){var l=this.S;(this.L||this.fa||this.V)&&0!==(this.counter&1)&&(l=this.Ja);this.bh.ut(b,d,l,this.Da,this.hc,this.Da,
this.M,this.Oa,this.ia,this.Vb,this.Gb,this.counter,f.Nb,this.af,this.Ij,(this.ua-1>>4)+1,this.ya,this,a,this.Y)};q.prototype.WN=function(a,b){this.bh.reset();this.au=this.bh.lz((this.ua-1>>4)+1,this.ya,!0,this.og);this.Au(!0,this.zd,this.ja,b);a||this.ut(b)};q.prototype.BN=function(a,b){var d=this.hc,f=this.vf;this.width=a;this.height=b;this.pa&&this.za.resize(this.width,this.height);this.zd=Array.ka(Uint8,this.height,(this.width-1>>3)+1,0,this.A,"Life.grid");this.th=Array.ka(Uint8,this.height,(this.width-
1>>3)+1,0,this.A,"Life.nextGrid");this.hb=Array.Ad(Uint16,this.zd,"Life.grid16");this.Yb=Array.Ad(Uint16,this.th,"Life.nextGrid16");f&&(this.vf=Array.ka(Uint16,this.height,(this.width-1>>4)+1,0,this.A,"Life.state6Mask"),this.$j=Array.ka(Uint16,this.height,(this.width-1>>4)+1,0,this.A,"Life.state6Alive"),this.Zi=Array.ka(Uint16,this.height,(this.width-1>>4)+1,0,this.A,"Life.state6Cells"));this.ua=this.width>>4;this.ya=this.height>>4;f&&(this.Hg=Array.ka(Uint16,this.ya,(this.ua-1>>4)+1,0,this.A,"Life.state6TileGrid"));
this.ja=Array.ka(Uint16,this.ya,(this.ua-1>>4)+1,0,this.A,"Life.tileGrid");this.ra=Array.ka(Uint16,this.ya,(this.ua-1>>4)+1,0,this.A,"Life.nextTileGrid");this.ze=Array.ka(Uint16,this.ya,(this.ua-1>>4)+1,0,this.A,"Life.staticTileGrid");this.La=Array.ka(Uint16,this.ya,(this.ua-1>>4)+1,0,this.A,"Life.colourTileGrid");this.Da=Array.ka(Uint16,this.ya,(this.ua-1>>4)+1,0,this.A,"Life.colourTileHistoryGrid");this.Bf=this.A.R(Uint8,(this.width-1>>3)+1,"Life.blankRow");this.sr=this.A.R(Uint16,(this.width-1>>
4)+1,"Life.blankRow16");this.wd=this.A.R(Uint16,this.ua>>4,"Life.blankTileRow");this.wc=this.A.R(Uint8,this.width,"Life.blankColourRow");this.na=this.A.R(Uint16,(this.width-1>>4)+1,"Life.columnOccupied16");this.gb=this.A.R(Uint16,(this.height-1>>4)+1,"Life.rowOccupied16");this.S=Array.ka(Uint8,this.height,this.width,this.rb,this.A,"Life.colourGrid");this.L||this.fa||this.V?(this.Ja=Array.ka(Uint8,this.height,this.width,this.rb,this.A,"Life.nextColourGrid"),this.Kh=Array.Ad(Uint16,this.Ja,"Life.nextColourGrid16"),
this.Ba=Array.Ad(Uint32,this.Ja,"Life.nextColourGrid32")):this.Ba=this.Kh=this.Ja=null;this.ac=Array.ka(Uint8,this.height,this.width,this.rb,this.A,"Life.smallColourGrid");this.yk=Array.Ad(Uint16,this.S,"Life.colourGrid16");this.qe=Array.Ad(Uint32,this.S,"Life.colourGrid32");d&&(this.hc=Array.ka(Uint8,this.height,this.width,this.rb,this.A,"Life.overlayGrid"),this.$c=Array.ka(Uint8,this.height,this.width,this.rb,this.A,"Life.smallOverlayGrid"),this.Ho=Array.Ad(Uint16,this.hc,"Life.overlayGrid16"),
this.Lk=Array.Ad(Uint32,this.hc,"Life.overlayGrid32"));this.Ab=this.width-1;this.Cb=this.height-1;this.bh.sH((this.ua-1>>4)+1,this.ya,0,0,0,0,this.og)};q.prototype.kJ=function(){this.height=this.width=1024;this.zd=Array.ka(Uint8,this.height,(this.width-1>>3)+1,0,this.A,"Life.grid");this.th=Array.ka(Uint8,this.height,(this.width-1>>3)+1,0,this.A,"Life.nextGrid");this.hb=Array.Ad(Uint16,this.zd,"Life.grid16");this.Yb=Array.Ad(Uint16,this.th,"Life.nextGrid16");this.ua=this.width>>4;this.ya=this.height>>
4;this.Hg&&this.UE();this.ja=Array.ka(Uint16,this.ya,(this.ua-1>>4)+1,0,this.A,"Life.tileGrid");this.ra=Array.ka(Uint16,this.ya,(this.ua-1>>4)+1,0,this.A,"Life.nextTileGrid");this.ze=Array.ka(Uint16,this.ya,(this.ua-1>>4)+1,0,this.A,"Life.staticTileGrid");this.La=Array.ka(Uint16,this.ya,(this.ua-1>>4)+1,0,this.A,"Life.colourTileGrid");this.Da=Array.ka(Uint16,this.ya,(this.ua-1>>4)+1,0,this.A,"Life.colourTileHistoryGrid");this.Bf=this.A.R(Uint8,(this.width-1>>3)+1,"Life.blankRow");this.sr=this.A.R(Uint16,
(this.width-1>>4)+1,"Life.blankRow16");this.wd=this.A.R(Uint16,this.ua>>4,"Life.blankTileRow");this.wc=this.A.R(Uint8,this.width,"Life.blankColourRow");this.na=this.A.R(Uint16,(this.width-1>>4)+1,"Life.columnOccupied16");this.gb=this.A.R(Uint16,(this.height-1>>4)+1,"Life.rowOccupied16");this.S=Array.ka(Uint8,this.height,this.width,this.rb,this.A,"Life.colourGrid");this.yk=Array.Ad(Uint16,this.S,"Life.colourGrid16");this.qe=Array.Ad(Uint32,this.S,"Life.colourGrid32");this.L||this.fa||this.V?(this.Ja=
Array.ka(Uint8,this.height,this.width,this.rb,this.A,"Life.nextColourGrid"),this.Kh=Array.Ad(Uint16,this.Ja,"Life.nextColourGrid16"),this.Ba=Array.Ad(Uint32,this.Ja,"Life.nextColourGrid32")):this.Ba=this.Kh=this.Ja=null;this.ac=Array.ka(Uint8,this.height,this.width,this.rb,this.A,"Life.smallColourGrid");this.hc&&this.OE();this.Ab=this.width-1;this.Cb=this.height-1};q.prototype.Zr=function(a,b){var d=this.height,f=this.zd,l=this.th,n=this.S,p=this.Ja,r=this.ac,w=this.hc,u=this.$c,y=this.vf,z=this.$j,
x=this.Zi,B=this.zk,c=this.zg,m=this.Hg,e=this.ja,t=this.ra,A=this.ze,C=this.La,D=this.Da,E=this.ya,G=0,F=0,H=0,I=0,L;if(this.width<this.ga||d<this.ga){a&&(G=this.width>>1,this.width*=2);b&&(F=this.height>>1,this.height*=2);this.pa&&this.za.resize(this.width,this.height);this.zd=Array.ka(Uint8,this.height,(this.width-1>>3)+1,0,this.A,"Life.grid");this.th=Array.ka(Uint8,this.height,(this.width-1>>3)+1,0,this.A,"Life.nextGrid");this.hb=Array.Ad(Uint16,this.zd,"Life.grid16");this.Yb=Array.Ad(Uint16,
this.th,"Life.nextGrid16");y&&(this.vf=Array.ka(Uint16,this.height,(this.width-1>>4)+1,0,this.A,"Life.state6Mask"),this.$j=Array.ka(Uint16,this.height,(this.width-1>>4)+1,0,this.A,"Life.state6Alive"),this.Zi=Array.ka(Uint16,this.height,(this.width-1>>4)+1,0,this.A,"Life.state6Cells"));this.ua=this.width>>4;this.ya=this.height>>4;y&&(this.Hg=Array.ka(Uint16,this.ya,(this.ua-1>>4)+1,0,this.A,"Life.state6TileGrid"));this.ja=Array.ka(Uint16,this.ya,(this.ua-1>>4)+1,0,this.A,"Life.tileGrid");this.ra=Array.ka(Uint16,
this.ya,(this.ua-1>>4)+1,0,this.A,"Life.nextTileGrid");this.ze=Array.ka(Uint16,this.ya,(this.ua-1>>4)+1,0,this.A,"Life.staticTileGrid");this.La=Array.ka(Uint16,this.ya,(this.ua-1>>4)+1,0,this.A,"Life.colourTileGrid");this.Da=Array.ka(Uint16,this.ya,(this.ua-1>>4)+1,0,this.A,"Life.colourTileHistoryGrid");this.Bf=this.A.R(Uint8,(this.width-1>>3)+1,"Life.blankRow");this.sr=this.A.R(Uint16,(this.width-1>>4)+1,"Life.blankRow16");this.wd=this.A.R(Uint16,this.ua>>4,"Life.blankTileRow");this.wc=this.A.R(Uint8,
this.width,"Life.blankColourRow");this.na=this.A.R(Uint16,(this.width-1>>4)+1,"Life.columnOccupied16");this.gb=this.A.R(Uint16,(this.height-1>>4)+1,"Life.rowOccupied16");B&&(this.zk=Array.ka(Uint8,this.height,this.width,k.pl,this.A,"Life.countList"));c&&(this.zg=Array.ka(Uint8,this.height,this.width,0,this.A,"Life.initList"));this.S=Array.ka(Uint8,this.height,this.width,this.rb,this.A,"Life.colourGrid");this.ac=Array.ka(Uint8,this.height,this.width,this.rb,this.A,"Life.smallColourGrid");this.yk=Array.Ad(Uint16,
this.S,"Life.colourGrid16");this.qe=Array.Ad(Uint32,this.S,"Life.colourGrid32");this.L||this.fa||this.V?(this.Ja=Array.ka(Uint8,this.height,this.width,this.rb,this.A,"Life.nextColourGrid"),this.Kh=Array.Ad(Uint16,this.Ja,"Life.nextColourGrid16"),this.Ba=Array.Ad(Uint32,this.Ja,"Life.nextColourGrid32")):this.Ba=this.Kh=this.Ja=null;w&&(this.hc=Array.ka(Uint8,this.height,this.width,this.rb,this.A,"Life.overlayGrid"),this.$c=Array.ka(Uint8,this.height,this.width,this.rb,this.A,"Life.smallOverlayGrid"),
this.Ho=Array.Ad(Uint16,this.hc,"Life.overlayGrid16"),this.Lk=Array.Ad(Uint32,this.hc,"Life.overlayGrid32"));this.Ab=this.width-1;this.Cb=this.height-1;for(L=0;L<d;L+=1)this.zd[L+F].set(f[L],G>>3),this.th[L+F].set(l[L],G>>3),this.S[L+F].set(n[L],G),this.ac[L+F].set(r[L],G),(this.L||this.fa||this.V)&&this.Ja[L+F].set(p[L],G),this.zk&&this.zk[L+F].set(B[L],G),this.zg&&this.zg[L+F].set(c[L],G),w&&u&&(this.hc[L+F].set(w[L],G),this.$c[L+F].set(u[L],G)),y&&z&&x&&(this.vf[L+F].set(y[L],G>>4),this.$j[L+F].set(z[L],
G>>4),this.Zi[L+F].set(x[L],G>>4));b&&(I=E>>1);a&&(H=this.ja[0].length>>2);for(L=0;L<E;L+=1)m&&this.Hg[L+I].set(m[L],H),this.ja[L+I].set(e[L],H),this.ra[L+I].set(t[L],H),this.ze[L+I].set(A[L],H),this.La[L+I].set(C[L],H),this.Da[L+I].set(D[L],H);this.bh.sH((this.ua-1>>4)+1,this.ya,H,I,G,F,this.og);this.Ca+=G;this.va+=F;this.U&&(this.Ca-=F/2|0);this.M.l+=G;this.M.u+=G;this.M.v+=F;this.M.s+=F;this.Oa.l+=G;this.Oa.u+=G;this.Oa.v+=F;this.Oa.s+=F;this.Yf.l+=G;this.Yf.u+=G;this.Yf.v+=F;this.Yf.s+=F;this.$d.l+=
G;this.$d.u+=G;this.$d.v+=F;this.$d.s+=F;if(0<this.ab)for(L=0;L<this.ab;L+=1)b=this.dc[(L<<1)+1],a=(b>>16)+G,b=(b&65535)+F,this.dc[(L<<1)+1]=a<<16|b}};q.prototype.Lz=function(a,b,d){var f=this.width,l=this.height,n=!1,p=!1,r=!1;(f<this.ga||l<this.ga)&&this.Y&&(f<this.ga&&(b.l<=d||b.u>=f-d)&&(n=!0),l<this.ga&&(b.s<=d||b.v>=l-d)&&(p=!0),n||p)&&(this.Zr(n,p),r=!0,n&&(a.df+=this.width>>2,a.tf+=this.width>>2),p&&(a.xj+=this.height>>2,a.Wj+=this.height>>2),a.g.U&&p&&(a.df-=this.height>>3,a.tf-=this.height>>
3),n&&(a.Kc+=this.width>>2),p&&(a.Lc+=this.height>>2),n&&(b.l+=this.width>>2,b.u+=this.width>>2),p&&(b.s+=this.height>>2,b.v+=this.height>>2));return r};q.prototype.CJ=function(a,b,d){for(;this.Lz(a,b,d););};q.prototype.ty=function(){var a,b=this.nu;for(a=0;65536>a;a+=1){var d=a;var f=0;65535<d&&(d>>=16,f+=16);255<d&&(d>>=8,f+=8);15<d&&(d>>=4,f+=4);3<d&&(d>>=2,f+=2);f+=d>>1;b[a]=f}};q.prototype.ry=function(){var a,b,d=this.jg;for(a=0;65536>a;a+=1){var f=a;for(b=0;f;b+=1)f&=f-1;d[a]=b}};q.prototype.sy=
function(){var a,b,d=this.du,f=this.Pa;for(a=0;256>a;a+=1)for(b=0;8>b;b+=1)d[(a<<3)+b]=a&1<<7-b?f:0};q.prototype.DN=function(a,b){var d,f=0,l=this.jg;var n=this.M;var p=n.l,r=n.u,w=n.v;n=n.s;if(this.pa||this.L||this.fa||this.Fa)for(;n<=w;n+=1){var u=b[n];for(d=p;d<=r;d+=1)a=u[d],0<a&&(f=this.L?f+l[a-this.K]:f+1)}else for(p>>=4,r>>=4;n<=w;n+=1)for(u=a[n],d=p;d<=r;d+=1)b=l[u[d]],f+=b;this.ia=f;this.Gb=this.Vb=0};q.prototype.rH=function(a,b){var d=this.context,f=!1;var l=this.ae?4278190080:255;if(this.J!==
a||this.H!==b)f=!0;this.J=a;this.H=b;this.jj=this.gl=this.yd=this.Nc=null;this.Nc=d.createImageData(d.canvas.width,d.canvas.height);this.A.wC(Uint32,d.canvas.width*d.canvas.height,"Life.imageData");this.Nc.data.buffer?this.yd=new Uint32Array(this.Nc.data.buffer):(this.yd=new Uint32Array(this.Nc.data.length>>2),this.gl=new Uint8Array(this.yd.buffer));if(f){this.hl=this.A.R(Uint32,a,"Life.blankPixelRow");for(b=0;b<a;b+=1)this.hl[b]=l;this.NA(l);this.mA()}};q.prototype.WJ=function(a,b,d){var f,l,n=this.S,
p=a.width,r=a.height,w=this.Ab,u=this.Cb,y=this.rl,z=ViewConstants.bb[2];for(l=0;l<r;l+=1){var x=a.rh[l];var B=n[l+d&u];for(f=0;f<p;f+=1)x[f]===z&&(B[f+b&w]=y)}};q.prototype.TK=function(){this.Lk=this.Ho=this.$c=this.hc=null};q.prototype.OE=function(){this.hc=Array.ka(Uint8,this.height,this.width,this.rb,this.A,"Life.overlayGrid");this.$c=Array.ka(Uint8,this.height,this.width,this.rb,this.A,"Life.smallOverlayGrid");Array.LA(this.$c,1,"Life.smallOverlayGrid4");Array.LA(this.$c,3,"Life.smallOverlayGrid8");
Array.LA(this.$c,7,"Life.smallOverlayGrid16");this.Ho=Array.Ad(Uint16,this.hc,"Life.overlayGrid16");this.Lk=Array.Ad(Uint32,this.hc,"Life.overlayGrid32")};q.prototype.UK=function(){this.Hg=this.Zi=this.$j=this.vf=null};q.prototype.UE=function(){this.vf=Array.ka(Uint16,this.height,(this.width-1>>4)+1,0,this.A,"Life.state6Mask");this.$j=Array.ka(Uint16,this.height,(this.width-1>>4)+1,0,this.A,"Life.state6Alive");this.Zi=Array.ka(Uint16,this.height,(this.width-1>>4)+1,0,this.A,"Life.state6Cells");this.Hg=
Array.ka(Uint16,this.ya,(this.ua-1>>4)+1,0,this.A,"Life.state6TileGrid")};q.prototype.Lf=function(){var a,b,d=this.Ab,f=this.Cb,l=this.Hg,n=this.V?6:ViewConstants.bb[6]+128,p=this.V?this.S:this.hc;this.vf.Wa.fill(0);this.Zi.Wa.fill(0);this.$j.Wa.fill(0);this.Hg.Wa.fill(0);for(b=1;b<this.height-1;b+=1){var r=p[b];var w=this.vf[b-1&f];var u=this.vf[b&f];var y=this.vf[b+1&f];var z=this.Zi[b&f];var x=l[(b-1&f)>>4];var B=l[(b&f)>>4];var c=l[(b+1&f)>>4];for(a=1;a<=this.width-1;a+=1)if(r[a]===n){var m=a&
d;z[m>>4]|=1<<(~m&15);w[m>>4]|=1<<(~m&15);u[m>>4]|=1<<(~m&15);y[m>>4]|=1<<(~m&15);x[m>>8]|=1<<(~(m>>4)&15);B[m>>8]|=1<<(~(m>>4)&15);c[m>>8]|=1<<(~(m>>4)&15);m=a-1&d;w[m>>4]|=1<<(~m&15);u[m>>4]|=1<<(~m&15);y[m>>4]|=1<<(~m&15);x[m>>8]|=1<<(~(m>>4)&15);B[m>>8]|=1<<(~(m>>4)&15);c[m>>8]|=1<<(~(m>>4)&15);m=a+1&d;w[m>>4]|=1<<(~m&15);u[m>>4]|=1<<(~m&15);y[m>>4]|=1<<(~m&15);x[m>>8]|=1<<(~(m>>4)&15);B[m>>8]|=1<<(~(m>>4)&15);c[m>>8]|=1<<(~(m>>4)&15)}}};q.prototype.UM=function(a,b,d){var f,l,n=a.width,p=a.height,
r=this.Ab,w=this.Cb,u=this.Hg;for(l=0;l<p;l+=1){var y=a.rh[l];var z=this.vf[l-1+d&w];var x=this.vf[l+d&w];var B=this.vf[l+1+d&w];var c=this.Zi[l+d&w];var m=u[(l-1+d&w)>>4];var e=u[(l+d&w)>>4];var t=u[(l+1+d&w)>>4];for(f=0;f<n;f+=1)if(6===y[f]){var A=f+b&r;c[A>>4]|=1<<(~A&15);z[A>>4]|=1<<(~A&15);x[A>>4]|=1<<(~A&15);B[A>>4]|=1<<(~A&15);m[A>>8]|=1<<(~(A>>4)&15);e[A>>8]|=1<<(~(A>>4)&15);t[A>>8]|=1<<(~(A>>4)&15);A=f-1+b&r;z[A>>4]|=1<<(~A&15);x[A>>4]|=1<<(~A&15);B[A>>4]|=1<<(~A&15);m[A>>8]|=1<<(~(A>>4)&
15);e[A>>8]|=1<<(~(A>>4)&15);t[A>>8]|=1<<(~(A>>4)&15);A=f+1+b&r;z[A>>4]|=1<<(~A&15);x[A>>4]|=1<<(~A&15);B[A>>4]|=1<<(~A&15);m[A>>8]|=1<<(~(A>>4)&15);e[A>>8]|=1<<(~(A>>4)&15);t[A>>8]|=1<<(~(A>>4)&15)}}};q.prototype.gx=function(a){this.de?this.RI(a):this.OI(a)};q.prototype.RI=function(a){var b,d=this.S;var f=this.M;var l=f.l>>4,n=f.u>>4,p=f.v;for(b=f.s;b<=p;b+=1){var r=a[b];var w=d[b];var u=l<<4;for(f=l;f<=n;f+=1){var y=r[f]>>8;w[u]=y&128?(b+u&127)+64:0;u+=1;w[u]=y&64?(b+u&127)+64:0;u+=1;w[u]=y&32?
(b+u&127)+64:0;u+=1;w[u]=y&16?(b+u&127)+64:0;u+=1;w[u]=y&8?(b+u&127)+64:0;u+=1;w[u]=y&4?(b+u&127)+64:0;u+=1;w[u]=y&2?(b+u&127)+64:0;u+=1;w[u]=y&1?(b+u&127)+64:0;u+=1;y=r[f]&255;w[u]=y&128?(b+u&127)+64:0;u+=1;w[u]=y&64?(b+u&127)+64:0;u+=1;w[u]=y&32?(b+u&127)+64:0;u+=1;w[u]=y&16?(b+u&127)+64:0;u+=1;w[u]=y&8?(b+u&127)+64:0;u+=1;w[u]=y&4?(b+u&127)+64:0;u+=1;w[u]=y&2?(b+u&127)+64:0;u+=1;w[u]=y&1?(b+u&127)+64:0;u+=1}}};q.prototype.OI=function(a){var b,d=this.S,f=this.du;var l=this.M;var n=l.l>>4,p=l.u>>
4,r=l.v;l=l.s;if(!this.L&&!this.fa)for(b=l;b<=r;b+=1){var w=a[b];var u=d[b];var y=n<<4;for(l=n;l<=p;l+=1){var z=w[l]>>8<<3;u[y]=f[z];y+=1;u[y]=f[z+1];y+=1;u[y]=f[z+2];y+=1;u[y]=f[z+3];y+=1;u[y]=f[z+4];y+=1;u[y]=f[z+5];y+=1;u[y]=f[z+6];y+=1;u[y]=f[z+7];y+=1;z=(w[l]&255)<<3;u[y]=f[z];y+=1;u[y]=f[z+1];y+=1;u[y]=f[z+2];y+=1;u[y]=f[z+3];y+=1;u[y]=f[z+4];y+=1;u[y]=f[z+5];y+=1;u[y]=f[z+6];y+=1;u[y]=f[z+7];y+=1}}};q.prototype.Fb=function(a){var b=[],d,f;for(f=0;7>f;f+=1){var l=[];for(d=0;7>d;d+=1)l[d]=0;
b[f]=l}for(f=0;3>f;f+=1)for(d=0;3>d;d+=1)b[f+2][d+2]=a[f][d];return b};q.prototype.TD=function(){this.Cm=this.Fb(k.iL);this.Fm=this.Fb(k.jL);this.Im=this.Fb(k.kL);this.Jm=this.Fb(k.lL);this.ol=this.Fb(k.eL);this.ul=this.Fb(k.fL);this.vm=this.Fb(k.gL);this.ym=this.Fb(k.hL);this.gn=this.Fb(k.qL);this.No=this.Fb(k.rL);this.Po=this.Fb(k.sL);this.Uo=this.Fb(k.tL);this.Lm=this.Fb(k.mL);this.Om=this.Fb(k.nL);this.Vm=this.Fb(k.oL);this.Wm=this.Fb(k.pL)};q.prototype.IL=function(a,b,d){var f=this.rb,l=this.Bf,
n=this.wc,p=this.hl,r=this.wd;var w=this.ae?4278190080:255;this.og=!1;this.Ab=this.width-1;this.Cb=this.height-1;this.M=new BoundingBox(0,0,this.width-1,this.height-1);this.Oa=new BoundingBox(0,0,this.width-1,this.height-1);this.Yf=new BoundingBox(0,0,this.width-1,this.height-1);this.$d=new BoundingBox(0,0,this.width-1,this.height-1);new BoundingBox(0,0,this.width-1,this.height-1);this.context=a;this.sy();this.rH(b,d);l.fill(0);n.fill(f);r.fill(0);p.fill(w);this.TD()};q.prototype.aK=function(){var a=
0;this.mb[a]=new v("Mono",new g(new h(0,0,0),new h(0,0,0)),new g(new h(255,255,255),new h(255,255,255)),new h(0,0,0),new h(255,255,255),new g(new h(0,0,0),new h(-1,-1,-1)),new g(new h(0,0,0),new h(0,0,0)),new h(0,0,0));a+=1;this.mb[a]=new v("Blues",new g(new h(0,0,47),new h(0,0,255)),new g(new h(0,255,255),new h(255,255,255)),new h(0,0,0),new h(0,255,255),new g(new h(0,0,255),new h(-1,-1,-1)),new g(new h(0,0,47),new h(0,0,128)),new h(0,0,0));a+=1;this.mb[a]=new v("Fire",new g(new h(32,0,0),new h(160,
0,0)),new g(new h(255,144,0),new h(255,255,0)),new h(0,0,0),new h(255,144,0),new g(new h(240,0,0),new h(-1,-1,-1)),new g(new h(32,0,0),new h(160,0,0)),new h(0,0,0));a+=1;this.mb[a]=new v("Poison",new g(new h(0,24,0),new h(0,128,0)),new g(new h(0,255,255),new h(255,255,255)),new h(0,0,0),new h(0,255,255),new g(new h(0,192,0),new h(-1,-1,-1)),new g(new h(0,24,0),new h(0,128,0)),new h(0,0,0));a+=1;this.mb[a]=new v("Yellow",new g(new h(0,47,0),new h(128,0,128)),new g(new h(255,255,0),new h(255,255,255)),
new h(0,32,128),new h(255,255,0),new g(new h(192,64,64),new h(-1,-1,-1)),new g(new h(0,47,0),new h(128,0,128)),new h(0,32,128));a+=1;this.mb[a]=new v("Gray",new g(new h(16,16,16),new h(104,104,104)),new g(new h(176,176,176),new h(240,240,240)),new h(0,0,0),new h(240,240,240),new g(new h(160,160,160),new h(-1,-1,-1)),new g(new h(16,16,16),new h(104,104,104)),new h(0,0,0));a+=1;this.mb[a]=new v("Inverse",new g(new h(255,255,255),new h(255,255,255)),new g(new h(0,0,0),new h(0,0,0)),new h(255,255,255),
new h(0,0,0),new g(new h(255,255,255),new h(-1,-1,-1)),new g(new h(255,255,255),new h(255,255,255)),new h(255,255,255));a+=1;this.mb[a]=new v("Day",new g(new h(240,240,240),new h(0,255,255)),new g(new h(0,0,255),new h(0,0,0)),new h(255,255,255),new h(0,0,255),new g(new h(0,255,255),new h(-1,-1,-1)),new g(new h(240,240,240),new h(0,192,192)),new h(255,255,255));a+=1;this.mb[a]=new v("Occupied",new g(new h(240,240,240),new h(240,240,240)),new g(new h(240,240,240),new h(240,240,240)),new h(0,0,0),new h(240,
240,240),new g(new h(240,240,240),new h(240,240,240)),new g(new h(240,240,240),new h(240,240,240)),new h(0,0,0));a+=1;this.mb[a]=new v("Red",new g(new h(160,0,0),new h(160,0,0)),new g(new h(240,240,240),new h(240,240,240)),new h(0,0,0),new h(255,255,255),new g(new h(160,160,160),new h(160,160,160)),new g(new h(160,0,0),new h(160,0,0)),new h(0,0,0));a+=1;this.mb[a]=new v("LifeHistory",new g(new h(0,0,96),new h(0,0,160)),new g(new h(0,240,0),new h(16,255,16)),new h(0,0,0),new h(16,255,16),new g(new h(0,
128,160),new h(-1,-1,-1)),new g(new h(0,0,96),new h(0,0,160)),new h(0,0,0));a+=1;this.mb[a]=new v("Generations",new g(new h(64,0,0),new h(255,0,0)),new g(new h(255,255,0),new h(255,255,255)),new h(0,0,0),new h(255,255,0),new g(new h(255,0,0),new h(-1,-1,-1)),new g(new h(64,0,0),new h(128,0,0)),new h(0,0,0));a+=1;this.mb[a]=new v("Golly",new g(new h(48,48,48),new h(48,48,48)),new g(new h(255,255,255),new h(255,255,255)),new h(48,48,48),new h(255,255,0),new g(new h(255,0,0),new h(-1,-1,-1)),new g(new h(48,
48,48),new h(48,48,48)),new h(48,48,48));this.mb[a].Zo(10,new h(80,80,80),new h(112,112,112));a+=1;this.mb[a]=new v("MCell",new g(new h(0,0,0),new h(0,0,0)),new g(new h(255,255,0),new h(255,255,0)),new h(0,0,0),new h(255,255,0),new g(new h(0,255,0),new h(255,255,0)),new g(new h(0,0,0),new h(0,0,0)),new h(0,0,0));this.mb[a].Zo(5,new h(64,0,0),new h(99,3,1));a+=1;this.mb[a]=new v("Catagolue",new g(new h(160,221,204),new h(160,221,204)),new g(new h(0,0,0),new h(0,0,0)),new h(192,255,238),new h(0,0,0),
new g(new h(96,192,139),new h(2,129,2)),new g(new h(160,221,204),new h(160,221,204)),new h(192,255,238));this.mb[a].Zo(0,new h(160,221,204),new h(160,221,204));a+=1;this.mb[a]=new v("Caterer",new g(new h(54,57,62),new h(54,57,62)),new g(new h(255,255,255),new h(255,255,255)),new h(54,57,62),new h(255,170,0),new g(new h(255,85,0),new h(-1,-1,-1)),new g(new h(54,57,62),new h(54,57,62)),new h(54,57,62));this.mb[a].Zo(0,new h(0,0,0),new h(0,0,0));a+=1;this.mb[a]=new v("Life32",new g(new h(255,255,255),
new h(255,255,255)),new g(new h(0,0,128),new h(0,0,128)),new h(255,255,255),new h(0,0,128),new g(new h(0,0,64),new h(-1,-1,-1)),new g(new h(255,255,255),new h(255,255,255)),new h(255,255,255));this.mb[a].Zo(5,new h(192,192,192),new h(128,128,128));a+=1;this.mb[a]=new v("Margolus",new g(new h(0,0,47),new h(0,0,128)),new g(new h(255,255,0),new h(255,255,255)),new h(0,0,0),new h(255,255,0),new g(new h(64,64,128),new h(-1,-1,-1)),new g(new h(0,0,47),new h(0,0,128)),new h(0,0,0));this.mb[a].Zo(2,new h(32,
32,255),new h(64,64,128));a+=1;this.mb[a]=new v("PCA",new g(new h(24,24,24),new h(64,64,64)),new g(new h(176,176,176),new h(240,240,240)),new h(0,0,0),new h(240,240,240),new g(new h(160,160,160),new h(-1,-1,-1)),new g(new h(24,24,24),new h(64,64,64)),new h(0,0,0));a+=1;this.mb[a]=new v("Book",new g(new h(255,220,192),new h(192,220,255)),new g(new h(0,0,0),new h(0,0,0)),new h(255,255,255),new h(0,0,0),new g(new h(24,24,24),new h(128,128,128)),new g(new h(255,220,192),new h(192,220,255)),new h(255,
255,255));this.mb[a].Zo(0,new h(192,192,192),new h(209,209,209));this.mb[a+1]=new v(Keywords.br,new g(new h(0,0,0),new h(0,0,0)),new g(new h(0,0,0),new h(0,0,0)),new h(0,0,0),new h(0,0,0),new g(new h(0,0,0),new h(0,0,0)),new g(new h(0,0,0),new h(0,0,0)),new h(0,0,0));this.rf=this.mb.length-1;this.Ee=new g(new h(0,0,0),new h(0,0,0));this.Dc=new g(new h(0,0,0),new h(0,0,0));this.Je=new h(0,0,0);this.dh=new h(0,0,0);this.He=new g(new h(0,0,0),new h(0,0,0));this.gf=new g(new h(0,0,0),new h(0,0,0));this.Ph=
new h(0,0,0);this.vd=new g(new h(0,0,0),new h(0,0,0));this.ec=new g(new h(0,0,0),new h(0,0,0));this.ne=new h(0,0,0);this.Gf=new h(0,0,0);this.Td=new g(new h(0,0,0),new h(0,0,0));this.Ce=new g(new h(0,0,0),new h(0,0,0));this.Eg=new h(0,0,0)};q.prototype.lO=function(a,b,d){var f=this.mb[a],l=this.bl;this.Uf=a;this.Ee.set(this.vd);this.Dc.set(this.ec);this.Je.set(this.ne);this.dh.set(this.Gf);this.gf.set(this.Ce);this.He.set(this.Td);this.Ph.set(this.Eg);this.vd.set(f.Bb);this.ec.set(f.ob);this.ne.set(f.rb);
this.Gf.set(f.Lg);this.Ce.set(f.Qc);this.Td.set(f.fc);this.Eg.set(f.dj);this.Vn=b;this.bl=f.AL(this.ta);l&&!this.bl&&!this.pa&&2>=this.i&&this.KA();this.Zd=f.ai;this.rg=f.bi;a!==this.rf&&this.la?this.Ef=2:this.Ef=f.Am;this.ae?(this.wg=-16777216|(this.Zd&255)<<16|(this.Zd>>8&255)<<8|this.Zd>>16,this.vg=-16777216|(this.rg&255)<<16|(this.rg>>8&255)<<8|this.rg>>16):(this.wg=this.Zd>>16<<24|(this.Zd>>8&255)<<16|(this.Zd&255)<<8|255,this.vg=this.rg>>16<<24|(this.rg>>8&255)<<16|(this.rg&255)<<8|255);d.GE()};
q.prototype.kz=function(){this.de?this.jE():this.Vx()};q.prototype.jE=function(){var a=this.Gp,b;for(b=0;512>b;b+=1){var d=b&128;var f=b&256;var l=b&127;var n=0;0!==d&&(n=(l+1&127)+64<<8);0!==f&&(n|=(l&127)+64);a[b]=n}};q.prototype.Vx=function(){var a=this.Gp,b=this.Sf,d=this.Pa,f=this.rl,l=this.cf,n,p=new Uint8Array(256);p[0]=0;p[b+1]=d;for(n=1;n<b+1;n+=1)p[n]=Math.min(Math.max(n-1,f),l),p[n+b+1]=Math.max(Math.min(n+1,b),d);if(0===this.K)for(n=d;n<=b;n+=1)p[n]=0;else this.K<l&&(p[l-this.K]=1);for(n=
0;65536>n;n+=1)a[n]=p[n>>8]<<8|p[n&255]};q.prototype.eN=function(){var a;for(a=0;a<this.mb.length;a+=1){var b=this.mb[a];if(b.tm)if(2>=this.i)b.fc.ca.set(b.Lg);else{var d=1/(this.i-2);b.fc.ca.red=b.fc.aa.red*d+b.Lg.red*(1-d)|0;b.fc.ca.green=b.fc.aa.green*d+b.Lg.green*(1-d)|0;b.fc.ca.blue=b.fc.aa.blue*d+b.Lg.blue*(1-d)|0}}};q.prototype.ME=function(){var a;var b=(this.Vn-1)/this.im;if(!this.Fa)if(this.V)for(a=0;a<k.Vu.length;a+=1){if(this.Ta[a+this.K]=k.Vu[a][0],this.Sa[a+this.K]=k.Vu[a][1],this.Qa[a+
this.K]=k.Vu[a][2],this.kc&&this.kc.length>=a){var d=this.kc[a];-1!==d&&(this.Ta[a+this.K]=d>>16,this.Sa[a+this.K]=d>>8&255,this.Qa[a+this.K]=d&255)}}else if(2<this.i||this.fa){a=0;this.fa?(this.Ta[a]=this.xe[a]>>16,this.Sa[a]=this.xe[a]>>8&255,this.Qa[a]=this.xe[a]&255):(this.Ta[a]=this.Ph.red*b+this.Eg.red*(1-b),this.Sa[a]=this.Ph.green*b+this.Eg.green*(1-b),this.Qa[a]=this.Ph.blue*b+this.Eg.blue*(1-b));for(a=1;a<this.i-1;a+=1){d=3>=this.i?0:(a-1)/(this.i-3);if(this.L&&18<=this.Uf)this.Ta[a+this.K]=
k.Hp[a][0],this.Sa[a+this.K]=k.Hp[a][1],this.Qa[a+this.K]=k.Hp[a][2];else if(this.fa)this.Ta[a]=this.xe[a]>>16,this.Sa[a]=this.xe[a]>>8&255,this.Qa[a]=this.xe[a]&255;else{var f=this.He.ca.red*d+this.He.aa.red*(1-d);var l=this.Td.ca.red*d+this.Td.aa.red*(1-d);this.Ta[a+this.K]=f*b+l*(1-b);f=this.He.ca.green*d+this.He.aa.green*(1-d);l=this.Td.ca.green*d+this.Td.aa.green*(1-d);this.Sa[a+this.K]=f*b+l*(1-b);f=this.He.ca.blue*d+this.He.aa.blue*(1-d);l=this.Td.ca.blue*d+this.Td.aa.blue*(1-d);this.Qa[a+
this.K]=f*b+l*(1-b)}this.kc&&this.kc.length>=a&&(d=this.pa||this.L||this.fa?this.kc[a]:this.kc[this.i-a],-1!==d&&(this.Ta[a+this.K]=d>>16,this.Sa[a+this.K]=d>>8&255,this.Qa[a+this.K]=d&255))}a=this.i-1;this.L&&18<=this.Uf?(this.Ta[a+this.K]=k.Hp[a][0],this.Sa[a+this.K]=k.Hp[a][1],this.Qa[a+this.K]=k.Hp[a][2]):this.fa?(this.Ta[a]=this.xe[a]>>16,this.Sa[a]=this.xe[a]>>8&255,this.Qa[a]=this.xe[a]&255):(this.Ta[a+this.K]=this.dh.red*b+this.Gf.red*(1-b),this.Sa[a+this.K]=this.dh.green*b+this.Gf.green*
(1-b),this.Qa[a+this.K]=this.dh.blue*b+this.Gf.blue*(1-b));this.kc&&this.kc.length>=a&&(d=this.pa||this.L||this.fa?this.kc[a]:this.kc[this.i-a],-1!==d&&(this.Ta[a+this.K]=d>>16,this.Sa[a+this.K]=d>>8&255,this.Qa[a+this.K]=d&255));for(a=0;a<this.K;a+=1)d=1<this.K?1-a/(this.K-1):1,f=this.gf.aa.red*d+this.gf.ca.red*(1-d),l=this.Ce.aa.red*d+this.Ce.ca.red*(1-d),this.Ta[a+1]=f*b+l*(1-b),f=this.gf.aa.green*d+this.gf.ca.green*(1-d),l=this.Ce.aa.green*d+this.Ce.ca.green*(1-d),this.Sa[a+1]=f*b+l*(1-b),f=this.gf.aa.blue*
d+this.gf.ca.blue*(1-d),l=this.Ce.aa.blue*d+this.Ce.ca.blue*(1-d),this.Qa[a+1]=f*b+l*(1-b);this.kc&&0<this.kc.length&&(d=this.kc[0],-1!==d&&(this.Ta[0]=d>>16,this.Sa[0]=d>>8&255,this.Qa[0]=d&255))}else{a=0;this.Ta[a]=this.Je.red*b+this.ne.red*(1-b);this.Sa[a]=this.Je.green*b+this.ne.green*(1-b);this.Qa[a]=this.Je.blue*b+this.ne.blue*(1-b);if(0===this.K)for(a=1;a<=this.cf;a+=1)this.Ta[a]=this.Je.red*b+this.ne.red*(1-b),this.Sa[a]=this.Je.green*b+this.ne.green*(1-b),this.Qa[a]=this.Je.blue*b+this.ne.blue*
(1-b);else{var n=this.cf-this.K+1;for(a=1;a<n;a+=1)this.Ta[a]=this.Dc.aa.red*b+this.ec.aa.red*(1-b),this.Sa[a]=this.Dc.aa.green*b+this.ec.aa.green*(1-b),this.Qa[a]=this.Dc.aa.blue*b+this.ec.aa.blue*(1-b);for(a=n;a<=this.cf;a+=1)d=this.cf===n?1:1-(a-n)/(this.cf-n),f=this.Dc.aa.red*d+this.Dc.ca.red*(1-d),l=this.ec.aa.red*d+this.ec.ca.red*(1-d),this.Ta[a]=f*b+l*(1-b),f=this.Dc.aa.green*d+this.Dc.ca.green*(1-d),l=this.ec.aa.green*d+this.ec.ca.green*(1-d),this.Sa[a]=f*b+l*(1-b),f=this.Dc.aa.blue*d+this.Dc.ca.blue*
(1-d),l=this.ec.aa.blue*d+this.ec.ca.blue*(1-d),this.Qa[a]=f*b+l*(1-b)}for(a=this.Pa;a<=this.Sf;a+=1)d=0===this.zi?1:a<this.Pa+this.zi?1-(a-this.Pa)/this.zi:0,f=this.Ee.aa.red*d+this.Ee.ca.red*(1-d),l=this.vd.aa.red*d+this.vd.ca.red*(1-d),this.Ta[a]=f*b+l*(1-b),f=this.Ee.aa.green*d+this.Ee.ca.green*(1-d),l=this.vd.aa.green*d+this.vd.ca.green*(1-d),this.Sa[a]=f*b+l*(1-b),f=this.Ee.aa.blue*d+this.Ee.ca.blue*(1-d),l=this.vd.aa.blue*d+this.vd.ca.blue*(1-d),this.Qa[a]=f*b+l*(1-b)}};q.prototype.NE=function(a,
b){var d=this.Ta,f=this.Sa,l=this.Qa,n;for(n=0;n<a.length;n+=1){var p=b&&-1!==b[n]?b[n]:a[n];d[n]=p>>16;f[n]=p>>8&255;l[n]=p&255}this.Vn=0};q.prototype.bK=function(a,b){var d=this.Ta,f=this.Sa,l=this.Qa,n=ViewConstants.bb,p;for(p=0;p<a.length;p+=1)b&&-1!==b[p]?(d[128+n[p]]=b[p]>>16,f[128+n[p]]=b[p]>>8&255,l[128+n[p]]=b[p]&255):(d[128+n[p]]=a[p]>>16,f[128+n[p]]=a[p]>>8&255,l[128+n[p]]=a[p]&255)};q.prototype.Yd=function(a){this.de?this.Zx(a):this.Yx(a)};q.prototype.Zx=function(a){var b=this.Se,d,f=
255,l=15,n=15,p=0,r=0,w=[[0,1,0],[-1,0,0],[0,0,1],[0,-1,0],[1,0,0],[0,0,-1]],u=this.Ta,y=this.Sa,z=this.Qa,x=this.oi,B=this.U&&!this.sc||this.P&&!this.sc,c=this.Zd,m=this.rg;for(d=1;240>=d;d+=1)b[d]=this.ae?-16777216|n*a<<16|l*a<<8|f*a:f*a<<24|l*a<<16|n*a<<8|255,f+=6*w[r][0],l+=6*w[r][1],n+=6*w[r][2],p+=1,40===p&&(p=0,r+=1);for(d=0;128>d;d+=1)p=240*(d+1)/128|0,b[d]=b[p];for(d=127;0<=d;--d)b[d+64]=b[d],B&&(this.ae?(f=b[d]&255,l=b[d]>>8&255,n=b[d]>>16&255):(f=b[d]>>24,l=b[d]>>16&255,n=b[d]>>8&255),
x[d+64]="#"+(16777216+((f<<16)+(l<<8)+n)).toString(16).substr(1));b[0]=this.ae?-16777216|z[0]*a<<16|y[0]*a<<8|u[0]*a:u[0]*a<<24|y[0]*a<<16|z[0]*a<<8|255;this.ae?(this.wg=-16777216|(c&255)<<16|(c>>8&255)<<8|c>>16,this.vg=-16777216|(m&255)<<16|(m>>8&255)<<8|m>>16):(this.wg=c>>16<<24|(c>>8&255)<<16|(c&255)<<8|255,this.vg=m>>16<<24|(m>>8&255)<<16|(m&255)<<8|255);-1!==this.xa&&(d=this.Lb,b[d]=this.ae?-16777216|z[d]*a<<16|y[d]*a<<8|u[d]*a:u[d]*a<<24|y[d]*a<<16|z[d]*a<<8|255)};q.prototype.Yx=function(a){var b=
this.Ta,d=this.Sa,f=this.Qa,l=this.Se,n=this.Zd,p=this.rg,r=this.oi,w=this.U&&!this.sc||this.P&&!this.sc,u;if(2<this.i)if(this.V)if(this.ae)for(u=0;u<=this.i+this.K;u+=1)l[u]=-16777216|f[u]*a<<16|d[u]*a<<8|b[u]*a;else for(u=0;u<=this.i+this.K;u+=1)l[u]=b[u]*a<<24|d[u]*a<<16|f[u]*a<<8|255;else if(this.ae)for(u=0;u<=this.i+this.K;u+=1)l[u]=-16777216|f[u]*a<<16|d[u]*a<<8|b[u]*a,w&&(r[u]="#"+(16777216+((b[u]<<16)+(d[u]<<8)+f[u])).toString(16).substr(1));else for(u=0;u<=this.i+this.K;u+=1)l[u]=b[u]*a<<
24|d[u]*a<<16|f[u]*a<<8|255,w&&(r[u]="#"+(16777216+((b[u]<<16)+(d[u]<<8)+f[u])).toString(16).substr(1));else if(this.ae){for(u=0;u<this.Pa;u+=1)l[u]=-16777216|f[u]<<16|d[u]<<8|b[u],w&&(r[u]="#"+(16777216+((b[u]<<16)+(d[u]<<8)+f[u])).toString(16).substr(1));for(u=this.Pa;u<=this.Sf;u+=1)l[u]=-16777216|f[u]*a<<16|d[u]*a<<8|b[u]*a,w&&(r[u]="#"+(16777216+((b[u]<<16)+(d[u]<<8)+f[u])).toString(16).substr(1));for(u=this.Sf+1;256>u;u+=1)l[u]=-16777216|f[u]*a<<16|d[u]*a<<8|b[u]*a,w&&(r[u]="#"+(16777216+((b[u]<<
16)+(d[u]<<8)+f[u])).toString(16).substr(1))}else{for(u=0;u<this.Pa;u+=1)l[u]=b[u]<<24|d[u]<<16|f[u]<<8|255,w&&(r[u]="#"+(16777216+((b[u]<<16)+(d[u]<<8)+f[u])).toString(16).substr(1));for(u=this.Pa;u<=this.Sf;u+=1)l[u]=b[u]*a<<24|d[u]*a<<16|f[u]*a<<8|255,w&&(r[u]="#"+(16777216+((b[u]<<16)+(d[u]<<8)+f[u])).toString(16).substr(1));for(u=this.Sf+1;256>u;u+=1)l[u]=b[u]*a<<24|d[u]*a<<16|f[u]*a<<8|255,w&&(r[u]="#"+(16777216+((b[u]<<16)+(d[u]<<8)+f[u])).toString(16).substr(1))}this.ae?(this.wg=-16777216|
(n&255)<<16|(n>>8&255)<<8|n>>16,this.vg=-16777216|(p&255)<<16|(p>>8&255)<<8|p>>16):(this.wg=n>>16<<24|(n>>8&255)<<16|(n&255)<<8|255,this.vg=p>>16<<24|(p>>8&255)<<16|(p&255)<<8|255);-1!==this.xa&&(u=this.Lb,l[u]=this.ae?-16777216|f[u]*a<<16|d[u]*a<<8|b[u]*a:b[u]*a<<24|d[u]*a<<16|f[u]*a<<8|255,w&&(r[u]="#"+(16777216+((b[u]<<16)+(d[u]<<8)+f[u])).toString(16).substr(1)))};q.prototype.bO=function(){var a=this.Ta,b=this.Sa,d=this.Qa;this.Lb=-1!==this.xa&&256===this.i+this.K?2:255;-1!==this.xa&&256>this.i+
this.K&&(this.ae?(a[this.Lb]=this.fm&255,b[this.Lb]=this.fm>>8&255,d[this.Lb]=this.fm>>16&255):(a[this.Lb]=this.fm>>24,b[this.Lb]=this.fm>>16&255,d[this.Lb]=this.fm>>8&255))};q.prototype.ur=function(a){var b=this.th,d=this.S,f=this.Ja,l=this.ac,n=this.hc,p=this.$c,r=this.ja,w=this.La,u=this.Da,y=this.ra,z=this.ze,x=this.rb;this.zd.Wa.fill(0);b.Wa.fill(0);a||(d.Wa.fill(x),f&&f.Wa.fill(x),l.Wa.fill(x),n&&(n.Wa.fill(x),p.Wa.fill(x)));r.Wa.fill(0);y.Wa.fill(0);z.Wa.fill(0);a||(w.Wa.fill(0),u.Wa.fill(0))};
q.prototype.il=function(a,b){var d=k.AF,f;for(f=0;f<d;f+=1)a[f]=b[f]};q.prototype.jk=function(a,b){var d=k.Pv,f;for(f=0;f<d;f+=1){var l=b[f>>9&448|f>>6&56|f>>3&7]<<3;l|=b[f>>8&448|f>>5&56|f>>2&7]<<2;l|=b[f>>7&448|f>>4&56|f>>1&7]<<1;l|=b[f>>6&448|f>>3&56|f&7];a[f]=l}};q.prototype.pi=function(a,b,d){if(d){var f=new Uint8Array(16);for(d=0;16>d;d+=1){var l=b[d];f[l]=d}for(d=0;d<k.no;d+=1)l=(f[d>>12]&1)<<2,l|=(f[d>>8&15]&2)<<2,l|=(f[d>>4&15]&4)>>2,l|=(f[d&15]&8)>>2,a[d]=l}else for(d=0;d<k.no;d+=1)l=(d>>
12&1)<<2,l|=(d>>8&2)<<2,l|=(d>>4&4)>>2,l|=(d&8)>>2,a[d]=b[l]};q.prototype.ff=function(a,b){var d,f,l,n;for(d=0;d<k.Bm;d+=1){var p=d>>8;var r=d&255;var w=192;var u=6;for(f=n=l=0;4>f;f+=1){var y=0===u?(r&w)<<2|p&w:(r&w)>>u-2|(p&w)>>u;y=(y&8)>>1|(y&4)<<1|(y&2)>>1|(y&1)<<1;y=b[y];y=(y&8)>>1|(y&4)<<1|(y&2)>>1|(y&1)<<1;l<<=2;n<<=2;l|=y>>2&3;n|=y&3;w>>=2;u-=2}a[d]=n<<8|l}};q.prototype.hd=function(a,b){var d,f=0,l=!0,n=new Uint8Array(16);for(d=0;l&&16>d;){var p=1<<a[d];0!==(f&p)?l=!1:(f|=p,d+=1)}if(l){for(d=
0;16>d;d+=1)f=a[d],n[f]=d;b&&a.set(n)}return l};q.prototype.ju=function(a,b){var d;for(d=0;16>d;d+=1)b[d]=a[15-d];for(d=0;16>d;d+=1)a[d]=15-a[d]};q.prototype.$x=function(){var a=this.Te,b,d,f,l,n,p=this.Nl,r=this.Uk,w=this.Vk;for(b=0;1<<b<a;)b+=1;var u=(this.Dg+1)*b;if(u<=k.cM){this.Wd=this.A.R(Uint8,1<<u,"Life.ruleTreeLookup");u=this.zu=b;var y=u+b;var z=y+b;var x=z+b;if(4===this.Dg)for(b=0;b<a;b+=1)for(f=0;f<a;f+=1)for(n=0;n<a;n+=1)for(l=0;l<a;l+=1)for(d=0;d<a;d+=1){var B=b<<u|f<<y|n<<z|l<<x|d;
this.Wd[B]=w[r[r[r[r[p+b]+l]+f]+d]+n]}else this.Wd=null}else this.Wd=null};q.prototype.QO=function(a){var b=this.P?this.C.vC:this.C.Tj,d=this.P?this.C.rC:this.C.qC,f=this.C.oc,l=this.P?k.AF:k.BL,n=!1,p,r=null,w=b.length;this.oc=f;if(this.fa)this.Wd=null,this.$x();else{if(this.oc){if(this.la||this.L)w=16;var u=0;for(p=!0;u<w&&p;)b[u]!==d[u]?p=!1:u+=1;p&&(this.oc=!1,u=a.Kb.indexOf("|"),-1!==u&&(a.Kb=a.Kb.substr(0,u)),u=a.rd.indexOf("|"),-1!==u&&(a.rd=a.rd.substr(0,u)));if(this.oc&&(this.la||this.L))for(u=
0;u<w;u+=1)a=b[u],b[u]=d[u],d[u]=a}this.Vd=this.Yc=this.lf=this.Ud=this.ij=this.xi=this.xg=this.vi=null;if(this.L)this.Ud=this.A.R(Uint16,k.no,"Life.PCALookup1"),f?(this.lf=this.A.R(Uint16,k.no,"Life.PCALookup2"),this.pi(this.lf,b,!1),this.pi(this.Ud,d,!1),this.hd(b,!1)&&this.hd(d,!1)&&(this.Yc=this.A.R(Uint16,k.no,"Life.PCAReverseLookup1"),this.Vd=this.A.R(Uint16,k.no,"Life.PCAReverseLookup2"),this.hd(d,!1),this.pi(this.Yc,d,!0),this.hd(b,!1),this.pi(this.Vd,b,!0))):(this.pi(this.Ud,b,!1),this.hd(b,
!1)&&(this.Yc=this.A.R(Uint16,k.no,"Life.PCAsReverseLookup1"),this.pi(this.Yc,b,!0)));else if(this.la){this.Ud=this.A.R(Uint16,k.Bm,"Life.margolusLookup1");if(15===b[0]&&0===b[15]){f=this.oc=!0;r=new Uint8Array(16);for(u=0;16>u;u+=1)r[u]=b[u];this.ju(b,d)}f?(this.lf=this.A.R(Uint16,k.Bm,"Life.margolusLookup2"),this.ff(this.lf,b),this.ff(this.Ud,d),r&&this.hd(r,!0)?(this.Yc=this.A.R(Uint16,k.Bm,"Life.margolusReverseLookup1"),this.Vd=this.A.R(Uint16,k.Bm,"Life.margolusReverseLookup2"),this.ju(r,d),
this.ff(this.Yc,d),this.ff(this.Vd,r)):this.hd(b,!1)&&this.hd(d,!1)&&(this.Yc=this.A.R(Uint16,k.Bm,"Life.margolusReverseLookup1"),this.Vd=this.A.R(Uint16,k.Bm,"Life.margolusReverseLookup2"),this.hd(b,!0),this.ff(this.Yc,b),this.hd(d,!0),this.ff(this.Vd,d))):(this.ff(this.Ud,b),this.hd(b,!0)&&(this.Yc=this.A.R(Uint16,k.Bm,"Life.margolusReverseLookup1"),this.ff(this.Yc,b)))}else if(this.P)this.xi=this.A.R(Uint8,k.zF,"Life.indexLookupTri1"),f?(this.ij=this.A.R(Uint8,k.zF,"Life.indexLookupTri2"),this.il(this.ij,
b),this.il(this.xi,d)):this.il(this.xi,b);else{this.vi=this.A.R(Uint8,k.Pv,"Life.indexLookup63");if(-1===this.je&&b[0]){if(!b[l-1]){for(u=0;u<l/2;u+=1)a=b[u],b[u]=b[l-u-1],b[l-u-1]=a;n=!0;this.xg=this.A.R(Uint8,k.Pv,"Life.indexLookup632");this.jk(this.xg,b)}for(u=0;u<l/2;u+=1)a=b[u],b[u]=1-b[l-u-1],b[l-u-1]=1-a}this.oc?(this.xg=this.A.R(Uint8,k.Pv,"Life.indexLookup632"),this.jk(this.xg,b),this.jk(this.vi,d)):(this.jk(this.vi,b),n&&(this.oc=!0))}}};q.prototype.G=function(a){var b=0;0!==(a&32768)?b=
0:0!==(a&16384)?b=1:0!==(a&8192)?b=2:0!==(a&4096)?b=3:0!==(a&2048)?b=4:0!==(a&1024)?b=5:0!==(a&512)?b=6:0!==(a&256)?b=7:0!==(a&128)?b=8:0!==(a&64)?b=9:0!==(a&32)?b=10:0!==(a&16)?b=11:0!==(a&8)?b=12:0!==(a&4)?b=13:0!==(a&2)?b=14:0!==(a&1)&&(b=15);return b};q.prototype.T=function(a){var b=0;0!==(a&1)?b=15:0!==(a&2)?b=14:0!==(a&4)?b=13:0!==(a&8)?b=12:0!==(a&16)?b=11:0!==(a&32)?b=10:0!==(a&64)?b=9:0!==(a&128)?b=8:0!==(a&256)?b=7:0!==(a&512)?b=6:0!==(a&1024)?b=5:0!==(a&2048)?b=4:0!==(a&4096)?b=3:0!==(a&
8192)?b=2:0!==(a&16384)&&(b=1);return b};q.prototype.Xx=function(a){var b=this.hc,d=this.ja,f=this.width,l=this.height,n,p=this.M.v,r=this.M.s,w=this.M.l,u=this.M.u,y,z;for(y=0;y<l;y+=1){var x=b[y];var B=d[y>>4];for(z=n=0;z<f;z+=1)0!==x[z]&&(B[z>>8]|=1<<(~(z>>4)&15),n|=x[z],z<w&&(w=z),z>u&&(u=z));n&&(y<r&&(r=y),y>p&&(p=y))}a||(this.M.v=p,this.M.s=r,this.M.l=w,this.M.u=u)};q.prototype.VI=function(){var a,b,d,f=this.hb,l=this.ra,n=this.ja,p,r=this.P?49152:32768,w=this.P?3:1,u=this.ya,y=this.ua>>4,z=
this.wd;var x=0;var B=x+16;n.Wa.fill(0);for(b=0;b<u;b+=1){var c=0;var m=l[b];var e=n[b];var t=0<b?n[b-1]:z;var A=b<u-1?n[b+1]:z;m[0]&=32767;m[y-1]&=65534;for(d=0;d<y;d+=1)if(p=m[d]){var C=e[d];var D=t[d];var E=A[d];for(a=15;0<=a;--a){if(0!==(p&1<<a)){var G=!1;var F=0;var H=x;var I=f[H];if(I=I[c])G=!0,0!==(I&r)&&(F|=k.Ub,F|=k.Wb),0!==(I&w)&&(F|=k.lb,F|=k.Xb),F|=k.Sb;for(H+=1;H<B-1;){I=f[H];if(I=I[c])G=!0,0!==(I&r)&&(F|=k.Ub),0!==(I&w)&&(F|=k.lb);H+=1}I=f[H];if(I=I[c])G=!0,0!==(I&r)&&(F|=k.Ub,F|=k.bc),
0!==(I&w)&&(F|=k.lb,F|=k.xb),F|=k.yb;G&&(C|=1<<a,F&&(0!==(F&k.Ub)&&(15>a?C|=1<<a+1:0<d&&(e[d-1]|=1)),0!==(F&k.lb)&&(0<a?C|=1<<a-1:d<y-1&&(e[d+1]|=32768)),0!==(F&k.Sb)&&(D|=1<<a),0!==(F&k.yb)&&(E|=1<<a),0!==(F&k.Wb)&&(15>a?D|=1<<a+1:0<d&&(t[d-1]|=1)),0!==(F&k.Xb)&&(0<a?D|=1<<a-1:d<y-1&&(t[d+1]|=32768)),0!==(F&k.bc)&&(15>a?E|=1<<a+1:0<d&&(A[d-1]|=1)),0!==(F&k.xb)&&(0<a?E|=1<<a-1:d<y-1&&(A[d+1]|=32768))))}c+=1}e[d]|=C;0<b&&(t[d]|=D);b<u-1&&(A[d]|=E)}else c+=16;x+=16;B+=16}z.fill(0)};q.prototype.WI=function(){var a,
b,d,f=this.hb,l=this.ra,n=this.S,p=this.ja,r,w=this.ya,u=this.ua>>4,y=this.wd;var z=0;var x=z+16;p.Wa.fill(0);for(b=0;b<w;b+=1){var B=0;var c=l[b];var m=p[b];var e=0<b?p[b-1]:y;var t=b<w-1?p[b+1]:y;c[0]&=32767;c[u-1]&=65534;for(d=0;d<u;d+=1)if(r=c[d]){var A=m[d];var C=e[d];var D=t[d];for(a=15;0<=a;--a){if(0!==(r&1<<a)){var E=!1;var G=0;var F=z;var H=f[F];var I=n[F];H=H[B];var L=B<<4;0<I[L]&&(H|=32768);L+=1;0<I[L]&&(H|=16384);L+=1;0<I[L]&&(H|=8192);L+=1;0<I[L]&&(H|=4096);L+=1;0<I[L]&&(H|=2048);L+=
1;0<I[L]&&(H|=1024);L+=1;0<I[L]&&(H|=512);L+=1;0<I[L]&&(H|=256);L+=1;0<I[L]&&(H|=128);L+=1;0<I[L]&&(H|=64);L+=1;0<I[L]&&(H|=32);L+=1;0<I[L]&&(H|=16);L+=1;0<I[L]&&(H|=8);L+=1;0<I[L]&&(H|=4);L+=1;0<I[L]&&(H|=2);L+=1;0<I[L]&&(H|=1);H&&(E=!0,0!==(H&32768)&&(G|=k.Ub,G|=k.Wb),0!==(H&1)&&(G|=k.lb,G|=k.Xb),G|=k.Sb);for(F+=1;F<x-1;)H=f[F],I=n[F],H=H[B],L=B<<4,0<I[L]&&(H|=32768),L+=1,0<I[L]&&(H|=16384),L+=1,0<I[L]&&(H|=8192),L+=1,0<I[L]&&(H|=4096),L+=1,0<I[L]&&(H|=2048),L+=1,0<I[L]&&(H|=1024),L+=1,0<I[L]&&
(H|=512),L+=1,0<I[L]&&(H|=256),L+=1,0<I[L]&&(H|=128),L+=1,0<I[L]&&(H|=64),L+=1,0<I[L]&&(H|=32),L+=1,0<I[L]&&(H|=16),L+=1,0<I[L]&&(H|=8),L+=1,0<I[L]&&(H|=4),L+=1,0<I[L]&&(H|=2),L+=1,0<I[L]&&(H|=1),H&&(E=!0,0!==(H&32768)&&(G|=k.Ub),0!==(H&1)&&(G|=k.lb)),F+=1;H=f[F];I=n[F];H=H[B];L=B<<4;0<I[L]&&(H|=32768);L+=1;0<I[L]&&(H|=16384);L+=1;0<I[L]&&(H|=8192);L+=1;0<I[L]&&(H|=4096);L+=1;0<I[L]&&(H|=2048);L+=1;0<I[L]&&(H|=1024);L+=1;0<I[L]&&(H|=512);L+=1;0<I[L]&&(H|=256);L+=1;0<I[L]&&(H|=128);L+=1;0<I[L]&&(H|=
64);L+=1;0<I[L]&&(H|=32);L+=1;0<I[L]&&(H|=16);L+=1;0<I[L]&&(H|=8);L+=1;0<I[L]&&(H|=4);L+=1;0<I[L]&&(H|=2);L+=1;0<I[L]&&(H|=1);H&&(E=!0,0!==(H&32768)&&(G|=k.Ub,G|=k.bc),0!==(H&1)&&(G|=k.lb,G|=k.xb),G|=k.yb);E&&(A|=1<<a,G&&(0!==(G&k.Ub)&&(15>a?A|=1<<a+1:0<d&&(m[d-1]|=1)),0!==(G&k.lb)&&(0<a?A|=1<<a-1:d<u-1&&(m[d+1]|=32768)),0!==(G&k.Sb)&&(C|=1<<a),0!==(G&k.yb)&&(D|=1<<a),0!==(G&k.Wb)&&(15>a?C|=1<<a+1:0<d&&(e[d-1]|=1)),0!==(G&k.Xb)&&(0<a?C|=1<<a-1:d<u-1&&(e[d+1]|=32768)),0!==(G&k.bc)&&(15>a?D|=1<<a+1:
0<d&&(t[d-1]|=1)),0!==(G&k.xb)&&(0<a?D|=1<<a-1:d<u-1&&(t[d+1]|=32768))))}B+=1}m[d]|=A;0<b&&(e[d]|=C);b<w-1&&(t[d]|=D)}else B+=16;z+=16;x+=16}y.fill(0)};q.prototype.XK=function(a){var b,d,f=k.Pa,l=this.height,n=this.width,p=this.S,r=this.height,w=-1,u=this.width,y=-1;this.L&&0!==(this.counter&1)&&(p=this.Ja);for(d=0;d<l;d+=1){var z=p[d];var x=!1;for(b=0;b<n;b+=1){var B=z[b];B>=f&&255>B&&(x=!0,b<u&&(u=b),b>y&&(y=b))}x&&(d<r&&(r=d),d>w&&(w=d))}if(0>w||r>=l||u>=n||0>y)r=w=l>>1,y=u=n>>1;w>l-1&&(w=l-1);
0>r&&(r=0);0>u&&(u=0);y>n-1&&(y=n-1);a.v=w;a.s=r;a.l=u;a.u=y};q.prototype.mh=function(){var a,b,d=this.width>>4,f=this.height,l=this.width,n=this.hc;var p=this.S;var r=this.M,w=this.Oa,u=this.Yf,y=this.height,z=-1,x=this.width,B=-1,c=this.height,m=-1,e=this.width,t=-1,A,C=this.na;if(this.Fg){this.Fg=!1;(this.L||this.fa||this.V)&&0!==(this.counter&1)&&(p=this.Ja);var D=0!==(this.counter&1)?this.Yb:this.hb;if(n)for(b=0;b<f;b+=1){var E=n[b];for(a=A=0;a<l;a+=1){var G=E[a];A|=G;G&&(a<e&&(e=a),a>t&&(t=
a))}A&&(b<c&&(c=b),b>m&&(m=b))}C.fill(0);if(-1!==this.i)for(b=0;b<f;b+=1){d=p[b];for(a=A=0;a<l;a+=1)G=d[a],A|=G,G&&(a<x&&(x=a),a>B&&(B=a));A&&(b<y&&(y=b),b>z&&(z=b))}else{for(b=0;b<f;b+=1){p=D[b];for(a=A=0;a<d;a+=1)G=p[a],A|=G,C[a]|=G;A&&(b<y&&(y=b),b>z&&(z=b))}for(a=0;a<d;a+=1)C[a]&&(a<x&&(x=a),a>B&&(B=a));x=(x<<4)+this.G(C[x]);B=(B<<4)+this.T(C[B])}if(0>z||y>=f||x>=l||0>B)y=z=f>>1,B=x=l>>1;n&&(m>z&&(z=m),c<y&&(y=c),e<x&&(x=e),t>B&&(B=t));z>this.height-1&&(z=this.height-1);0>y&&(y=0);0>x&&(x=0);
B>this.width-1&&(B=this.width-1);r.v=z;r.s=y;r.l=x;r.u=B;w.v=z;w.s=y;w.l=x;w.u=B;u.v=z;u.s=y;u.l=x;u.u=B}};q.prototype.nC=function(a){var b,d,f=this.width>>4,l=this.height,n=this.width,p=this.hc;var r=this.S;var w=this.M,u=this.Oa,y=this.Yf,z=this.height,x=-1,B=this.width,c=-1,m=this.height,e=-1,t=this.width,A=-1,C,D=this.na,E=this.La,G=this.Da;if(0!==(this.counter&1)){var F=this.Yb;var H=this.ra;var I=this.ja}else F=this.hb,H=this.ja,I=this.ra;if(p&&!a)for(d=0;d<l;d+=1){var L=p[d];for(b=C=0;b<n;b+=
1){var K=L[b];C|=K;K&&(b<t&&(t=b),b>A&&(A=b))}C&&(d<m&&(m=d),d>e&&(e=d))}D.fill(0);I.Wa.fill(0);if(-1!==this.i)for(d=0;d<l;d+=1){f=r[d];for(b=C=0;b<n;b+=1)K=f[b],C|=K,K&&(b<B&&(B=b),b>c&&(c=b));C&&(d<z&&(z=d),d>x&&(x=d))}else{for(d=0;d<l;d+=1){r=F[d];for(b=C=0;b<f;b+=1)K=r[b],C|=K,D[b]|=K;C&&(d<z&&(z=d),d>x&&(x=d))}for(b=0;b<f;b+=1)D[b]&&(b<B&&(B=b),b>c&&(c=b));B=(B<<4)+this.G(D[B]);c=(c<<4)+this.T(D[c])}if(0>x||z>=l||B>=n||0>c)z=x=l>>1,c=B=n>>1,e=x,m=z,t=B,A=c;p&&!a&&(e<x&&(x=e),m>z&&(z=m),t<B&&
(B=t),A>c&&(c=A));x>this.height-1&&(x=this.height-1);0>z&&(z=0);0>B&&(B=0);c>this.width-1&&(c=this.width-1);w.v=x;w.s=z;w.l=B;w.u=c;u.v=x;u.s=z;u.l=B;u.u=c;y.v=x;y.s=z;y.l=B;y.u=c;0<B&&--B;0<z&&--z;c<this.width-1&&(c+=1);x<this.height-1&&(x+=1);K=x>>4;B>>=8;c>>=8;for(d=z>>4;d<=K;d+=1)for(z=I[d],b=B;b<=c;b+=1)z[b]=-1;-1!==this.i?this.WI():this.VI();p&&(this.Xx(a),y.v=w.v,y.s=w.s,y.l=w.l,y.u=w.u);Array.Vh(H,I);Array.Vh(H,E);Array.Vh(H,G)};q.prototype.$z=function(a,b){var d=this.la?-1:0;var f=Math.round((this.width-
this.Aa)/2)+d,l=Math.round((this.height-this.wa)/2)+d,n=f+this.Aa-1,p=l+this.wa-1,r=f-a>>4,w=n+a>>4,u=f-a>>4,y=n+a>>4,z=~(1<<(~(f-a)&15)),x=~(1<<(~(n+a)&15)),B=this.jg,c=0;if(!this.L||this.fa){d=0!==(this.counter&1)?this.Yb:this.hb;var m=d[p+a];var e=d[l-a];if(0===this.Aa)for(w=this.width>>4,r=0;r<w;r+=1)c+=B[e[r]],e[r]=0,c+=B[m[r]],m[r]=0;else if(0===this.wa)for(l=0,p=this.height,w=0;w<p;w+=1)m=d[w],m[u]&~z&&(c+=1),m[u]&=z,m[y]&~x&&(c+=1),m[y]&=x;else{for(;r<=w;r+=1)c+=B[e[r]],e[r]=0,c+=B[m[r]],
m[r]=0;for(w=l-a+1;w<=p+a-1;w+=1)m=d[w],m[u]&~z&&(c+=1),m[u]&=z,m[y]&~x&&(c+=1),m[y]&=x}b&&(this.ia-=c)}if(-1!==this.i)if(d=this.S,(this.L||this.fa||this.V)&&0!==(this.counter&1)&&(d=this.Ja),f-=a,n+=a,p+=a,l-=a,m=d[p],e=d[l],0===this.Aa)e.fill(0),m.fill(0);else if(0===this.wa)for(w=0;w<this.height;w+=1)d[w][f]=0,d[w][n]=0;else for(e.fill(0,f,n+1),m.fill(0,f,n+1),w=l+1;w<=p-1;w+=1)d[w][f]=0,d[w][n]=0};q.prototype.ku=function(a,b,d){var f,l;this.Os+=1;for(l=0;l<a.length;l+=1){var n=a[l];for(f=0;f<
n.length;f+=1)1===n[f]&&(this.Xj(b+f,d+l,0,!1),this.Gb+=1)}};q.prototype.da=function(a,b,d,f,l){var n,p,r=f+f,w=l+l,u=r+f,y=w+l,z=u+f,x=y+l,B=this.S;var c=this.M.l;var m=this.M.u;var e=this.M.s;var t=this.M.v;var A=this.Pa;b-=2;d-=2;var C=0;for(n=!0;n&&C<a.length;){var D=0;for(p=a[C];n&&D<p.length;){var E=p[D];var G=B[d+C][b+D];G<A&&0===E||G>=A&&1===E||(n=!1);D+=1}C+=1}if(n){D=b+3+f+f;C=d+3+l+l;p=0>f?c-1:m+1;var F=0>l?e-1:t+1;for(n=!1;!n&&D!==p&&C!==F;){var H=B[C];G=H[D];e=B[C+l][D];t=H[D+f];c=B[C+
w][D];m=H[D+r];A=B[C+y][D];E=H[D+u];var I=B[C+x][D];var L=H[D+z];var K=B[C+x+l][D];var N=H[D+z+f];var J=B[C+x+l][D];var S=H[D+z+f];var U=B[C+x+w][D];var V=H[D+z+r];var P=B[C+x+y][D];H=H[D+z+u];(G|e|t|c|m|A|E|I|L|K|N|J|S|U|V|P|H)&64?n=!0:(D+=f,C+=l)}n?this.Mh[this.Mh.length]={dL:a,x:b,y:d,mP:D,oP:C}:this.ku(a,b,d)}return n};q.prototype.Rz=function(){var a,b=this.Mh.length,d;for(a=0;a<b;a+=1){var f=this.Mh[a];var l=f.mP;var n=f.oP;var p=0;for(d=!1;!d&&p<b;){if(p!==a){var r=this.Mh[p];r.x>=l-4&&r.x<=
l+4&&r.y>=n-4&&r.y<=n+4&&(this.ku(f.dL,f.x,f.y),d=!0)}p+=1}}};q.prototype.hA=function(){var a,b=this.M.l,d=this.M.u,f=this.M.s,l=this.M.v,n=this.S,p=n[l],r=n[f],w=this.Pa;if(-1===this.xa){this.Mh=[];64>b&&(b=64);d>this.width-64&&(d=this.width-64);64>f&&(f=64);l>this.height-64&&(l=this.height-64);for(a=b;a<=d;a+=1)r[a]>=w&&(this.da(this.Cm,a,f,-1,1)||this.da(this.Fm,a-1,f,-1,1)||this.da(this.Im,a,f,-1,1)||this.da(this.Jm,a-1,f,-1,1)||this.da(this.ol,a,f,1,1)||this.da(this.ul,a-1,f,1,1)||this.da(this.vm,
a-1,f,1,1)||this.da(this.ym,a,f,1,1)),p[a]>=w&&(this.da(this.gn,a,l-2,-1,-1)||this.da(this.No,a-1,l-2,-1,-1)||this.da(this.Po,a,l-2,-1,-1)||this.da(this.Uo,a-1,l-2,-1,-1)||this.da(this.Lm,a,l-2,1,-1)||this.da(this.Om,a-1,l-2,1,-1)||this.da(this.Vm,a-1,l-2,1,-1)||this.da(this.Wm,a,l-2,1,-1));for(a=f;a<=l;a+=1)f=n[a],f[b]>=w&&(this.da(this.Cm,b,a,1,-1)||this.da(this.Fm,b,a-1,1,-1)||this.da(this.Im,b,a,1,-1)||this.da(this.Jm,b,a-1,1,-1)||this.da(this.gn,b,a-1,1,1)||this.da(this.No,b,a,1,1)||this.da(this.Po,
b,a,1,1)||this.da(this.Uo,b,a-1,1,1)),f[d]>=w&&(this.da(this.ol,d-2,a,-1,-1)||this.da(this.ul,d-2,a-1,-1,-1)||this.da(this.vm,d-2,a,-1,-1)||this.da(this.ym,d-2,a-1,-1,-1)||this.da(this.Lm,d-2,a-1,-1,1)||this.da(this.Om,d-2,a,-1,1)||this.da(this.Vm,d-2,a,-1,1)||this.da(this.Wm,d-2,a-1,-1,1));this.Rz();this.mh()}};q.prototype.EC=function(){var a,b,d=this.la?-1:0,f=this.Aa,l=this.wa;for(b=0;1>=b;b+=1){var n=Math.round((this.width-f)/2-1)+d+b>>4;var p=Math.round((this.width+f)/2)+d-b>>4;var r=Math.round((this.height-
l)/2-1+b)+d>>4;var w=Math.round((this.height+l)/2)+d-b>>4;0===l&&(r=0,w=(this.height>>4)-1);0===f&&(n=0,p=(this.width>>4)-1);0>n&&(n=0);0>r&&(r=0);p>=this.width>>4&&(p=(this.width>>4)-1);w>=this.height>>4&&(w=(this.height>>4)-1);for(a=n;a<=p;a+=1){var u=-1;this.ja[r][a>>4]|=u;this.ra[r][a>>4]|=u;this.La[r][a>>4]|=u;this.Da[r][a>>4]|=u;this.ja[w][a>>4]|=u;this.ra[w][a>>4]|=u;this.La[w][a>>4]|=u;this.Da[w][a>>4]|=u}for(a=r;a<=w;a+=1)u=1<<(~n&15),this.ja[a][n>>4]|=u,this.ra[a][n>>4]|=u,this.La[a][n>>
4]|=u,this.Da[a][n>>4]|=u,u=1<<(~p&15),this.ja[a][p>>4]|=u,this.ra[a][p>>4]|=u,this.La[a][p>>4]|=u,this.Da[a][p>>4]|=u}};q.prototype.qP=function(a){var b=this.Aa,d=this.wa,f=this.la?-1:0,l=Math.round((this.width-b)/2)+f;f=Math.round((this.height-d)/2)+f;var n=l+b-1,p=f+d-1,r=this.Sn,w=this.Tn,u=this.Da,y=this.ze,z;0===this.Aa&&(l=0,n=this.width-1,b=this.width);0===this.wa&&(f=0,p=this.height-1,d=this.height);if(0!==this.wa)for(z=0;z<b;z+=1){var x=l+z;var B=l+(z+r+b)%b;var c=a[p][x];0!==c&&(a[f-1][B]=
c,u[f-1>>4][B>>8]|=1<<(~(B>>4)&15),y[f-1>>4][B>>8]&=~(1<<(~(B>>4)&15)),15===(f-1&15)&&(u[(f-1>>4)+1][B>>8]|=1<<(~(B>>4)&15),y[(f-1>>4)+1][B>>8]&=~(1<<(~(B>>4)&15))));B=l+(z-r+b)%b;c=a[f][x];0!==c&&(a[p+1][B]=c,u[p+1>>4][B>>8]|=1<<(~(B>>4)&15),y[p+1>>4][B>>8]&=~(1<<(~(B>>4)&15)),0===(p+1&15)&&(u[(p+1>>4)-1][B>>8]|=1<<(~(B>>4)&15),y[(p+1>>4)-1][B>>8]&=~(1<<(~(B>>4)&15))))}if(0!==this.Aa)for(z=0;z<d;z+=1)x=f+z,B=f+(z-w+d)%d,c=a[x][l],0!==c&&(a[B][n+1]=c,u[B>>4][n+1>>8]|=1<<(~(n+1>>4)&15),y[B>>4][n+1>>
8]&=~(1<<(~(n+1>>4)&15)),0===(n+1&15)&&(u[B>>4][n-15>>8]|=1<<(~(n-15>>4)&15),y[B>>4][n-15>>8]&=~(1<<(~(n-15>>4)&15)))),B=f+(z+w+d)%d,c=a[x][n],0!==c&&(a[B][l-1]=c,u[B>>4][l-1>>8]|=1<<(~(l-1>>4)&15),y[B>>4][l-1>>8]&=~(1<<(~(l-1>>4)&15)),15===(l-1&15)&&(u[B>>4][l+15>>8]|=1<<(~(l+15>>4)&15),y[B>>4][l+15>>8]&=~(1<<(~(l+15>>4)&15))));0!==this.Aa&&0!==this.wa&&(c=a[f+(d-1+w+d)%d][l+(-r+b)%b],a[f-1][n+1]=c,c=a[f+(d-1-w+d)%d][l+(b-1-r+b)%b],a[f-1][l-1]=c,c=a[f+(w+d)%d][l+(r+b)%b],a[p+1][n+1]=c,c=a[f+(-w+
d)%d][l+(b-1+r+b)%b],a[p+1][l-1]=c)};q.prototype.lP=function(a){var b=this.Da,d=this.ze,f=this.Aa,l=this.wa,n=this.la?-1:0,p=Math.round((this.width-f)/2)+n;n=Math.round((this.height-l)/2)+n;var r=p+f-1,w=n+l-1,u=this.Sn,y=this.Tn,z=this.Ou,x=this.Vy,B;for(B=0;B<f;B+=1){var c=p+B;var m=z?r-(B+u+f)%f:p+(B+u+f)%f;var e=a[w][c];0!==e&&(a[n-1][m]=e,b[n-1>>4][m>>8]|=1<<(~(m>>4)&15),d[n-1>>4][m>>8]&=~(1<<(~(m>>4)&15)),15===(n-1&15)&&(b[(n-1>>4)+1][m>>8]|=1<<(~(m>>4)&15),d[(n-1>>4)+1][m>>8]&=~(1<<(~(m>>4)&
15))));m=z?r-(B-u+f)%f:p+(B-u+f)%f;e=a[n][c];0!==e&&(a[w+1][m]=e,b[w+1>>4][m>>8]|=1<<(~(m>>4)&15),d[w+1>>4][m>>8]&=~(1<<(~(m>>4)&15)),0===(w+1&15)&&(b[(w+1>>4)-1][m>>8]|=1<<(~(m>>4)&15),d[(w+1>>4)-1][m>>8]&=~(1<<(~(m>>4)&15))))}for(B=0;B<l;B+=1)c=n+B,m=x?w-(B-y+l)%l:n+(B-y+l)%l,e=a[c][p],0!==e&&(a[m][r+1]=e,b[m>>4][r+1>>8]|=1<<(~(r+1>>4)&15),d[m>>4][r+1>>8]&=~(1<<(~(r+1>>4)&15)),0===(r+1&15)&&(b[m>>4][r-15>>8]|=1<<(~(r-15>>4)&15),d[m>>4][r-15>>8]&=~(1<<(~(r-15>>4)&15)))),m=x?w-(B+y+l)%l:n+(B+y+l)%
l,e=a[c][r],0!==e&&(a[m][p-1]=e,b[m>>4][p-1>>8]|=1<<(~(p-1>>4)&15),d[m>>4][p-1>>8]&=~(1<<(~(p-1>>4)&15)),15===(p-1&15)&&(b[m>>4][p+15>>8]|=1<<(~(p+15>>4)&15),d[m>>4][p+15>>8]&=~(1<<(~(p+15>>4)&15))));e=a[x?w-(l-1+y+l)%l:n+(l-1+y+l)%l][z?r-(-u+f)%f:p+(-u+f)%f];a[n-1][r+1]=e;e=a[x?w-(l-1+y+l)%l:n+(l-1+y+l)%l][z?r-(f-1-u+f)%f:p+(f-1-u+f)%f];a[n-1][p-1]=e;e=a[x?w-(y+l)%l:n+(y+l)%l][z?r-(u+f)%f:p+(u+f)%f];a[w+1][r+1]=e;e=a[x?w-(y+l)%l:n+(y+l)%l][z?r-(f-1+u+f)%f:p+(f-1+u+f)%f];a[w+1][p-1]=e};q.prototype.cP=
function(a){var b=this.La,d=this.ze,f=this.Aa,l=this.wa,n=this.la?-1:0,p=Math.round((this.width-f)/2)+n;n=Math.round((this.height-l)/2)+n;var r=p+f-1,w=n+l-1,u;for(u=0;u<f;u+=1){var y=p+u;var z=r-u;var x=a[w][y];0!==x&&(a[n-1][z]=x,b[n-1>>4][z>>8]|=1<<(~(z>>4)&15),d[n-1>>4][z>>8]&=~(1<<(~(z>>4)&15)),15===(n-1&15)&&(b[(n-1>>4)+1][z>>8]|=1<<(~(z>>4)&15),d[(n-1>>4)+1][z>>8]&=~(1<<(~(z>>4)&15))));x=a[n][y];0!==x&&(a[w+1][z]=x,b[w+1>>4][z>>8]|=1<<(~(z>>4)&15),d[w+1>>4][z>>8]&=~(1<<(~(z>>4)&15)),0===(w+
1&15)&&(b[(w+1>>4)-1][z>>8]|=1<<(~(z>>4)&15),d[(w+1>>4)-1][z>>8]&=~(1<<(~(z>>4)&15))))}for(u=0;u<=l;u+=1)y=n+u,z=w-u,x=a[y][p],0!==x&&(a[z][r+1]=x,b[z>>4][r+1>>8]|=1<<(~(r+1>>4)&15),d[z>>4][r+1>>8]&=~(1<<(~(r+1>>4)&15)),0===(r+1&15)&&(b[z>>4][r-15>>8]|=1<<(~(r-15>>4)&15),d[z>>4][r-15>>8]&=~(1<<(~(r-15>>4)&15)))),x=a[y][r],0!==x&&(a[z][p-1]=x,b[z>>4][p-1>>8]|=1<<(~(p-1>>4)&15),d[z>>4][p-1>>8]&=~(1<<(~(p-1>>4)&15)),15===(p-1&15)&&(b[z>>4][p+15>>8]|=1<<(~(p+15>>4)&15),d[z>>4][p+15>>8]&=~(1<<(~(p+15>>
4)&15))));x=a[w][p];a[w+1][p-1]=x;x=a[w][r];a[w+1][r+1]=x;x=a[n][p];a[n-1][p-1]=x;x=a[n][r];a[n-1][r+1]=x};q.prototype.pP=function(a){var b=this.La,d=this.ze,f=this.Aa,l=this.wa,n=this.la?-1:0,p=Math.round((this.width-f)/2)+n;n=Math.round((this.height-l)/2)+n;var r=p+f-1;l=n+l-1;var w;for(w=0;w<f;w+=1){var u=n+w;var y=p+w;var z=a[u][p];0!==z&&(a[n-1][y]=z,b[n-1>>4][y>>8]|=1<<(~(y>>4)&15),d[n-1>>4][y>>8]&=~(1<<(~(y>>4)&15)),15===(n-1&15)&&(b[(n-1>>4)+1][y>>8]|=1<<(~(y>>4)&15),d[(n-1>>4)+1][y>>8]&=
~(1<<(~(y>>4)&15))));z=a[u][r];0!==z&&(a[l+1][y]=z,b[l+1>>4][y>>8]|=1<<(~(y>>4)&15),d[l+1>>4][y>>8]&=~(1<<(~(y>>4)&15)),0===(l+1&15)&&(b[(l+1>>4)-1][y>>8]|=1<<(~(y>>4)&15),d[(l+1>>4)-1][y>>8]&=~(1<<(~(y>>4)&15))));z=a[n][y];0!==z&&(a[u][p-1]=z,b[u>>4][p-1>>8]|=1<<(~(p-1>>4)&15),d[u>>4][p-1>>8]&=~(1<<(~(p-1>>4)&15)),15===(p-1&15)&&(b[u>>4][p+15>>8]|=1<<(~(p+15>>4)&15),d[u>>4][p+15>>8]&=~(1<<(~(p+15>>4)&15))));z=a[l][y];0!==z&&(a[u][r+1]=z,b[u>>4][r+1>>8]|=1<<(~(r+1>>4)&15),d[u>>4][r+1>>8]&=~(1<<(~(r+
1>>4)&15)),0===(r+1&15)&&(b[u>>4][r-15>>8]|=1<<(~(r-15>>4)&15),d[u>>4][r-15>>8]&=~(1<<(~(r-15>>4)&15))))}z=a[l][p];a[l+1][p-1]=z;z=a[l][r];a[l+1][r+1]=z;z=a[n][p];a[n-1][p-1]=z;z=a[n][r];a[n-1][r+1]=z};q.prototype.vu=function(){var a=this.La,b=this.Aa,d=this.wa;var f=this.la?-1:0;var l=Math.round((this.width-b)/2)+f,n=Math.round((this.height-d)/2)+f,p=l+b-1,r=n+d-1,w=this.Sn,u=this.Tn,y=this.P&&0<l&&p<this.width-1,z;if(0!==(this.counter&1)){f=this.Yb;var x=this.ra}else f=this.hb,x=this.ja;0===this.Aa&&
(l=0,p=this.width-1,b=this.width);0===this.wa&&(n=0,r=this.height-1,d=this.height);if(0!==this.wa)for(z=0;z<b;z+=1){var B=l+z;var c=l+(z+w+b)%b;0!==(f[r][B>>4]&1<<(~B&15))&&(f[n-1][c>>4]|=1<<(~c&15),x[n-1>>4][c>>8]|=1<<(~(c>>4)&15),a[n-1>>4][c>>8]|=1<<(~(c>>4)&15),15===(n-1&15)&&(x[(n-1>>4)+1][c>>8]|=1<<(~(c>>4)&15),a[(n-1>>4)+1][c>>8]|=1<<(~(c>>4)&15)));c=l+(z-w+b)%b;0!==(f[n][B>>4]&1<<(~B&15))&&(f[r+1][c>>4]|=1<<(~c&15),x[r+1>>4][c>>8]|=1<<(~(c>>4)&15),a[r+1>>4][c>>8]|=1<<(~(c>>4)&15),0===(r+1&
15)&&(x[(r+1>>4)-1][c>>8]|=1<<(~(c>>4)&15),a[(r+1>>4)-1][c>>8]|=1<<(~(c>>4)&15)))}if(0!==this.Aa)for(z=0;z<d;z+=1)B=n+z,c=n+(z-u+d)%d,0!==(f[B][l>>4]&1<<(~l&15))&&(f[c][p+1>>4]|=1<<(~(p+1)&15),x[c>>4][p+1>>8]|=1<<(~(p+1>>4)&15),a[c>>4][p+1>>8]|=1<<(~(p+1>>4)&15),0===(p+1&15)&&(x[c>>4][p-15>>8]|=1<<(~(p-15>>4)&15),a[c>>4][p-15>>8]|=1<<(~(p-15>>4)&15))),y&&(l+=1,p+=1,0!==(f[B][l>>4]&1<<(~l&15))&&(f[c][p+1>>4]|=1<<(~(p+1)&15),x[c>>4][p+1>>8]|=1<<(~(p+1>>4)&15),a[c>>4][p+1>>8]|=1<<(~(p+1>>4)&15),0===
(p+1&15)&&(x[c>>4][p-15>>8]|=1<<(~(p-15>>4)&15),a[c>>4][p-15>>8]|=1<<(~(p-15>>4)&15))),--l,--p),c=n+(z+u+d)%d,0!==(f[B][p>>4]&1<<(~p&15))&&(f[c][l-1>>4]|=1<<(~(l-1)&15),x[c>>4][l-1>>8]|=1<<(~(l-1>>4)&15),a[c>>4][l-1>>8]|=1<<(~(l-1>>4)&15),15===(l-1&15)&&(x[c>>4][l+15>>8]|=1<<(~(l+15>>4)&15),a[c>>4][l+15>>8]|=1<<(~(l+15>>4)&15))),y&&(--l,--p,0!==(f[B][p>>4]&1<<(~p&15))&&(f[c][l-1>>4]|=1<<(~(l-1)&15),x[c>>4][l-1>>8]|=1<<(~(l-1>>4)&15),a[c>>4][l-1>>8]|=1<<(~(l-1>>4)&15),15===(l-1&15)&&(x[c>>4][l+15>>
8]|=1<<(~(l+15>>4)&15),a[c>>4][l+15>>8]|=1<<(~(l+15>>4)&15))),l+=1,p+=1);0!==this.Aa&&0!==this.wa&&(B=l+(-w+b)%b,f[n-1][p+1>>4]=0!==(f[n+(d-1+u+d)%d][B>>4]&1<<(~B&15))?f[n-1][p+1>>4]|1<<(~(p+1)&15):f[n-1][p+1>>4]&~(1<<(~(p+1)&15)),B=l+(b-1-w+b)%b,f[n-1][l-1>>4]=0!==(f[n+(d-1-u+d)%d][B>>4]&1<<(~B&15))?f[n-1][l-1>>4]|1<<(~(l-1)&15):f[n-1][l-1>>4]&~(1<<(~(l-1)&15)),B=l+(w+b)%b,f[r+1][p+1>>4]=0!==(f[n+(u+d)%d][B>>4]&1<<(~B&15))?f[r+1][p+1>>4]|1<<(~(p+1)&15):f[r+1][p+1>>4]&~(1<<(~(p+1)&15)),B=l+(b-1+w+
b)%b,f[r+1][l-1>>4]=0!==(f[n+(-u+d)%d][B>>4]&1<<(~B&15))?f[r+1][l-1>>4]|1<<(~(l-1)&15):f[r+1][l-1>>4]&~(1<<(~(l-1)&15)))};q.prototype.tu=function(){var a=this.La,b=this.Aa,d=this.wa;var f=this.la?-1:0;var l=Math.round((this.width-b)/2)+f,n=Math.round((this.height-d)/2)+f,p=l+b-1,r=n+d-1,w=this.Sn,u=this.Tn,y=this.Ou,z=this.Vy,x;if(0!==(this.counter&1)){f=this.Yb;var B=this.ra}else f=this.hb,B=this.ja;for(x=0;x<b;x+=1){var c=l+x;var m=y?p-(x+w+b)%b:l+(x+w+b)%b;0!==(f[r][c>>4]&1<<(~c&15))&&(f[n-1][m>>
4]|=1<<(~m&15),B[n-1>>4][m>>8]|=1<<(~(m>>4)&15),a[n-1>>4][m>>8]|=1<<(~(m>>4)&15),15===(n-1&15)&&(B[(n-1>>4)+1][m>>8]|=1<<(~(m>>4)&15),a[(n-1>>4)+1][m>>8]|=1<<(~(m>>4)&15)));m=y?p-(x-w+b)%b:l+(x-w+b)%b;0!==(f[n][c>>4]&1<<(~c&15))&&(f[r+1][m>>4]|=1<<(~m&15),B[r+1>>4][m>>8]|=1<<(~(m>>4)&15),a[r+1>>4][m>>8]|=1<<(~(m>>4)&15),0===(r+1&15)&&(B[(r+1>>4)-1][m>>8]|=1<<(~(m>>4)&15),a[(r+1>>4)-1][m>>8]|=1<<(~(m>>4)&15)))}for(x=0;x<d;x+=1)c=n+x,m=z?r-(x-u+d)%d:n+(x-u+d)%d,0!==(f[c][l>>4]&1<<(~l&15))&&(f[m][p+
1>>4]|=1<<(~(p+1)&15),B[m>>4][p+1>>8]|=1<<(~(p+1>>4)&15),a[m>>4][p+1>>8]|=1<<(~(p+1>>4)&15),0===(p+1&15)&&(B[m>>4][p-15>>8]|=1<<(~(p-15>>4)&15),a[m>>4][p-15>>8]|=1<<(~(p-15>>4)&15))),m=z?r-(x+u+d)%d:n+(x+u+d)%d,0!==(f[c][p>>4]&1<<(~p&15))&&(f[m][l-1>>4]|=1<<(~(l-1)&15),B[m>>4][l-1>>8]|=1<<(~(l-1>>4)&15),a[m>>4][l-1>>8]|=1<<(~(l-1>>4)&15),15===(l-1&15)&&(B[m>>4][l+15>>8]|=1<<(~(l+15>>4)&15),a[m>>4][l+15>>8]|=1<<(~(l+15>>4)&15)));c=y?p-(-w+b)%b:l+(-w+b)%b;0!==(f[z?r-(d-1+u+d)%d:n+(d-1+u+d)%d][c>>4]&
1<<(~c&15))&&(f[n-1][p+1>>4]|=1<<(~(p+1)&15));c=y?p-(b-1-w+b)%b:l+(b-1-w+b)%b;0!==(f[z?r-(d-1+u+d)%d:n+(d-1+u+d)%d][c>>4]&1<<(~c&15))&&(f[n-1][l-1>>4]|=1<<(~(l-1)&15));c=y?p-(w+b)%b:l+(w+b)%b;0!==(f[z?r-(u+d)%d:n+(u+d)%d][c>>4]&1<<(~c&15))&&(f[r+1][p+1>>4]|=1<<(~(p+1)&15));c=y?p-(b-1+w+b)%b:l+(b-1+w+b)%b;0!==(f[z?r-(u+d)%d:n+(u+d)%d][c>>4]&1<<(~c&15))&&(f[r+1][l-1>>4]|=1<<(~(l-1)&15))};q.prototype.su=function(){var a=this.La,b=this.Aa,d=this.wa;var f=this.la?-1:0;var l=Math.round((this.width-b)/2)+
f,n=Math.round((this.height-d)/2)+f,p=l+b-1,r=n+d-1,w;if(0!==(this.counter&1)){f=this.Yb;var u=this.ra}else f=this.hb,u=this.ja;for(w=0;w<b;w+=1){var y=l+w;var z=p-w;0!==(f[r][y>>4]&1<<(~y&15))&&(f[n-1][z>>4]|=1<<(~z&15),u[n-1>>4][z>>8]|=1<<(~(z>>4)&15),a[n-1>>4][z>>8]|=1<<(~(z>>4)&15),15===(n-1&15)&&(u[(n-1>>4)+1][z>>8]|=1<<(~(z>>4)&15),a[(n-1>>4)+1][z>>8]|=1<<(~(z>>4)&15)));0!==(f[n][y>>4]&1<<(~y&15))&&(f[r+1][z>>4]|=1<<(~z&15),u[r+1>>4][z>>8]|=1<<(~(z>>4)&15),a[r+1>>4][z>>8]|=1<<(~(z>>4)&15),0===
(r+1&15)&&(u[(r+1>>4)-1][z>>8]|=1<<(~(z>>4)&15),a[(r+1>>4)-1][z>>8]|=1<<(~(z>>4)&15)))}for(w=0;w<=d;w+=1)y=n+w,z=r-w,0!==(f[y][l>>4]&1<<(~l&15))&&(f[z][p+1>>4]|=1<<(~(p+1)&15),u[z>>4][p+1>>8]|=1<<(~(p+1>>4)&15),a[z>>4][p+1>>8]|=1<<(~(p+1>>4)&15),0===(p+1&15)&&(u[z>>4][p-15>>8]|=1<<(~(p-15>>4)&15),a[z>>4][p-15>>8]|=1<<(~(p-15>>4)&15))),0!==(f[y][p>>4]&1<<(~p&15))&&(f[z][l-1>>4]|=1<<(~(l-1)&15),u[z>>4][l-1>>8]|=1<<(~(l-1>>4)&15),a[z>>4][l-1>>8]|=1<<(~(l-1>>4)&15),15===(l-1&15)&&(u[z>>4][l+15>>8]|=1<<
(~(l+15>>4)&15),a[z>>4][l+15>>8]|=1<<(~(l+15>>4)&15)));0!==(f[r][l>>4]&1<<(~l&15))&&(f[r+1][l-1>>4]|=1<<(~(l-1)&15));0!==(f[r][p>>4]&1<<(~p&15))&&(f[r+1][p+1>>4]|=1<<(~(p+1)&15));0!==(f[n][l>>4]&1<<(~l&15))&&(f[n-1][l-1>>4]|=1<<(~(l-1)&15));0!==(f[n][p>>4]&1<<(~p&15))&&(f[n-1][p+1>>4]|=1<<(~(p+1)&15))};q.prototype.uu=function(){var a=this.La,b=this.Aa;var d=this.wa;var f=this.la?-1:0,l=Math.round((this.width-b)/2)+f;f=Math.round((this.height-d)/2)+f;var n=l+b-1,p=f+d-1,r;if(0!==(this.counter&1)){d=
this.Yb;var w=this.ra}else d=this.hb,w=this.ja;for(r=0;r<b;r+=1){var u=f+r;var y=l+r;0!==(d[u][l>>4]&1<<(~l&15))&&(d[f-1][y>>4]|=1<<(~y&15),w[f-1>>4][y>>8]|=1<<(~(y>>4)&15),a[f-1>>4][y>>8]|=1<<(~(y>>4)&15),15===(f-1&15)&&(w[(f-1>>4)+1][y>>8]|=1<<(~(y>>4)&15),a[(f-1>>4)+1][y>>8]|=1<<(~(y>>4)&15)));0!==(d[u][n>>4]&1<<(~n&15))&&(d[p+1][y>>4]|=1<<(~y&15),w[p+1>>4][y>>8]|=1<<(~(y>>4)&15),a[p+1>>4][y>>8]|=1<<(~(y>>4)&15),0===(p+1&15)&&(w[(p+1>>4)-1][y>>8]|=1<<(~(y>>4)&15),a[(p+1>>4)-1][y>>8]|=1<<(~(y>>
4)&15)));0!==(d[f][y>>4]&1<<(~y&15))&&(d[u][l-1>>4]|=1<<(~(l-1)&15),w[u>>4][l-1>>8]|=1<<(~(l-1>>4)&15),a[u>>4][l-1>>8]|=1<<(~(l-1>>4)&15),15===(l-1&15)&&(w[u>>4][l+15>>8]|=1<<(~(l+15>>4)&15),a[u>>4][l+15>>8]|=1<<(~(l+15>>4)&15)));0!==(d[p][y>>4]&1<<(~y&15))&&(d[u][n+1>>4]|=1<<(~(n+1)&15),w[u>>4][n+1>>8]|=1<<(~(n+1>>4)&15),a[u>>4][n+1>>8]|=1<<(~(n+1>>4)&15),0===(n+1&15)&&(w[u>>4][n-15>>8]|=1<<(~(n-15>>4)&15),a[u>>4][n-15>>8]|=1<<(~(n-15>>4)&15)))}0!==(d[p][l>>4]&1<<(~l&15))&&(d[p+1][l-1>>4]|=1<<(~(l-
1)&15));0!==(d[p][n>>4]&1<<(~n&15))&&(d[p+1][n+1>>4]|=1<<(~(n+1)&15));0!==(d[f][l>>4]&1<<(~l&15))&&(d[f-1][l-1>>4]|=1<<(~(l-1)&15));0!==(d[f][n>>4]&1<<(~n&15))&&(d[f-1][n+1>>4]|=1<<(~(n+1)&15))};q.prototype.DO=function(a){var b,d=1;0!==this.xa&&(d=2);this.P&&(d+=1);for(b=1;b<=d+1;b+=1)this.$z(b,a)};q.prototype.LO=function(){var a=this.S;if(this.L||this.fa||this.V)0!==(this.counter&1)&&(a=this.Ja),this.Iz(a,0);this.EC();switch(this.xa){case 1:this.L||this.fa||this.V?(this.qP(a),this.V&&this.vu()):
this.vu();break;case 2:this.L||this.fa||this.V?(this.lP(a),this.V&&this.tu()):this.tu();break;case 3:this.L||this.fa||this.V?(this.cP(a),this.V&&this.su()):this.su();break;case 4:this.L||this.fa||this.V?(this.pP(a),this.V&&this.uu()):this.uu()}this.EC()};q.prototype.we=function(a,b,d,f,l){this.Fa?(this.Y=1,this.counter+=1):this.nP(a,b,d,f,l)};q.prototype.nP=function(a,b,d,f,l){var n=!1,p=this.M,r=this.$d;if(!d||f)a=!0;this.counter===this.Bo-1&&(n=!0,b||(a=!0));-1===this.xa||this.pa||this.LO();this.vf&&
this.ZI();this.Y&&(this.fa?null===this.ge?this.WK():this.Sy():this.L?this.Dy():this.pa?this.za.uM(this.counter):a&&2>this.i||this.V?this.la?this.Ay():this.P?this.aO():this.jN():this.la?this.By():this.P?this.Ux():this.Cy());this.counter+=1;if(this.la||this.L)this.td?--this.af:this.af+=1,this.af>this.Ij&&(this.Ij=this.af);-1===this.i||this.pa||this.L||this.fa||this.V||this.zy();this.V&&this.sM();this.vf&&this.YI();-1===this.xa||this.pa||this.DO(a);if(this.width===this.ga||this.height===this.ga)if(d=
this.pa?2*this.za.fh:16,p.l<=d||p.u>=this.ga-d||p.s<=d||p.v>=this.ga-d)this.pa?this.tA():this.qA();n&&(this.Bo+=k.zt,b||(this.re(),this.ut(l)));p.l<r.l&&(r.l=p.l);p.u>r.u&&(r.u=p.u);p.s<r.s&&(r.s=p.s);p.v>r.v&&(r.v=p.v);this.counter<k.cG&&(a?(this.$t(this.ia,this.Vb,this.Gb),this.ia>this.ad&&(this.ad=this.ia),this.Vb>this.ad&&(this.ad=this.Vb),this.Gb>this.ad&&(this.ad=this.Gb)):this.$t(0,0,0))};q.prototype.$t=function(a,b,d){var f=this.counter>>k.Pj,l=this.counter&(1<<k.Pj)-1;this.uc&&0<this.uc.length&&
(this.counter>=this.Lh&&(Array.Ap(this.uc,"Life.popGraphData"),Array.Ap(this.Fh,"Life.birthGraphData"),Array.Ap(this.ti,"Life.deathGraphData"),this.Lh+=1<<k.Pj),this.uc[f][l]=a,this.Fh[f][l]=b,this.ti[f][l]=d)};q.prototype.wp=function(a,b,d,f,l,n,p,r){var w,u=1,y,z=(1<<k.Pj)-1,x=k.cG;this.counter>d&&(u=d/this.counter);if(r){a.strokeStyle=b;a.beginPath();var B=f-p[0]/this.ad*f|0;a.moveTo(0+n+.5,B+l+n+.5)}else a.fillStyle=b;p.length<<k.Pj<x&&(x=p.length<<k.Pj);var c=0;for(b=w=1;b<d;b+=1){if(w<x){var m=
w>>k.Pj;B=w&z;var e=y=p[m][B];c+=u;for(w+=1;0===(c|0)&&w<x;)m=w>>k.Pj,B=w&z,m=p[m][B],w+=1,m>e&&(e=m),m<y&&(y=m),c+=u;--c}else e=y=0;b<=this.counter&&(m=0+n+1+b,B=f-y/this.ad*f|0,r?(a.lineTo(m+.5,B+l+n+.5),y!==e&&(B=f-e/this.ad*f|0,a.lineTo(m+.5,B+l+n+.5))):0<y&&0<e&&(y!==e&&(B=f-e/this.ad*f|0),a.fillRect(m+.5,B+l+n+.5,1,1)))}r&&a.stroke()};q.prototype.zv=function(a,b,d,f,l){var n=this.context,p=l.o.Ye;l=48*l.o.Ih;var r=40*p,w=this.J-r,u=this.H-l-r,y="rgb("+this.Bj[0]+","+this.Bj[1]+","+this.Bj[2]+
")",z="rgb("+this.Aj[0]+","+this.Aj[1]+","+this.Aj[2]+")",x="rgb("+this.zj[0]+","+this.zj[1]+","+this.zj[2]+")",B="rgb("+this.Cj[0]+","+this.Cj[1]+","+this.Cj[2]+")",c="rgb("+this.Dj[0]+","+this.Dj[1]+","+this.Dj[2]+")";if(this.uc&&0<this.uc.length){if(d||f)l=0,u+=2*l;f&&(r=0,w=this.J);var m=w-r;n.save();n.fillStyle=y;n.globalAlpha=b;n.fillRect(0,l,w+r,u);n.globalAlpha=1;d&&(u-=l);if(!f){n.font=(16*p|0)+"px Arial";n.textAlign="center";n.fillStyle="black";for(b=2;0<=b;b-=2)n.save(),n.translate(this.J/
2,u+r/2-(6*p|0)),n.fillText("Generation",b,b),n.restore(),n.save(),n.translate(r/2+(6*p|0),this.H/2),n.rotate(-90*Math.PI/180),320>this.H?n.fillText("Pop",b,b):n.fillText("Population",b,b),n.restore(),n.fillStyle=z;n.fillStyle="black";for(b=2;0<=b;b-=2)n.save(),n.translate(r-r/2+(6*p|0),l+r),n.rotate(-90*Math.PI/180),n.fillText(String(this.ad),b,b),n.restore(),n.save(),n.translate(r-r/2+(6*p|0),u),n.rotate(-90*Math.PI/180),n.fillText("0",b,b),n.restore(),n.save(),n.translate(r,u+r/2-(6*p|0)),n.fillText("0",
b,b),n.restore(),n.save(),n.translate(w,u+r/2-(6*p|0)),n.fillText(String(this.counter>m?this.counter:m|0),b,b),n.restore(),n.fillStyle=z}-1===this.xa&&(this.wp(n,c,m,u-l-r,l,r,this.ti,a),this.wp(n,B,m,u-l-r,l,r,this.Fh,a));this.wp(n,x,m,u-l-r,l,r,this.uc,a);n.strokeStyle=z;n.lineWidth=1;n.beginPath();n.moveTo(r+.5,l+r+.5);n.lineTo(r+.5,u+.5);n.lineTo(w+.5,u+.5);n.lineTo(w+.5,u+2.5);n.moveTo(r+.5,u+.5);n.lineTo(r+.5,u+2.5);n.moveTo(r+.5,u+.5);n.lineTo(r+.5-2,u+.5);n.moveTo(r+.5,l+r+.5);n.lineTo(r+
.5-2,l+r+.5);n.stroke();n.restore()}};q.prototype.pH=function(){var a=(1<<k.Pj)-1,b;if(this.uc&&0<this.uc.length){for(b=0;b<this.Lh;b+=1){var d=b>>k.Pj;var f=b&a;this.uc[d][f]=0;this.Fh[d][f]=0;this.ti[d][f]=0}this.uc[0][0]=this.ia}this.ad=this.ia};q.prototype.hx=function(){var a=this.M,b=this.$d;b.l=a.l;b.u=a.u;b.v=a.v;b.s=a.s};q.prototype.ZI=function(){var a,b,d,f,l=this.vf,n=this.$j,p=this.Zi,r=this.Hg,w=this.ya,u=this.ua>>4,y;var z=0;var x=0!==(this.counter&1)?this.Yb:this.hb;for(a=0;a<w;a+=1){var B=
0;var c=r[a];for(b=0;b<u;b+=1)if(y=c[b])for(d=15;0<=d;--d){if(0!==(y&1<<d))for(f=z;f<z+16;f+=1)n[f][B]=(x[f][B]|p[f][B])&l[f][B];B+=1}else B+=16;z+=16}};q.prototype.YI=function(){var a,b,d,f,l,n=this.jg,p=this.$j,r=this.Hg,w=this.ya,u=this.ua>>4,y;var z=0!==(this.counter&1)?this.Yb:this.hb;for(a=l=0;a<w;a+=1){var x=0;var B=r[a];for(b=0;b<u;b+=1)if(y=B[b])for(d=15;0<=d;--d){if(0!==(y&1<<d))for(f=l;f<l+16;f+=1){var c=z[f][x];var m=c&~p[f][x];m!==c&&(z[f][x]=m,c=n[c]-n[m],this.ia-=c,this.Gb+=c)}x+=1}else x+=
16;l+=16}};q.prototype.vp=function(a,b,d){var f,l,n=this.hk,p=0,r=this.Fe[p],w=this.Ge[p],u=0,y=k.cx,z=y-1,x=0,B=y,c=this.qt,m=this.Ab,e=this.Cb,t;r[u]=a;w[u]=b;u+=1;d[b][a>>4]&=~(1<<(~a&15));for(t=1;0<u;)for(--u,u<x&&(--p,x-=y,B-=y,r=this.Fe[p],w=this.Ge[p]),a=r[u&z],b=w[u&z],l=b-c;l<=b+c;){for(f=a-c;f<=a+c;)f===(f&m)&&l===(l&e)&&0!==(d[l][f>>4]&1<<(~f&15))&&(d[l][f>>4]&=~(1<<(~f&15)),t+=1,u===B&&(p+=1,x+=y,B+=y,p>n&&(this.Fe[p]=this.A.R(Int32,y,"Life.boundaryX"+p),this.Ge[p]=this.A.R(Int32,y,"Life.boundaryY"+
p),this.hk=n+=1),r=this.Fe[p],w=this.Ge[p]),r[u&z]=f,w[u&z]=l,u+=1),f+=1;l+=1}this.ia-=t;this.Gb+=t};q.prototype.xu=function(a,b,d){for(var f=d[b][a],l=15;0<=l;)0!==(f&1<<l)&&this.vp((a<<4)+(~l&15),b,d),--l};q.prototype.DI=function(a,b){this.vp(0,a,b)};q.prototype.FI=function(a,b,d){this.vp((a<<4)+15,b,d)};q.prototype.qA=function(){var a;var b=0!==(this.counter&1)?this.Yb:this.hb;var d=b.length;var f=b[0].length;var l=b[0];var n=b[d-1];for(a=0;a<f;)l[a]&&this.xu(a,0,b),n[a]&&this.xu(a,d-1,b),a+=1;
for(a=0;a<d;)0!==(b[a][0]&32768)&&this.DI(a,b),0!==(b[a][f-1]&1)&&this.FI(f-1,a,b),a+=1};q.prototype.mk=function(a,b){var d,f=this.S,l,n=this.hk,p=0,r=this.Fe[p],w=this.Ge[p],u=0,y=k.cx,z=y-1,x=0,B=y,c=this.Ab,m=this.Cb,e=2<this.i?1:k.Pa,t=2<this.i?0:k.cf,A=this.qt,C;r[u]=a;w[u]=b;u+=1;f[b][a]=0;for(C=1;0<u;)for(--u,u<x&&(--p,x-=y,B-=y,r=this.Fe[p],w=this.Ge[p]),a=r[u&z],b=w[u&z],d=b-A;d<=b+A;){var D=a-A;for(l=f[d];D<=a+A;)D===(D&c)&&d===(d&m)&&l[D]>=e&&(l[D]=t,C+=1,u===B&&(p+=1,x+=y,B+=y,p>n&&(this.Fe[p]=
this.A.R(Int32,y,"Life.boundaryX"+p),this.Ge[p]=this.A.R(Int32,y,"Life.boundaryY"+p),this.hk=n+=1),r=this.Fe[p],w=this.Ge[p]),r[u&z]=D,w[u&z]=d,u+=1),D+=1;d+=1}this.ia-=C;this.Gb+=C};q.prototype.tA=function(){var a=this.S,b=a.length,d=a[0].length,f=this.M,l=f.l,n=f.u,p=f.s,r=f.v,w=2*this.za.fh+1,u=2*this.za.gh+1,y=2<this.i?1:k.Pa,z,x;if(b-r<=u){for(x=b-u;x<=r;x+=1){var B=a[x];for(z=l;z<=n;z+=1)B[z]>=y&&this.mk(z,x)}f.v=b-u}if(p<=u){for(x=p;x<=u;x+=1)for(B=a[x],z=l;z<=n;z+=1)B[z]>=y&&this.mk(z,x);
f.s=u}if(l<=w){for(x=p;x<=r;x+=1)for(B=a[x],z=l;z<=w;z+=1)B[z]>=y&&this.mk(z,x);f.l=w}if(d-n<=w){for(x=p;x<=r;x+=1)for(B=a[x],z=d-w;z<=n;z+=1)B[z]>=y&&this.mk(z,x);f.u=d-w}};q.prototype.aO=function(){var a=this.xi,b,d,f,l,n,p=this.na,r,w=this.height,u=this.width,y=u>>4,z=this.M,x=w,B=-1,c=u,m=-1,e=this.ya,t=this.ua>>4,A=this.wd;var C=0;var D=e,E=this.jg,G=0,F=0,H=0;if(0!==(this.counter&1)){var I=this.Yb;var L=this.hb;var K=this.ra;var N=this.ja;this.oc&&(a=this.ij)}else I=this.hb,L=this.Yb,K=this.ja,
N=this.ra;p.fill(0);0>C&&(C=0);D>e&&(D=e);var J=C<<4;var S=J+16;N.Wa.fill(0);for(d=C;d<D;d+=1){var U=0;var V=K[d];var P=N[d];var sa=0<d?N[d-1]:A;var X=d<e-1?N[d+1]:A;for(f=0;f<t;f+=1)if(l=V[f]){var ja=P[f];var na=sa[f];var ha=X[f];for(b=15;0<=b;--b){if(0!==(l&1<<b)){var Y=r=0;var ea=J;var da=0===ea?this.Bf:I[ea-1];var qa=I[ea];C=I[ea+1];var ma=n=qa[U];da=da[U-1]<<18|da[U]<<2|da[U+1]>>14;var T=qa[U-1]<<18|n<<2|qa[U+1]>>14;var Q=C[U-1]<<18|C[U]<<2|C[U+1]>>14;var W=a[da>>7&7936|Q>>11&224|T>>15&31]<<
15;W|=a[Q>>6&7936|da>>10&224|T>>14&31]<<14;W|=a[da>>5&7936|Q>>9&224|T>>13&31]<<13;W|=a[Q>>4&7936|da>>8&224|T>>12&31]<<12;W|=a[da>>3&7936|Q>>7&224|T>>11&31]<<11;W|=a[Q>>2&7936|da>>6&224|T>>10&31]<<10;W|=a[da>>1&7936|Q>>5&224|T>>9&31]<<9;W|=a[Q>>0&7936|da>>4&224|T>>8&31]<<8;W|=a[da<<1&7936|Q>>3&224|T>>7&31]<<7;W|=a[Q<<2&7936|da>>2&224|T>>6&31]<<6;W|=a[da<<3&7936|Q>>1&224|T>>5&31]<<5;W|=a[Q<<4&7936|da>>0&224|T>>4&31]<<4;W|=a[da<<5&7936|Q<<1&224|T>>3&31]<<3;W|=a[Q<<6&7936|da<<2&224|T>>2&31]<<2;W|=a[da<<
7&7936|Q<<3&224|T>>1&31]<<1;W|=a[Q<<8&7936|da<<4&224|T>>0&31]<<0;L[ea][U]=W;G+=E[W];F+=E[W&~n];H+=E[n&~W];W&&(r|=W,ea<x&&(x=ea),ea>B&&(B=ea),0!==(W&49152)&&(Y|=k.Wb),0!==(W&3)&&(Y|=k.Xb),Y|=k.Sb);for(ea+=1;ea<S-1;){n=C[U];ma|=n;C=I[ea+1];da=T;T=Q;Q=C[U-1]<<18|C[U]<<2|C[U+1]>>14;0!==(ea&1)&&(qa=da,da=Q,Q=qa);W=a[da>>7&7936|Q>>11&224|T>>15&31]<<15;W|=a[Q>>6&7936|da>>10&224|T>>14&31]<<14;W|=a[da>>5&7936|Q>>9&224|T>>13&31]<<13;W|=a[Q>>4&7936|da>>8&224|T>>12&31]<<12;W|=a[da>>3&7936|Q>>7&224|T>>11&31]<<
11;W|=a[Q>>2&7936|da>>6&224|T>>10&31]<<10;W|=a[da>>1&7936|Q>>5&224|T>>9&31]<<9;W|=a[Q>>0&7936|da>>4&224|T>>8&31]<<8;W|=a[da<<1&7936|Q>>3&224|T>>7&31]<<7;W|=a[Q<<2&7936|da>>2&224|T>>6&31]<<6;W|=a[da<<3&7936|Q>>1&224|T>>5&31]<<5;W|=a[Q<<4&7936|da>>0&224|T>>4&31]<<4;W|=a[da<<5&7936|Q<<1&224|T>>3&31]<<3;W|=a[Q<<6&7936|da<<2&224|T>>2&31]<<2;W|=a[da<<7&7936|Q<<3&224|T>>1&31]<<1;W|=a[Q<<8&7936|da<<4&224|T>>0&31]<<0;G+=E[W];F+=E[W&~n];H+=E[n&~W];0!==(ea&1)&&(Q=qa=da);if(L[ea][U]=W)r|=W,ea<x&&(x=ea),ea>B&&
(B=ea);ea+=1}n=C[U];ma|=n;C=ea===this.height-1?this.Bf:I[ea+1];da=T;T=Q;Q=C[U-1]<<18|C[U]<<2|C[U+1]>>14;0!==(ea&1)&&(qa=da,da=Q,Q=qa);W=a[da>>7&7936|Q>>11&224|T>>15&31]<<15;W|=a[Q>>6&7936|da>>10&224|T>>14&31]<<14;W|=a[da>>5&7936|Q>>9&224|T>>13&31]<<13;W|=a[Q>>4&7936|da>>8&224|T>>12&31]<<12;W|=a[da>>3&7936|Q>>7&224|T>>11&31]<<11;W|=a[Q>>2&7936|da>>6&224|T>>10&31]<<10;W|=a[da>>1&7936|Q>>5&224|T>>9&31]<<9;W|=a[Q>>0&7936|da>>4&224|T>>8&31]<<8;W|=a[da<<1&7936|Q>>3&224|T>>7&31]<<7;W|=a[Q<<2&7936|da>>2&
224|T>>6&31]<<6;W|=a[da<<3&7936|Q>>1&224|T>>5&31]<<5;W|=a[Q<<4&7936|da>>0&224|T>>4&31]<<4;W|=a[da<<5&7936|Q<<1&224|T>>3&31]<<3;W|=a[Q<<6&7936|da<<2&224|T>>2&31]<<2;W|=a[da<<7&7936|Q<<3&224|T>>1&31]<<1;W|=a[Q<<8&7936|da<<4&224|T>>0&31]<<0;G+=E[W];F+=E[W&~n];H+=E[n&~W];if(L[ea][U]=W)r|=W,ea<x&&(x=ea),ea>B&&(B=ea),0!==(W&49152)&&(Y|=k.bc),0!==(W&3)&&(Y|=k.xb),Y|=k.yb;r&&(0!==(r&49152)&&(Y|=k.Ub),0!==(r&3)&&(Y|=k.lb));p[U]|=r;if(r||ma)ja|=1<<b,Y&&(0!==(Y&k.Ub)&&(15>b?ja|=1<<b+1:0<f&&0<U&&(P[f-1]|=1)),
0!==(Y&k.lb)&&(0<b?ja|=1<<b-1:f<t-1&&U<y-1&&(P[f+1]|=32768)),0!==(Y&k.Sb)&&(na|=1<<b),0!==(Y&k.yb)&&(ha|=1<<b),0!==(Y&k.Wb)&&(15>b?na|=1<<b+1:0<f&&0<U&&(sa[f-1]|=1)),0!==(Y&k.Xb)&&(0<b?na|=1<<b-1:f<t-1&&U<y-1&&(sa[f+1]|=32768)),0!==(Y&k.bc)&&(15>b?ha|=1<<b+1:0<f&&0<U&&(X[f-1]|=1)),0!==(Y&k.xb)&&(0<b?ha|=1<<b-1:f<t-1&&U<y-1&&(X[f+1]|=32768)))}U+=1}P[f]|=ja;0<d&&(sa[f]|=na);d<e-1&&(X[f]|=ha)}else U+=16;J+=16;S+=16}for(f=0;f<y;f+=1)p[f]&&(f<c&&(c=f),f>m&&(m=f));c=(c<<4)+this.G(p[c]);m=(m<<4)+this.T(p[m]);
0>B&&(B=w-1);x>=w&&(x=0);c>=u&&(c=0);0>m&&(m=u-1);B>w-1&&(B=w-1);0>x&&(x=0);0>c&&(c=0);m>u-1&&(m=u-1);z.v=B;z.s=x;z.l=c;z.u=m;A.fill(0);this.ia=G;this.Vb=F;this.Gb=H};q.prototype.Ay=function(){var a=this.Ud,b,d,f,l,n=this.na,p,r=this.height,w=this.width,u=w>>4,y=this.M,z=r,x=-1,B=w,c=-1,m=this.ya,e=this.ua>>4,t=this.wd,A=this.jg,C=0,D=0,E=0,G=this.counter&1;this.ud&&(this.td=!this.td,this.ud=!1);if(0!==G){var F=this.Yb;var H=this.hb;var I=this.ra;var L=this.ja;this.td&&(a=this.Yc)}else F=this.hb,
H=this.Yb,I=this.ja,L=this.ra,this.oc&&(a=this.lf),this.td&&(a=this.oc?this.Vd:this.Yc);this.td&&(G=1-G);n.fill(0);var K=1-G;var N=K+16;L.Wa.fill(0);for(d=0;d<I.length;d+=1){var J=0;var S=I[d];var U=L[d];var V=0<d?L[d-1]:t;var P=d<m-1?L[d+1]:t;for(f=0;f<e;f+=1)if(l=S[f]){var sa=U[f];var X=V[f];var ja=P[f];for(b=15;0<=b;--b){var na=0===b&&f===e-1?!0:!1;if(0!==(l&1<<b)){var ha=p=0;if(0!==G){var Y=K;var ea=F[Y][J];var da=F[Y+1][J];var qa=ea|da;var ma=a[ea&65280|da>>8];var T=ma&65280;var Q=(ma&255)<<
8;ma=a[(ea&255)<<8|da&255];T|=ma>>8;Q|=ma&255;H[Y][J]=T;H[Y+1][J]=Q;C+=A[T];D+=A[T&~ea];E+=A[ea&~T];C+=A[Q];D+=A[Q&~da];E+=A[da&~Q];if(ma=T|Q)p|=ma,T&&(Y<z&&(z=Y),Y>x&&(x=Y)),Q&&(Y+1<z&&(z=Y+1),Y+1>x&&(x=Y+1)),0!==(ma&49152)&&(ha|=k.Wb),0!==(ma&3)&&(ha|=k.Xb),ha|=k.Sb;for(Y+=2;Y<N-2;){ea=F[Y][J];da=F[Y+1][J];qa|=ea|da;ma=a[ea&65280|da>>8];T=ma&65280;Q=(ma&255)<<8;ma=a[(ea&255)<<8|da&255];T|=ma>>8;Q|=ma&255;H[Y][J]=T;H[Y+1][J]=Q;C+=A[T];D+=A[T&~ea];E+=A[ea&~T];C+=A[Q];D+=A[Q&~da];E+=A[da&~Q];if(ma=
T|Q)p|=ma,T&&(Y<z&&(z=Y),Y>x&&(x=Y)),Q&&(Y+1<z&&(z=Y+1),Y+1>x&&(x=Y+1));Y+=2}ea=F[Y][J];da=F[Y+1][J];qa|=ea|da;ma=a[ea&65280|da>>8];T=ma&65280;Q=(ma&255)<<8;ma=a[(ea&255)<<8|da&255];T|=ma>>8;Q|=ma&255;H[Y][J]=T;H[Y+1][J]=Q;C+=A[T];D+=A[T&~ea];E+=A[ea&~T];C+=A[Q];D+=A[Q&~da];E+=A[da&~Q];if(ma=T|Q)p|=ma,T&&(Y<z&&(z=Y),Y>x&&(x=Y)),Q&&(Y+1<z&&(z=Y+1),Y+1>x&&(x=Y+1)),ma&&(0!==(ma&49152)&&(ha|=k.bc),0!==(ma&3)&&(ha|=k.xb),ha|=k.yb);p&&(0!==(p&49152)&&(ha|=k.Ub),0!==(p&3)&&(ha|=k.lb),n[J]|=p);if(p||qa)ha|=
k.xb,ha|=k.lb}else{Y=K;na?(ea=F[Y][J]<<1&65535,da=F[Y+1][J]<<1&65535):(ea=(F[Y][J]<<1|F[Y][J+1]>>15)&65535,da=(F[Y+1][J]<<1|F[Y+1][J+1]>>15)&65535);qa=ea|da;ma=a[ea&65280|da>>8];T=ma&65280;Q=(ma&255)<<8;ma=a[(ea&255)<<8|da&255];T|=ma>>8;Q|=ma&255;na?(H[Y][J]=H[Y][J]&32768|T>>1,H[Y+1][J]=H[Y+1][J]&32768|Q>>1):(H[Y][J]=H[Y][J]&32768|T>>1,H[Y][J+1]=H[Y][J+1]&32767|(T&1)<<15,H[Y+1][J]=H[Y+1][J]&32768|Q>>1,H[Y+1][J+1]=H[Y+1][J+1]&32767|(Q&1)<<15);C+=A[T];D+=A[T&~ea];E+=A[ea&~T];C+=A[Q];D+=A[Q&~da];E+=
A[da&~Q];if(ma=T|Q)p|=ma,T&&(Y<z&&(z=Y),Y>x&&(x=Y)),T&&(Y+1<z&&(z=Y+1),Y+1>x&&(x=Y+1));for(Y+=2;Y<N-2;){na?(ea=F[Y][J]<<1&65535,da=F[Y+1][J]<<1&65535):(ea=(F[Y][J]<<1|F[Y][J+1]>>15)&65535,da=(F[Y+1][J]<<1|F[Y+1][J+1]>>15)&65535);qa|=ea|da;ma=a[ea&65280|da>>8];T=ma&65280;Q=(ma&255)<<8;ma=a[(ea&255)<<8|da&255];T|=ma>>8;Q|=ma&255;na?(H[Y][J]=H[Y][J]&32768|T>>1,H[Y+1][J]=H[Y+1][J]&32768|Q>>1):(H[Y][J]=H[Y][J]&32768|T>>1,H[Y][J+1]=H[Y][J+1]&32767|(T&1)<<15,H[Y+1][J]=H[Y+1][J]&32768|Q>>1,H[Y+1][J+1]=H[Y+
1][J+1]&32767|(Q&1)<<15);C+=A[T];D+=A[T&~ea];E+=A[ea&~T];C+=A[Q];D+=A[Q&~da];E+=A[da&~Q];if(ma=T|Q)p|=ma,T&&(Y<z&&(z=Y),Y>x&&(x=Y)),Q&&(Y+1<z&&(z=Y+1),Y+1>x&&(x=Y+1));Y+=2}na?(ea=F[Y][J]<<1&65535,da=F[Y+1][J]<<1&65535):(ea=(F[Y][J]<<1|F[Y][J+1]>>15)&65535,da=(F[Y+1][J]<<1|F[Y+1][J+1]>>15)&65535);qa|=ea|da;ma=a[ea&65280|da>>8];T=ma&65280;Q=(ma&255)<<8;ma=a[(ea&255)<<8|da&255];T|=ma>>8;Q|=ma&255;na?(H[Y][J]=H[Y][J]&32768|T>>1,H[Y+1][J]=H[Y+1][J]&32768|Q>>1):(H[Y][J]=H[Y][J]&32768|T>>1,H[Y][J+1]=H[Y][J+
1]&32767|(T&1)<<15,H[Y+1][J]=H[Y+1][J]&32768|Q>>1,H[Y+1][J+1]=H[Y+1][J+1]&32767|(Q&1)<<15);C+=A[T];D+=A[T&~ea];E+=A[ea&~T];C+=A[Q];D+=A[Q&~da];E+=A[da&~Q];if(ma=T|Q)p|=ma,T&&(Y<z&&(z=Y),Y>x&&(x=Y)),Q&&(Y+1<z&&(z=Y+1),Y+1>x&&(x=Y+1)),0!==(ma&3)&&(ha|=k.xb),ha|=k.yb;ea|da&&(0!==((ea|da)&3)&&(ha|=k.xb),ha|=k.yb);p&&(0!==(p&3)&&(ha|=k.lb),n[J]|=p>>1,n[J+1]|=(p&1)<<15);0!==(qa&3)&&(ha|=k.lb)}if(p||qa)sa|=1<<b,ha&&(0!==(ha&k.Ub)&&(15>b?sa|=1<<b+1:0<f&&0<J&&(U[f-1]|=1)),0!==(ha&k.lb)&&(0<b?sa|=1<<b-1:f<
e-1&&J<u-1&&(U[f+1]|=32768)),0!==(ha&k.Sb)&&(X|=1<<b),0!==(ha&k.yb)&&(ja|=1<<b),0!==(ha&k.Wb)&&(15>b?X|=1<<b+1:0<f&&0<J&&(V[f-1]|=1)),0!==(ha&k.Xb)&&(0<b?X|=1<<b-1:f<e-1&&J<u-1&&(V[f+1]|=32768)),0!==(ha&k.bc)&&(15>b?ja|=1<<b+1:0<f&&0<J&&(P[f-1]|=1)),0!==(ha&k.xb)&&(0<b?ja|=1<<b-1:f<e-1&&J<u-1&&(P[f+1]|=32768)))}J+=1}U[f]|=sa;0<d&&(V[f]|=X);d<m-1&&(P[f]|=ja)}else J+=16;K+=16;N+=16;N>=r&&(N=r-1)}for(f=0;f<u;f+=1)n[f]&&(f<B&&(B=f),f>c&&(c=f));B=(B<<4)+this.G(n[B]);c=(c<<4)+this.T(n[c]);0>x&&(x=r-1);
z>=r&&(z=0);B>=w&&(B=0);0>c&&(c=w-1);x>r-1&&(x=r-1);0>z&&(z=0);0>B&&(B=0);c>w-1&&(c=w-1);y.v=x;y.s=z;y.l=B;y.u=c;t.fill(0);this.ia=C;this.Vb=D;this.Gb=E};q.prototype.By=function(){var a=this.Ud,b,d,f,l,n=this.na,p,r=this.height,w=this.width,u=w>>4,y=this.M,z=r,x=-1,B=w,c=-1,m=this.ya,e=this.ua>>4,t=this.wd,A=this.counter&1;this.ud&&(this.td=!this.td,this.ud=!1);if(0!==A){var C=this.Yb;var D=this.hb;var E=this.ra;var G=this.ja;this.td&&(a=this.Yc)}else C=this.hb,D=this.Yb,E=this.ja,G=this.ra,this.oc&&
(a=this.lf),this.td&&(a=this.oc?this.Vd:this.Yc);this.td&&(A=1-A);n.fill(0);var F=1-A;var H=F+16;G.Wa.fill(0);for(d=0;d<E.length;d+=1){var I=0;var L=E[d];var K=G[d];var N=0<d?G[d-1]:t;var J=d<m-1?G[d+1]:t;for(f=0;f<e;f+=1)if(l=L[f]){var S=K[f];var U=N[f];var V=J[f];for(b=15;0<=b;--b){var P=0===b&&f===e-1?!0:!1;if(0!==(l&1<<b)){var sa=p=0;if(0!==A){var X=F;var ja=0;var na=C[X][I];var ha=C[X+1][I];ja|=na|ha;var Y=a[na&65280|ha>>8];var ea=Y&65280;var da=(Y&255)<<8;Y=a[(na&255)<<8|ha&255];ea|=Y>>8;da|=
Y&255;D[X][I]=ea;D[X+1][I]=da;if(Y=ea|da)p|=Y,X<z&&(z=X),X+1>x&&(x=X+1),Y&&(0!==(Y&49152)&&(sa|=k.Wb),0!==(Y&3)&&(sa|=k.Xb),sa|=k.Sb);for(X+=2;X<H-2;){na=C[X][I];ha=C[X+1][I];ja|=na|ha;Y=a[na&65280|ha>>8];ea=Y&65280;da=(Y&255)<<8;Y=a[(na&255)<<8|ha&255];ea|=Y>>8;da|=Y&255;D[X][I]=ea;D[X+1][I]=da;if(Y=ea|da)p|=Y,X<z&&(z=X),X+1>x&&(x=X+1);X+=2}na=C[X][I];ha=C[X+1][I];ja|=na|ha;Y=a[na&65280|ha>>8];ea=Y&65280;da=(Y&255)<<8;Y=a[(na&255)<<8|ha&255];ea|=Y>>8;da|=Y&255;D[X][I]=ea;D[X+1][I]=da;if(Y=ea|da)p|=
Y,X<z&&(z=X),X+1>x&&(x=X+1),Y&&(0!==(Y&49152)&&(sa|=k.bc),0!==(Y&3)&&(sa|=k.xb),sa|=k.yb);p&&(0!==(p&49152)&&(sa|=k.Ub),0!==(p&3)&&(sa|=k.lb),n[I]|=p);if(p||ja)sa|=k.xb,sa|=k.lb}else{X=F;ja=0;P?(na=C[X][I]<<1&65535,ha=C[X+1][I]<<1&65535):(na=(C[X][I]<<1|C[X][I+1]>>15)&65535,ha=(C[X+1][I]<<1|C[X+1][I+1]>>15)&65535);ja|=na|ha;Y=a[na&65280|ha>>8];ea=Y&65280;da=(Y&255)<<8;Y=a[(na&255)<<8|ha&255];ea|=Y>>8;da|=Y&255;P?(D[X][I]=D[X][I]&32768|ea>>1,D[X+1][I]=D[X+1][I]&32768|da>>1):(D[X][I]=D[X][I]&32768|
ea>>1,D[X][I+1]=D[X][I+1]&32767|(ea&1)<<15,D[X+1][I]=D[X+1][I]&32768|da>>1,D[X+1][I+1]=D[X+1][I+1]&32767|(da&1)<<15);if(Y=ea|da)p|=Y,X<z&&(z=X),X+1>x&&(x=X+1);for(X+=2;X<H-2;){P?(na=C[X][I]<<1&65535,ha=C[X+1][I]<<1&65535):(na=(C[X][I]<<1|C[X][I+1]>>15)&65535,ha=(C[X+1][I]<<1|C[X+1][I+1]>>15)&65535);ja|=na|ha;Y=a[na&65280|ha>>8];ea=Y&65280;da=(Y&255)<<8;Y=a[(na&255)<<8|ha&255];ea|=Y>>8;da|=Y&255;P?(D[X][I]=D[X][I]&32768|ea>>1,D[X+1][I]=D[X+1][I]&32768|da>>1):(D[X][I]=D[X][I]&32768|ea>>1,D[X][I+1]=
D[X][I+1]&32767|(ea&1)<<15,D[X+1][I]=D[X+1][I]&32768|da>>1,D[X+1][I+1]=D[X+1][I+1]&32767|(da&1)<<15);if(Y=ea|da)p|=Y,X<z&&(z=X),X+1>x&&(x=X+1);X+=2}P?(na=C[X][I]<<1&65535,ha=C[X+1][I]<<1&65535):(na=(C[X][I]<<1|C[X][I+1]>>15)&65535,ha=(C[X+1][I]<<1|C[X+1][I+1]>>15)&65535);ja|=na|ha;Y=a[na&65280|ha>>8];ea=Y&65280;da=(Y&255)<<8;Y=a[(na&255)<<8|ha&255];ea|=Y>>8;da|=Y&255;P?(D[X][I]=D[X][I]&32768|ea>>1,D[X+1][I]=D[X+1][I]&32768|da>>1):(D[X][I]=D[X][I]&32768|ea>>1,D[X][I+1]=D[X][I+1]&32767|(ea&1)<<15,D[X+
1][I]=D[X+1][I]&32768|da>>1,D[X+1][I+1]=D[X+1][I+1]&32767|(da&1)<<15);if(Y=ea|da)p|=Y,X<z&&(z=X),X+1>x&&(x=X+1),0!==(Y&3)&&(sa|=k.xb),sa|=k.yb;na|ha&&(0!==((na|ha)&3)&&(sa|=k.xb),sa|=k.yb);p&&(0!==(p&3)&&(sa|=k.lb),n[I]|=p>>1,n[I+1]|=(p&1)<<15);0!==(ja&1)&&(sa|=k.lb)}if(p||ja)S|=1<<b,sa&&(0!==(sa&k.Ub)&&(15>b?S|=1<<b+1:0<f&&0<I&&(K[f-1]|=1)),0!==(sa&k.lb)&&(0<b?S|=1<<b-1:f<e-1&&I<u-1&&(K[f+1]|=32768)),0!==(sa&k.Sb)&&(U|=1<<b),0!==(sa&k.yb)&&(V|=1<<b),0!==(sa&k.Wb)&&(15>b?U|=1<<b+1:0<f&&0<I&&(N[f-
1]|=1)),0!==(sa&k.Xb)&&(0<b?U|=1<<b-1:f<e-1&&I<u-1&&(N[f+1]|=32768)),0!==(sa&k.bc)&&(15>b?V|=1<<b+1:0<f&&0<I&&(J[f-1]|=1)),0!==(sa&k.xb)&&(0<b?V|=1<<b-1:f<e-1&&I<u-1&&(J[f+1]|=32768)))}I+=1}K[f]|=S;0<d&&(N[f]|=U);d<m-1&&(J[f]|=V)}else I+=16;F+=16;H+=16;H>=r&&(H=r-1)}for(f=0;f<u;f+=1)n[f]&&(f<B&&(B=f),f>c&&(c=f));B=(B<<4)+this.G(n[B]);c=(c<<4)+this.T(n[c]);0>x&&(x=r-1);z>=r&&(z=0);B>=w&&(B=0);0>c&&(c=w-1);x>r-1&&(x=r-1);0>z&&(z=0);0>B&&(B=0);c>w-1&&(c=w-1);y.v=x;y.s=z;y.l=B;y.u=c;t.fill(0)};q.prototype.Ux=
function(){var a=this.xi,b,d,f,l,n=this.na,p,r=this.height,w=this.width,u=w>>4,y=this.M,z=r,x=-1,B=w,c=-1,m=this.ya,e=this.ua>>4,t=this.wd;var A=0;var C=m;if(0!==(this.counter&1)){var D=this.Yb;var E=this.hb;var G=this.ra;var F=this.ja;this.oc&&(a=this.ij)}else D=this.hb,E=this.Yb,G=this.ja,F=this.ra;n.fill(0);0>A&&(A=0);C>m&&(C=m);var H=A<<4;var I=H+16;F.Wa.fill(0);for(d=A;d<C;d+=1){var L=0;var K=G[d];var N=F[d];var J=0<d?F[d-1]:t;var S=d<m-1?F[d+1]:t;for(f=0;f<e;f+=1)if(l=K[f]){var U=N[f];var V=
J[f];var P=S[f];for(b=15;0<=b;--b){if(0!==(l&1<<b)){var sa=p=0;var X=H;var ja=0===X?this.Bf:D[X-1];var na=D[X];A=D[X+1];var ha=na[L];ja=ja[L-1]<<18|ja[L]<<2|ja[L+1]>>14;var Y=na[L-1]<<18|ha<<2|na[L+1]>>14;var ea=A[L-1]<<18|A[L]<<2|A[L+1]>>14;var da=a[ja>>7&7936|ea>>11&224|Y>>15&31]<<15;da|=a[ea>>6&7936|ja>>10&224|Y>>14&31]<<14;da|=a[ja>>5&7936|ea>>9&224|Y>>13&31]<<13;da|=a[ea>>4&7936|ja>>8&224|Y>>12&31]<<12;da|=a[ja>>3&7936|ea>>7&224|Y>>11&31]<<11;da|=a[ea>>2&7936|ja>>6&224|Y>>10&31]<<10;da|=a[ja>>
1&7936|ea>>5&224|Y>>9&31]<<9;da|=a[ea>>0&7936|ja>>4&224|Y>>8&31]<<8;da|=a[ja<<1&7936|ea>>3&224|Y>>7&31]<<7;da|=a[ea<<2&7936|ja>>2&224|Y>>6&31]<<6;da|=a[ja<<3&7936|ea>>1&224|Y>>5&31]<<5;da|=a[ea<<4&7936|ja>>0&224|Y>>4&31]<<4;da|=a[ja<<5&7936|ea<<1&224|Y>>3&31]<<3;da|=a[ea<<6&7936|ja<<2&224|Y>>2&31]<<2;da|=a[ja<<7&7936|ea<<3&224|Y>>1&31]<<1;da|=a[ea<<8&7936|ja<<4&224|Y>>0&31]<<0;if(E[X][L]=da)p|=da,X<z&&(z=X),X>x&&(x=X),0!==(da&49152)&&(sa|=k.Wb),0!==(da&3)&&(sa|=k.Xb),sa|=k.Sb;for(X+=1;X<I-1;){ha|=
A[L];A=D[X+1];ja=Y;Y=ea;ea=A[L-1]<<18|A[L]<<2|A[L+1]>>14;0!==(X&1)&&(na=ja,ja=ea,ea=na);da=a[ja>>7&7936|ea>>11&224|Y>>15&31]<<15;da|=a[ea>>6&7936|ja>>10&224|Y>>14&31]<<14;da|=a[ja>>5&7936|ea>>9&224|Y>>13&31]<<13;da|=a[ea>>4&7936|ja>>8&224|Y>>12&31]<<12;da|=a[ja>>3&7936|ea>>7&224|Y>>11&31]<<11;da|=a[ea>>2&7936|ja>>6&224|Y>>10&31]<<10;da|=a[ja>>1&7936|ea>>5&224|Y>>9&31]<<9;da|=a[ea>>0&7936|ja>>4&224|Y>>8&31]<<8;da|=a[ja<<1&7936|ea>>3&224|Y>>7&31]<<7;da|=a[ea<<2&7936|ja>>2&224|Y>>6&31]<<6;da|=a[ja<<
3&7936|ea>>1&224|Y>>5&31]<<5;da|=a[ea<<4&7936|ja>>0&224|Y>>4&31]<<4;da|=a[ja<<5&7936|ea<<1&224|Y>>3&31]<<3;da|=a[ea<<6&7936|ja<<2&224|Y>>2&31]<<2;da|=a[ja<<7&7936|ea<<3&224|Y>>1&31]<<1;da|=a[ea<<8&7936|ja<<4&224|Y>>0&31]<<0;0!==(X&1)&&(ea=na=ja);if(E[X][L]=da)p|=da,X<z&&(z=X),X>x&&(x=X);X+=1}ha|=A[L];A=X===this.height-1?this.Bf:D[X+1];ja=Y;Y=ea;ea=A[L-1]<<18|A[L]<<2|A[L+1]>>14;0!==(X&1)&&(na=ja,ja=ea,ea=na);da=a[ja>>7&7936|ea>>11&224|Y>>15&31]<<15;da|=a[ea>>6&7936|ja>>10&224|Y>>14&31]<<14;da|=a[ja>>
5&7936|ea>>9&224|Y>>13&31]<<13;da|=a[ea>>4&7936|ja>>8&224|Y>>12&31]<<12;da|=a[ja>>3&7936|ea>>7&224|Y>>11&31]<<11;da|=a[ea>>2&7936|ja>>6&224|Y>>10&31]<<10;da|=a[ja>>1&7936|ea>>5&224|Y>>9&31]<<9;da|=a[ea>>0&7936|ja>>4&224|Y>>8&31]<<8;da|=a[ja<<1&7936|ea>>3&224|Y>>7&31]<<7;da|=a[ea<<2&7936|ja>>2&224|Y>>6&31]<<6;da|=a[ja<<3&7936|ea>>1&224|Y>>5&31]<<5;da|=a[ea<<4&7936|ja>>0&224|Y>>4&31]<<4;da|=a[ja<<5&7936|ea<<1&224|Y>>3&31]<<3;da|=a[ea<<6&7936|ja<<2&224|Y>>2&31]<<2;da|=a[ja<<7&7936|ea<<3&224|Y>>1&31]<<
1;da|=a[ea<<8&7936|ja<<4&224|Y>>0&31]<<0;if(E[X][L]=da)p|=da,X<z&&(z=X),X>x&&(x=X),0!==(da&49152)&&(sa|=k.bc),0!==(da&3)&&(sa|=k.xb),sa|=k.yb;p&&(0!==(p&49152)&&(sa|=k.Ub),0!==(p&3)&&(sa|=k.lb));n[L]|=p;if(p||ha)U|=1<<b,sa&&(0!==(sa&k.Ub)&&(15>b?U|=1<<b+1:0<f&&0<L&&(N[f-1]|=1)),0!==(sa&k.lb)&&(0<b?U|=1<<b-1:f<e-1&&L<u-1&&(N[f+1]|=32768)),0!==(sa&k.Sb)&&(V|=1<<b),0!==(sa&k.yb)&&(P|=1<<b),0!==(sa&k.Wb)&&(15>b?V|=1<<b+1:0<f&&0<L&&(J[f-1]|=1)),0!==(sa&k.Xb)&&(0<b?V|=1<<b-1:f<e-1&&L<u-1&&(J[f+1]|=32768)),
0!==(sa&k.bc)&&(15>b?P|=1<<b+1:0<f&&0<L&&(S[f-1]|=1)),0!==(sa&k.xb)&&(0<b?P|=1<<b-1:f<e-1&&L<u-1&&(S[f+1]|=32768)))}L+=1}N[f]|=U;0<d&&(J[f]|=V);d<m-1&&(S[f]|=P)}else L+=16;H+=16;I+=16}for(f=0;f<u;f+=1)n[f]&&(f<B&&(B=f),f>c&&(c=f));B=(B<<4)+this.G(n[B]);c=(c<<4)+this.T(n[c]);0>x&&(x=r-1);z>=r&&(z=0);B>=w&&(B=0);0>c&&(c=w-1);x>r-1&&(x=r-1);0>z&&(z=0);0>B&&(B=0);c>w-1&&(c=w-1);y.v=x;y.s=z;y.l=B;y.u=c;t.fill(0)};q.prototype.jN=function(){var a=this.vi,b,d,f,l,n,p,r=this.na,w,u=this.gb,y,z=this.jg,x=0,
B=0,c=0,m=this.height,e=this.width,t=e>>4,A=this.M,C=m,D=-1,E=e,G=-1,F=this.ya,H=this.ua>>4,I=this.wd,L=this.Aa,K=this.wa,N=Math.round((this.width-L)/2),J=Math.round((this.height-K)/2),S=N+L-1,U=J+K-1;if(0!==(this.counter&1)){var V=this.Yb;var P=this.hb;var sa=this.ra;var X=this.ja;this.oc&&(a=this.xg)}else V=this.hb,P=this.Yb,sa=this.ja,X=this.ra;r.fill(0);u.fill(0);var ja=0;var na=ja+16;X.Wa.fill(0);for(f=0;f<sa.length;f+=1){var ha=0;var Y=sa[f];var ea=X[f];var da=0<f?X[f-1]:I;var qa=f<F-1?X[f+
1]:I;for(l=0;l<H;l+=1)if(n=Y[l]){var ma=ea[l];var T=da[l];var Q=qa[l];for(b=15;0<=b;--b){if(0!==(n&1<<b)){var W=y=w=0;var ia=ja;var la=32768;var ba=0===ia?this.Bf:V[ia-1];var M=V[ia];var O=V[ia+1];var oa=p=M[ha];if(ha)if(ha>=t-1){ba=(ba[ha-1]&1)<<17|ba[ha]<<1;M=(M[ha-1]&1)<<17|p<<1;var Z=(O[ha-1]&1)<<17|O[ha]<<1;if(d=ba|M|Z)if(d=a[ba>>12|M>>12<<6|Z&258048]<<12,d|=a[ba>>8&63|M>>2&4032|Z<<4&258048]<<8,d|=a[ba>>4&63|M<<2&4032|Z<<8&258048]<<4,d|=a[ba&63|(M&63)<<6|(Z&63)<<12])w|=d,y|=la,x+=z[d],0!==(d&
32768)&&(W|=k.Wb),W|=k.Sb;P[ia][ha]=d;d|p&&(B+=z[d&~p],c+=z[p&~d]);ia+=1;for(la>>=1;ia<na-1;){p=O[ha];oa|=p;O=V[ia+1];ba=M;M=Z;Z=(O[ha-1]&1)<<17|O[ha]<<1;if(d=ba|M|Z)if(d=a[ba>>12|M>>12<<6|Z&258048]<<12,d|=a[ba>>8&63|M>>2&4032|Z<<4&258048]<<8,d|=a[ba>>4&63|M<<2&4032|Z<<8&258048]<<4,d|=a[ba&63|(M&63)<<6|(Z&63)<<12])w|=d,y|=la,x+=z[d];P[ia][ha]=d;d|p&&(B+=z[d&~p],c+=z[p&~d]);ia+=1;la>>=1}p=O[ha];oa|=p;O=ia===this.height-1?this.Bf:V[ia+1];ba=M;M=Z;Z=(O[ha-1]&1)<<17|O[ha]<<1;if(d=ba|M|Z)if(d=a[ba>>12|
M>>12<<6|Z&258048]<<12,d|=a[ba>>8&63|M>>2&4032|Z<<4&258048]<<8,d|=a[ba>>4&63|M<<2&4032|Z<<8&258048]<<4,d|=a[ba&63|(M&63)<<6|(Z&63)<<12])w|=d,y|=la,x+=z[d],0!==(d&32768)&&(W|=k.bc),W|=k.yb}else{ba=(ba[ha-1]&1)<<17|ba[ha]<<1|ba[ha+1]>>15;M=(M[ha-1]&1)<<17|p<<1|M[ha+1]>>15;Z=(O[ha-1]&1)<<17|O[ha]<<1|O[ha+1]>>15;if(d=ba|M|Z)if(d=a[ba>>12|M>>12<<6|Z&258048]<<12,d|=a[ba>>8&63|M>>2&4032|Z<<4&258048]<<8,d|=a[ba>>4&63|M<<2&4032|Z<<8&258048]<<4,d|=a[ba&63|(M&63)<<6|(Z&63)<<12])w|=d,y|=la,x+=z[d],0!==(d&32768)&&
(W|=k.Wb),0!==(d&1)&&(W|=k.Xb),W|=k.Sb;P[ia][ha]=d;d|p&&(B+=z[d&~p],c+=z[p&~d]);ia+=1;la>>=1;p=O[ha];oa|=p;O=V[ia+1];ba=M;M=Z;Z=(O[ha-1]&1)<<17|O[ha]<<1|O[ha+1]>>15;if(d=ba|M|Z)if(d=a[ba>>12|M>>12<<6|Z&258048]<<12,d|=a[ba>>8&63|M>>2&4032|Z<<4&258048]<<8,d|=a[ba>>4&63|M<<2&4032|Z<<8&258048]<<4,d|=a[ba&63|(M&63)<<6|(Z&63)<<12])w|=d,y|=la,x+=z[d];P[ia][ha]=d;d|p&&(B+=z[d&~p],c+=z[p&~d]);ia+=1;la>>=1;p=O[ha];oa|=p;O=V[ia+1];ba=M;M=Z;Z=(O[ha-1]&1)<<17|O[ha]<<1|O[ha+1]>>15;if(d=ba|M|Z)if(d=a[ba>>12|M>>
12<<6|Z&258048]<<12,d|=a[ba>>8&63|M>>2&4032|Z<<4&258048]<<8,d|=a[ba>>4&63|M<<2&4032|Z<<8&258048]<<4,d|=a[ba&63|(M&63)<<6|(Z&63)<<12])w|=d,y|=la,x+=z[d];P[ia][ha]=d;d|p&&(B+=z[d&~p],c+=z[p&~d]);ia+=1;la>>=1;p=O[ha];oa|=p;O=V[ia+1];ba=M;M=Z;Z=(O[ha-1]&1)<<17|O[ha]<<1|O[ha+1]>>15;if(d=ba|M|Z)if(d=a[ba>>12|M>>12<<6|Z&258048]<<12,d|=a[ba>>8&63|M>>2&4032|Z<<4&258048]<<8,d|=a[ba>>4&63|M<<2&4032|Z<<8&258048]<<4,d|=a[ba&63|(M&63)<<6|(Z&63)<<12])w|=d,y|=la,x+=z[d];P[ia][ha]=d;d|p&&(B+=z[d&~p],c+=z[p&~d]);ia+=
1;la>>=1;p=O[ha];oa|=p;O=V[ia+1];ba=M;M=Z;Z=(O[ha-1]&1)<<17|O[ha]<<1|O[ha+1]>>15;if(d=ba|M|Z)if(d=a[ba>>12|M>>12<<6|Z&258048]<<12,d|=a[ba>>8&63|M>>2&4032|Z<<4&258048]<<8,d|=a[ba>>4&63|M<<2&4032|Z<<8&258048]<<4,d|=a[ba&63|(M&63)<<6|(Z&63)<<12])w|=d,y|=la,x+=z[d];P[ia][ha]=d;d|p&&(B+=z[d&~p],c+=z[p&~d]);ia+=1;la>>=1;p=O[ha];oa|=p;O=V[ia+1];ba=M;M=Z;Z=(O[ha-1]&1)<<17|O[ha]<<1|O[ha+1]>>15;if(d=ba|M|Z)if(d=a[ba>>12|M>>12<<6|Z&258048]<<12,d|=a[ba>>8&63|M>>2&4032|Z<<4&258048]<<8,d|=a[ba>>4&63|M<<2&4032|
Z<<8&258048]<<4,d|=a[ba&63|(M&63)<<6|(Z&63)<<12])w|=d,y|=la,x+=z[d];P[ia][ha]=d;d|p&&(B+=z[d&~p],c+=z[p&~d]);ia+=1;la>>=1;p=O[ha];oa|=p;O=V[ia+1];ba=M;M=Z;Z=(O[ha-1]&1)<<17|O[ha]<<1|O[ha+1]>>15;if(d=ba|M|Z)if(d=a[ba>>12|M>>12<<6|Z&258048]<<12,d|=a[ba>>8&63|M>>2&4032|Z<<4&258048]<<8,d|=a[ba>>4&63|M<<2&4032|Z<<8&258048]<<4,d|=a[ba&63|(M&63)<<6|(Z&63)<<12])w|=d,y|=la,x+=z[d];P[ia][ha]=d;d|p&&(B+=z[d&~p],c+=z[p&~d]);ia+=1;la>>=1;p=O[ha];oa|=p;O=V[ia+1];ba=M;M=Z;Z=(O[ha-1]&1)<<17|O[ha]<<1|O[ha+1]>>15;
if(d=ba|M|Z)if(d=a[ba>>12|M>>12<<6|Z&258048]<<12,d|=a[ba>>8&63|M>>2&4032|Z<<4&258048]<<8,d|=a[ba>>4&63|M<<2&4032|Z<<8&258048]<<4,d|=a[ba&63|(M&63)<<6|(Z&63)<<12])w|=d,y|=la,x+=z[d];P[ia][ha]=d;d|p&&(B+=z[d&~p],c+=z[p&~d]);ia+=1;la>>=1;p=O[ha];oa|=p;O=V[ia+1];ba=M;M=Z;Z=(O[ha-1]&1)<<17|O[ha]<<1|O[ha+1]>>15;if(d=ba|M|Z)if(d=a[ba>>12|M>>12<<6|Z&258048]<<12,d|=a[ba>>8&63|M>>2&4032|Z<<4&258048]<<8,d|=a[ba>>4&63|M<<2&4032|Z<<8&258048]<<4,d|=a[ba&63|(M&63)<<6|(Z&63)<<12])w|=d,y|=la,x+=z[d];P[ia][ha]=d;d|
p&&(B+=z[d&~p],c+=z[p&~d]);ia+=1;la>>=1;p=O[ha];oa|=p;O=V[ia+1];ba=M;M=Z;Z=(O[ha-1]&1)<<17|O[ha]<<1|O[ha+1]>>15;if(d=ba|M|Z)if(d=a[ba>>12|M>>12<<6|Z&258048]<<12,d|=a[ba>>8&63|M>>2&4032|Z<<4&258048]<<8,d|=a[ba>>4&63|M<<2&4032|Z<<8&258048]<<4,d|=a[ba&63|(M&63)<<6|(Z&63)<<12])w|=d,y|=la,x+=z[d];P[ia][ha]=d;d|p&&(B+=z[d&~p],c+=z[p&~d]);ia+=1;la>>=1;p=O[ha];oa|=p;O=V[ia+1];ba=M;M=Z;Z=(O[ha-1]&1)<<17|O[ha]<<1|O[ha+1]>>15;if(d=ba|M|Z)if(d=a[ba>>12|M>>12<<6|Z&258048]<<12,d|=a[ba>>8&63|M>>2&4032|Z<<4&258048]<<
8,d|=a[ba>>4&63|M<<2&4032|Z<<8&258048]<<4,d|=a[ba&63|(M&63)<<6|(Z&63)<<12])w|=d,y|=la,x+=z[d];P[ia][ha]=d;d|p&&(B+=z[d&~p],c+=z[p&~d]);ia+=1;la>>=1;p=O[ha];oa|=p;O=V[ia+1];ba=M;M=Z;Z=(O[ha-1]&1)<<17|O[ha]<<1|O[ha+1]>>15;if(d=ba|M|Z)if(d=a[ba>>12|M>>12<<6|Z&258048]<<12,d|=a[ba>>8&63|M>>2&4032|Z<<4&258048]<<8,d|=a[ba>>4&63|M<<2&4032|Z<<8&258048]<<4,d|=a[ba&63|(M&63)<<6|(Z&63)<<12])w|=d,y|=la,x+=z[d];P[ia][ha]=d;d|p&&(B+=z[d&~p],c+=z[p&~d]);ia+=1;la>>=1;p=O[ha];oa|=p;O=V[ia+1];ba=M;M=Z;Z=(O[ha-1]&1)<<
17|O[ha]<<1|O[ha+1]>>15;if(d=ba|M|Z)if(d=a[ba>>12|M>>12<<6|Z&258048]<<12,d|=a[ba>>8&63|M>>2&4032|Z<<4&258048]<<8,d|=a[ba>>4&63|M<<2&4032|Z<<8&258048]<<4,d|=a[ba&63|(M&63)<<6|(Z&63)<<12])w|=d,y|=la,x+=z[d];P[ia][ha]=d;d|p&&(B+=z[d&~p],c+=z[p&~d]);ia+=1;la>>=1;p=O[ha];oa|=p;O=V[ia+1];ba=M;M=Z;Z=(O[ha-1]&1)<<17|O[ha]<<1|O[ha+1]>>15;if(d=ba|M|Z)if(d=a[ba>>12|M>>12<<6|Z&258048]<<12,d|=a[ba>>8&63|M>>2&4032|Z<<4&258048]<<8,d|=a[ba>>4&63|M<<2&4032|Z<<8&258048]<<4,d|=a[ba&63|(M&63)<<6|(Z&63)<<12])w|=d,y|=
la,x+=z[d];P[ia][ha]=d;d|p&&(B+=z[d&~p],c+=z[p&~d]);ia+=1;la>>=1;p=O[ha];oa|=p;O=V[ia+1];ba=M;M=Z;Z=(O[ha-1]&1)<<17|O[ha]<<1|O[ha+1]>>15;if(d=ba|M|Z)if(d=a[ba>>12|M>>12<<6|Z&258048]<<12,d|=a[ba>>8&63|M>>2&4032|Z<<4&258048]<<8,d|=a[ba>>4&63|M<<2&4032|Z<<8&258048]<<4,d|=a[ba&63|(M&63)<<6|(Z&63)<<12])w|=d,y|=la,x+=z[d];P[ia][ha]=d;d|p&&(B+=z[d&~p],c+=z[p&~d]);ia+=1;la>>=1;p=O[ha];oa|=p;O=ia===this.height-1?this.Bf:V[ia+1];ba=M;M=Z;Z=(O[ha-1]&1)<<17|O[ha]<<1|O[ha+1]>>15;if(d=ba|M|Z)if(d=a[ba>>12|M>>12<<
6|Z&258048]<<12,d|=a[ba>>8&63|M>>2&4032|Z<<4&258048]<<8,d|=a[ba>>4&63|M<<2&4032|Z<<8&258048]<<4,d|=a[ba&63|(M&63)<<6|(Z&63)<<12])w|=d,y|=la,x+=z[d],0!==(d&32768)&&(W|=k.bc),0!==(d&1)&&(W|=k.xb),W|=k.yb}else{ba=ba[ha]<<1|ba[ha+1]>>15;M=p<<1|M[ha+1]>>15;Z=O[ha]<<1|O[ha+1]>>15;if(d=ba|M|Z)if(d=a[ba>>12|M>>12<<6|Z&258048]<<12,d|=a[ba>>8&63|M>>2&4032|Z<<4&258048]<<8,d|=a[ba>>4&63|M<<2&4032|Z<<8&258048]<<4,d|=a[ba&63|(M&63)<<6|(Z&63)<<12])w|=d,y|=la,0!==(d&1)&&(W|=k.Xb),W|=k.Sb,x+=z[d];P[ia][ha]=d;d|p&&
(B+=z[d&~p],c+=z[p&~d]);ia+=1;for(la>>=1;ia<na-1;){p=O[ha];oa|=p;O=V[ia+1];ba=M;M=Z;Z=O[ha]<<1|O[ha+1]>>15;if(d=ba|M|Z)if(d=a[ba>>12|M>>12<<6|Z&258048]<<12,d|=a[ba>>8&63|M>>2&4032|Z<<4&258048]<<8,d|=a[ba>>4&63|M<<2&4032|Z<<8&258048]<<4,d|=a[ba&63|(M&63)<<6|(Z&63)<<12])w|=d,y|=la,x+=z[d];P[ia][ha]=d;d|p&&(B+=z[d&~p],c+=z[p&~d]);ia+=1;la>>=1}p=O[ha];oa|=p;O=ia===this.height-1?this.Bf:V[ia+1];ba=M;M=Z;Z=O[ha]<<1|O[ha+1]>>15;if(d=ba|M|Z)if(d=a[ba>>12|M>>12<<6|Z&258048]<<12,d|=a[ba>>8&63|M>>2&4032|Z<<
4&258048]<<8,d|=a[ba>>4&63|M<<2&4032|Z<<8&258048]<<4,d|=a[ba&63|(M&63)<<6|(Z&63)<<12])w|=d,y|=la,x+=z[d],0!==(d&1)&&(W|=k.xb),W|=k.yb}P[ia][ha]=d;d|p&&(B+=z[d&~p],c+=z[p&~d]);w&&(0!==(w&32768)&&(W|=k.Ub),0!==(w&1)&&(W|=k.lb));r[ha]|=w;if(w||oa)ma|=1<<b,W&&(0!==(W&k.Ub)&&(15>b?ma|=1<<b+1:0<l&&0<ha&&(ea[l-1]|=1)),0!==(W&k.lb)&&(0<b?ma|=1<<b-1:l<H-1&&ha<t-1&&(ea[l+1]|=32768)),0!==(W&k.Sb)&&(T|=1<<b),0!==(W&k.yb)&&(Q|=1<<b),0!==(W&k.Wb)&&(15>b?T|=1<<b+1:0<l&&0<ha&&(da[l-1]|=1)),0!==(W&k.Xb)&&(0<b?T|=
1<<b-1:l<H-1&&ha<t-1&&(da[l+1]|=32768)),0!==(W&k.bc)&&(15>b?Q|=1<<b+1:0<l&&0<ha&&(qa[l-1]|=1)),0!==(W&k.xb)&&(0<b?Q|=1<<b-1:l<H-1&&ha<t-1&&(qa[l+1]|=32768)));u[f]|=y}ha+=1}ea[l]|=ma;0<f&&(da[l]|=T);f<F-1&&(qa[l]|=Q)}else ha+=16;ja+=16;na+=16}-1!==this.xa&&(0!==L&&(r[N-1>>4]&=~(1<<(~(N-1)&15)),r[S+1>>4]&=~(1<<(~(S+1)&15)),r[N-2>>4]&=~(1<<(~(N-2)&15)),r[S+2>>4]&=~(1<<(~(S+2)&15))),0!==K&&(u[J-1>>4]&=~(1<<(~(J-1)&15)),u[U+1>>4]&=~(1<<(~(U+1)&15)),u[J-2>>4]&=~(1<<(~(J-2)&15)),u[U+2>>4]&=~(1<<(~(U+2)&
15))));for(l=0;l<t;l+=1)r[l]&&(l<E&&(E=l),l>G&&(G=l));for(f=0;f<u.length;f+=1)u[f]&&(f<C&&(C=f),f>D&&(D=f));E=(E<<4)+this.G(r[E]);G=(G<<4)+this.T(r[G]);C=(C<<4)+this.G(u[C]);D=(D<<4)+this.T(u[D]);0>D&&(D=m-1);C>=m&&(C=0);E>=e&&(E=0);0>G&&(G=e-1);D>m-1&&(D=m-1);0>C&&(C=0);0>E&&(E=0);G>e-1&&(G=e-1);A.v=D;A.s=C;A.l=E;A.u=G;I.fill(0);this.ia=x;this.Vb=B;this.Gb=c};q.prototype.Cy=function(){var a=this.vi,b,d,f,l,n,p=this.na,r,w=this.gb,u,y=this.height,z=this.width,x=z>>4,B=this.M,c=y,m=-1,e=z,t=-1,A=this.ya,
C=this.ua>>4,D=this.wd,E=this.Aa,G=this.wa,F=Math.round((this.width-E)/2),H=Math.round((this.height-G)/2),I=F+E-1,L=H+G-1;if(0!==(this.counter&1)){var K=this.Yb;var N=this.hb;var J=this.ra;var S=this.ja;this.oc&&(a=this.xg)}else K=this.hb,N=this.Yb,J=this.ja,S=this.ra;p.fill(0);w.fill(0);var U=0;var V=U+16;S.Wa.fill(0);for(f=0;f<J.length;f+=1){var P=0;var sa=J[f];var X=S[f];var ja=0<f?S[f-1]:D;var na=f<A-1?S[f+1]:D;for(l=0;l<C;l+=1)if(n=sa[l]){var ha=X[l];var Y=ja[l];var ea=na[l];for(b=15;0<=b;--b){if(0!==
(n&1<<b)){var da=u=r=0;var qa=U;var ma=32768;var T=0===qa?this.Bf:K[qa-1];var Q=K[qa];var W=K[qa+1];var ia=Q[P];if(P)if(P>=x-1){T=(T[P-1]&1)<<17|T[P]<<1;Q=(Q[P-1]&1)<<17|ia<<1;var la=(W[P-1]&1)<<17|W[P]<<1;if(d=T|Q|la)if(d=a[T>>12|Q>>12<<6|la&258048]<<12,d|=a[T>>8&63|Q>>2&4032|la<<4&258048]<<8,d|=a[T>>4&63|Q<<2&4032|la<<8&258048]<<4,d|=a[T&63|(Q&63)<<6|(la&63)<<12])r|=d,u|=ma,0!==(d&32768)&&(da|=k.Wb),da|=k.Sb;N[qa][P]=d;qa+=1;for(ma>>=1;qa<V-1;){ia|=W[P];W=K[qa+1];T=Q;Q=la;la=(W[P-1]&1)<<17|W[P]<<
1;if(d=T|Q|la)if(d=a[T>>12|Q>>12<<6|la&258048]<<12,d|=a[T>>8&63|Q>>2&4032|la<<4&258048]<<8,d|=a[T>>4&63|Q<<2&4032|la<<8&258048]<<4,d|=a[T&63|(Q&63)<<6|(la&63)<<12])r|=d,u|=ma;N[qa][P]=d;qa+=1;ma>>=1}ia|=W[P];W=qa===this.height-1?this.Bf:K[qa+1];T=Q;Q=la;la=(W[P-1]&1)<<17|W[P]<<1;if(d=T|Q|la)if(d=a[T>>12|Q>>12<<6|la&258048]<<12,d|=a[T>>8&63|Q>>2&4032|la<<4&258048]<<8,d|=a[T>>4&63|Q<<2&4032|la<<8&258048]<<4,d|=a[T&63|(Q&63)<<6|(la&63)<<12])r|=d,u|=ma,0!==(d&32768)&&(da|=k.bc),da|=k.yb}else{T=(T[P-1]&
1)<<17|T[P]<<1|T[P+1]>>15;Q=(Q[P-1]&1)<<17|ia<<1|Q[P+1]>>15;la=(W[P-1]&1)<<17|W[P]<<1|W[P+1]>>15;if(d=T|Q|la)if(d=a[T>>12|Q>>12<<6|la&258048]<<12,d|=a[T>>8&63|Q>>2&4032|la<<4&258048]<<8,d|=a[T>>4&63|Q<<2&4032|la<<8&258048]<<4,d|=a[T&63|(Q&63)<<6|(la&63)<<12])r|=d,u|=ma,0!==(d&32768)&&(da|=k.Wb),0!==(d&1)&&(da|=k.Xb),da|=k.Sb;N[qa][P]=d;qa+=1;ma>>=1;ia|=W[P];W=K[qa+1];T=Q;Q=la;la=(W[P-1]&1)<<17|W[P]<<1|W[P+1]>>15;if(d=T|Q|la)if(d=a[T>>12|Q>>12<<6|la&258048]<<12,d|=a[T>>8&63|Q>>2&4032|la<<4&258048]<<
8,d|=a[T>>4&63|Q<<2&4032|la<<8&258048]<<4,d|=a[T&63|(Q&63)<<6|(la&63)<<12])r|=d,u|=ma;N[qa][P]=d;qa+=1;ma>>=1;ia|=W[P];W=K[qa+1];T=Q;Q=la;la=(W[P-1]&1)<<17|W[P]<<1|W[P+1]>>15;if(d=T|Q|la)if(d=a[T>>12|Q>>12<<6|la&258048]<<12,d|=a[T>>8&63|Q>>2&4032|la<<4&258048]<<8,d|=a[T>>4&63|Q<<2&4032|la<<8&258048]<<4,d|=a[T&63|(Q&63)<<6|(la&63)<<12])r|=d,u|=ma;N[qa][P]=d;qa+=1;ma>>=1;ia|=W[P];W=K[qa+1];T=Q;Q=la;la=(W[P-1]&1)<<17|W[P]<<1|W[P+1]>>15;if(d=T|Q|la)if(d=a[T>>12|Q>>12<<6|la&258048]<<12,d|=a[T>>8&63|Q>>
2&4032|la<<4&258048]<<8,d|=a[T>>4&63|Q<<2&4032|la<<8&258048]<<4,d|=a[T&63|(Q&63)<<6|(la&63)<<12])r|=d,u|=ma;N[qa][P]=d;qa+=1;ma>>=1;ia|=W[P];W=K[qa+1];T=Q;Q=la;la=(W[P-1]&1)<<17|W[P]<<1|W[P+1]>>15;if(d=T|Q|la)if(d=a[T>>12|Q>>12<<6|la&258048]<<12,d|=a[T>>8&63|Q>>2&4032|la<<4&258048]<<8,d|=a[T>>4&63|Q<<2&4032|la<<8&258048]<<4,d|=a[T&63|(Q&63)<<6|(la&63)<<12])r|=d,u|=ma;N[qa][P]=d;qa+=1;ma>>=1;ia|=W[P];W=K[qa+1];T=Q;Q=la;la=(W[P-1]&1)<<17|W[P]<<1|W[P+1]>>15;if(d=T|Q|la)if(d=a[T>>12|Q>>12<<6|la&258048]<<
12,d|=a[T>>8&63|Q>>2&4032|la<<4&258048]<<8,d|=a[T>>4&63|Q<<2&4032|la<<8&258048]<<4,d|=a[T&63|(Q&63)<<6|(la&63)<<12])r|=d,u|=ma;N[qa][P]=d;qa+=1;ma>>=1;ia|=W[P];W=K[qa+1];T=Q;Q=la;la=(W[P-1]&1)<<17|W[P]<<1|W[P+1]>>15;if(d=T|Q|la)if(d=a[T>>12|Q>>12<<6|la&258048]<<12,d|=a[T>>8&63|Q>>2&4032|la<<4&258048]<<8,d|=a[T>>4&63|Q<<2&4032|la<<8&258048]<<4,d|=a[T&63|(Q&63)<<6|(la&63)<<12])r|=d,u|=ma;N[qa][P]=d;qa+=1;ma>>=1;ia|=W[P];W=K[qa+1];T=Q;Q=la;la=(W[P-1]&1)<<17|W[P]<<1|W[P+1]>>15;if(d=T|Q|la)if(d=a[T>>12|
Q>>12<<6|la&258048]<<12,d|=a[T>>8&63|Q>>2&4032|la<<4&258048]<<8,d|=a[T>>4&63|Q<<2&4032|la<<8&258048]<<4,d|=a[T&63|(Q&63)<<6|(la&63)<<12])r|=d,u|=ma;N[qa][P]=d;qa+=1;ma>>=1;ia|=W[P];W=K[qa+1];T=Q;Q=la;la=(W[P-1]&1)<<17|W[P]<<1|W[P+1]>>15;if(d=T|Q|la)if(d=a[T>>12|Q>>12<<6|la&258048]<<12,d|=a[T>>8&63|Q>>2&4032|la<<4&258048]<<8,d|=a[T>>4&63|Q<<2&4032|la<<8&258048]<<4,d|=a[T&63|(Q&63)<<6|(la&63)<<12])r|=d,u|=ma;N[qa][P]=d;qa+=1;ma>>=1;ia|=W[P];W=K[qa+1];T=Q;Q=la;la=(W[P-1]&1)<<17|W[P]<<1|W[P+1]>>15;if(d=
T|Q|la)if(d=a[T>>12|Q>>12<<6|la&258048]<<12,d|=a[T>>8&63|Q>>2&4032|la<<4&258048]<<8,d|=a[T>>4&63|Q<<2&4032|la<<8&258048]<<4,d|=a[T&63|(Q&63)<<6|(la&63)<<12])r|=d,u|=ma;N[qa][P]=d;qa+=1;ma>>=1;ia|=W[P];W=K[qa+1];T=Q;Q=la;la=(W[P-1]&1)<<17|W[P]<<1|W[P+1]>>15;if(d=T|Q|la)if(d=a[T>>12|Q>>12<<6|la&258048]<<12,d|=a[T>>8&63|Q>>2&4032|la<<4&258048]<<8,d|=a[T>>4&63|Q<<2&4032|la<<8&258048]<<4,d|=a[T&63|(Q&63)<<6|(la&63)<<12])r|=d,u|=ma;N[qa][P]=d;qa+=1;ma>>=1;ia|=W[P];W=K[qa+1];T=Q;Q=la;la=(W[P-1]&1)<<17|W[P]<<
1|W[P+1]>>15;if(d=T|Q|la)if(d=a[T>>12|Q>>12<<6|la&258048]<<12,d|=a[T>>8&63|Q>>2&4032|la<<4&258048]<<8,d|=a[T>>4&63|Q<<2&4032|la<<8&258048]<<4,d|=a[T&63|(Q&63)<<6|(la&63)<<12])r|=d,u|=ma;N[qa][P]=d;qa+=1;ma>>=1;ia|=W[P];W=K[qa+1];T=Q;Q=la;la=(W[P-1]&1)<<17|W[P]<<1|W[P+1]>>15;if(d=T|Q|la)if(d=a[T>>12|Q>>12<<6|la&258048]<<12,d|=a[T>>8&63|Q>>2&4032|la<<4&258048]<<8,d|=a[T>>4&63|Q<<2&4032|la<<8&258048]<<4,d|=a[T&63|(Q&63)<<6|(la&63)<<12])r|=d,u|=ma;N[qa][P]=d;qa+=1;ma>>=1;ia|=W[P];W=K[qa+1];T=Q;Q=la;la=
(W[P-1]&1)<<17|W[P]<<1|W[P+1]>>15;if(d=T|Q|la)if(d=a[T>>12|Q>>12<<6|la&258048]<<12,d|=a[T>>8&63|Q>>2&4032|la<<4&258048]<<8,d|=a[T>>4&63|Q<<2&4032|la<<8&258048]<<4,d|=a[T&63|(Q&63)<<6|(la&63)<<12])r|=d,u|=ma;N[qa][P]=d;qa+=1;ma>>=1;ia|=W[P];W=K[qa+1];T=Q;Q=la;la=(W[P-1]&1)<<17|W[P]<<1|W[P+1]>>15;if(d=T|Q|la)if(d=a[T>>12|Q>>12<<6|la&258048]<<12,d|=a[T>>8&63|Q>>2&4032|la<<4&258048]<<8,d|=a[T>>4&63|Q<<2&4032|la<<8&258048]<<4,d|=a[T&63|(Q&63)<<6|(la&63)<<12])r|=d,u|=ma;N[qa][P]=d;qa+=1;ma>>=1;ia|=W[P];
W=qa===this.height-1?this.Bf:K[qa+1];T=Q;Q=la;la=(W[P-1]&1)<<17|W[P]<<1|W[P+1]>>15;if(d=T|Q|la)if(d=a[T>>12|Q>>12<<6|la&258048]<<12,d|=a[T>>8&63|Q>>2&4032|la<<4&258048]<<8,d|=a[T>>4&63|Q<<2&4032|la<<8&258048]<<4,d|=a[T&63|(Q&63)<<6|(la&63)<<12])r|=d,u|=ma,0!==(d&32768)&&(da|=k.bc),0!==(d&1)&&(da|=k.xb),da|=k.yb}else{T=T[P]<<1|T[P+1]>>15;Q=ia<<1|Q[P+1]>>15;la=W[P]<<1|W[P+1]>>15;if(d=T|Q|la)if(d=a[T>>12|Q>>12<<6|la&258048]<<12,d|=a[T>>8&63|Q>>2&4032|la<<4&258048]<<8,d|=a[T>>4&63|Q<<2&4032|la<<8&258048]<<
4,d|=a[T&63|(Q&63)<<6|(la&63)<<12])r|=d,u|=ma,0!==(d&1)&&(da|=k.Xb),da|=k.Sb;N[qa][P]=d;qa+=1;for(ma>>=1;qa<V-1;){ia|=W[P];W=K[qa+1];T=Q;Q=la;la=W[P]<<1|W[P+1]>>15;if(d=T|Q|la)if(d=a[T>>12|Q>>12<<6|la&258048]<<12,d|=a[T>>8&63|Q>>2&4032|la<<4&258048]<<8,d|=a[T>>4&63|Q<<2&4032|la<<8&258048]<<4,d|=a[T&63|(Q&63)<<6|(la&63)<<12])r|=d,u|=ma;N[qa][P]=d;qa+=1;ma>>=1}ia|=W[P];W=qa===this.height-1?this.Bf:K[qa+1];T=Q;Q=la;la=W[P]<<1|W[P+1]>>15;if(d=T|Q|la)if(d=a[T>>12|Q>>12<<6|la&258048]<<12,d|=a[T>>8&63|Q>>
2&4032|la<<4&258048]<<8,d|=a[T>>4&63|Q<<2&4032|la<<8&258048]<<4,d|=a[T&63|(Q&63)<<6|(la&63)<<12])r|=d,u|=ma,0!==(d&1)&&(da|=k.xb),da|=k.yb}N[qa][P]=d;r&&(0!==(r&32768)&&(da|=k.Ub),0!==(r&1)&&(da|=k.lb));p[P]|=r;if(r||ia)ha|=1<<b,da&&(0!==(da&k.Ub)&&(15>b?ha|=1<<b+1:0<l&&0<P&&(X[l-1]|=1)),0!==(da&k.lb)&&(0<b?ha|=1<<b-1:l<C-1&&P<x-1&&(X[l+1]|=32768)),0!==(da&k.Sb)&&(Y|=1<<b),0!==(da&k.yb)&&(ea|=1<<b),0!==(da&k.Wb)&&(15>b?Y|=1<<b+1:0<l&&0<P&&(ja[l-1]|=1)),0!==(da&k.Xb)&&(0<b?Y|=1<<b-1:l<C-1&&P<x-1&&
(ja[l+1]|=32768)),0!==(da&k.bc)&&(15>b?ea|=1<<b+1:0<l&&0<P&&(na[l-1]|=1)),0!==(da&k.xb)&&(0<b?ea|=1<<b-1:l<C-1&&P<x-1&&(na[l+1]|=32768)));w[f]|=u}P+=1}X[l]|=ha;0<f&&(ja[l]|=Y);f<A-1&&(na[l]|=ea)}else P+=16;U+=16;V+=16}-1!==this.xa&&(0!==E&&(p[F-1>>4]&=~(1<<(~(F-1)&15)),p[I+1>>4]&=~(1<<(~(I+1)&15)),p[F-2>>4]&=~(1<<(~(F-2)&15)),p[I+2>>4]&=~(1<<(~(I+2)&15))),0!==G&&(w[H-1>>4]&=~(1<<(~(H-1)&15)),w[L+1>>4]&=~(1<<(~(L+1)&15)),w[H-2>>4]&=~(1<<(~(H-2)&15)),w[L+2>>4]&=~(1<<(~(L+2)&15))));for(l=0;l<x;l+=1)p[l]&&
(l<e&&(e=l),l>t&&(t=l));for(f=0;f<w.length;f+=1)w[f]&&(f<c&&(c=f),f>m&&(m=f));e=(e<<4)+this.G(p[e]);t=(t<<4)+this.T(p[t]);c=(c<<4)+this.G(w[c]);m=(m<<4)+this.T(w[m]);0>m&&(m=y-1);c>=y&&(c=0);e>=z&&(e=0);0>t&&(t=z-1);m>y-1&&(m=y-1);0>c&&(c=0);0>e&&(e=0);t>z-1&&(t=z-1);B.v=m;B.s=c;B.l=e;B.u=t;D.fill(0)};q.prototype.zC=function(a,b){var d,f=this.Da,l,n,p,r,w=this.ya,u=this.ua>>4;var y=0;var z=y+16;for(l=0;l<w;l+=1){var x=0;var B=f[l];for(n=0;n<u;n+=1)if(r=B[n])for(p=15;0<=p;--p){if(0!==(r&1<<p))for(d=
y;d<z;d+=2){var c=b[d];var m=a[d];var e=a[d+1];var t=x<<3;var A=m[t];A|=e[t];c[t+t]=A|A>>8;t+=1;A=m[t];A|=e[t];c[t+t]=A|A>>8;t+=1;A=m[t];A|=e[t];c[t+t]=A|A>>8;t+=1;A=m[t];A|=e[t];c[t+t]=A|A>>8;t+=1;A=m[t];A|=e[t];c[t+t]=A|A>>8;t+=1;A=m[t];A|=e[t];c[t+t]=A|A>>8;t+=1;A=m[t];A|=e[t];c[t+t]=A|A>>8;t+=1;A=m[t];A|=e[t];c[t+t]=A|A>>8}x+=1}else x+=16;y+=16;z+=16}};q.prototype.fu=function(a,b){var d,f=this.Da,l,n,p,r,w=this.ya,u=this.ua>>4;var y=0;var z=y+16;for(l=0;l<w;l+=1){var x=0;var B=f[l];for(n=0;n<
u;n+=1)if(r=B[n])for(p=15;0<=p;--p){if(0!==(r&1<<p))for(d=y;d<z;d+=2){var c=b[d];var m=a[d];var e=a[d+1];var t=x<<3;var A=m[t];var C=A&255;A>>=8;C-=C-(A&255)&C-(A&255)>>255;A=e[t];C-=C-(A&255)&C-(A&255)>>255;A>>=8;c[t+t]=C-(C-(A&255)&C-(A&255)>>255);t+=1;A=m[t];C=A&255;A>>=8;C-=C-(A&255)&C-(A&255)>>255;A=e[t];C-=C-(A&255)&C-(A&255)>>255;A>>=8;c[t+t]=C-(C-(A&255)&C-(A&255)>>255);t+=1;A=m[t];C=A&255;A>>=8;C-=C-(A&255)&C-(A&255)>>255;A=e[t];C-=C-(A&255)&C-(A&255)>>255;A>>=8;c[t+t]=C-(C-(A&255)&C-(A&
255)>>255);t+=1;A=m[t];C=A&255;A>>=8;C-=C-(A&255)&C-(A&255)>>255;A=e[t];C-=C-(A&255)&C-(A&255)>>255;A>>=8;c[t+t]=C-(C-(A&255)&C-(A&255)>>255);t+=1;A=m[t];C=A&255;A>>=8;C-=C-(A&255)&C-(A&255)>>255;A=e[t];C-=C-(A&255)&C-(A&255)>>255;A>>=8;c[t+t]=C-(C-(A&255)&C-(A&255)>>255);t+=1;A=m[t];C=A&255;A>>=8;C-=C-(A&255)&C-(A&255)>>255;A=e[t];C-=C-(A&255)&C-(A&255)>>255;A>>=8;c[t+t]=C-(C-(A&255)&C-(A&255)>>255);t+=1;A=m[t];C=A&255;A>>=8;C-=C-(A&255)&C-(A&255)>>255;A=e[t];C-=C-(A&255)&C-(A&255)>>255;A>>=8;c[t+
t]=C-(C-(A&255)&C-(A&255)>>255);t+=1;A=m[t];C=A&255;A>>=8;C-=C-(A&255)&C-(A&255)>>255;A=e[t];C-=C-(A&255)&C-(A&255)>>255;A>>=8;c[t+t]=C-(C-(A&255)&C-(A&255)>>255)}x+=1}else x+=16;y+=16;z+=16}};q.prototype.LD=function(a,b){var d,f=this.Da,l,n,p,r,w=this.ya,u=this.ua>>4;var y=0;var z=y+16;for(l=0;l<w;l+=1){var x=0;var B=f[l];for(n=0;n<u;n+=1)if(r=B[n])for(p=15;0<=p;--p){if(0!==(r&1<<p))for(d=y;d<z;d+=4){var c=b[d];var m=a[d];var e=a[d+1];var t=a[d+2];var A=a[d+3];var C=x<<2;var D=x<<4;var E=m[C]|e[C]|
t[C]|A[C];c[D]=(0<E)<<6;C+=1;D+=4;E=m[C]|e[C]|t[C]|A[C];c[D]=(0<E)<<6;C+=1;D+=4;E=m[C]|e[C]|t[C]|A[C];c[D]=(0<E)<<6;C+=1;D+=4;E=m[C]|e[C]|t[C]|A[C];c[D]=(0<E)<<6}x+=1}else x+=16;y+=16;z+=16}};q.prototype.hu=function(a,b){var d,f,l=this.Da,n,p,r,w,u,y=this.ya,z=this.ua>>4;var x=0;var B=x+16;for(p=0;p<y;p+=1){var c=0;var m=l[p];for(r=0;r<z;r+=1)if(u=m[r])for(w=15;0<=w;--w){if(0!==(u&1<<w))for(d=x;d<B;d+=4){var e=b[d];var t=a[d];var A=a[d+1];var C=a[d+2];var D=a[d+3];var E=c<<2;var G=c<<4;for(f=0;4>
f;f+=1){var F=0;if(n=t[E])F-=F-(n&255)&F-(n&255)>>255,n>>=8,F-=F-(n&255)&F-(n&255)>>255,n>>=8,F-=F-(n&255)&F-(n&255)>>255,n>>=8,F-=F-(n&255)&F-(n&255)>>255;if(n=A[E])F-=F-(n&255)&F-(n&255)>>255,n>>=8,F-=F-(n&255)&F-(n&255)>>255,n>>=8,F-=F-(n&255)&F-(n&255)>>255,n>>=8,F-=F-(n&255)&F-(n&255)>>255;if(n=C[E])F-=F-(n&255)&F-(n&255)>>255,n>>=8,F-=F-(n&255)&F-(n&255)>>255,n>>=8,F-=F-(n&255)&F-(n&255)>>255,n>>=8,F-=F-(n&255)&F-(n&255)>>255;if(n=D[E])F-=F-(n&255)&F-(n&255)>>255,n>>=8,F-=F-(n&255)&F-(n&255)>>
255,n>>=8,F-=F-(n&255)&F-(n&255)>>255,n>>=8,F-=F-(n&255)&F-(n&255)>>255;e[G]=F;E+=1;G+=4}}c+=1}else c+=16;x+=16;B+=16}};q.prototype.fE=function(a,b){var d,f=this.Da,l,n,p,r,w=this.ya,u=this.ua>>4;var y=0;var z=y+16;for(l=0;l<w;l+=1){var x=0;var B=f[l];for(n=0;n<u;n+=1)if(r=B[n])for(p=15;0<=p;--p){if(0!==(r&1<<p))for(d=y;d<z;d+=8){var c=b[d];var m=a[d];var e=a[d+1];var t=a[d+2];var A=a[d+3];var C=a[d+4];var D=a[d+5];var E=a[d+6];var G=a[d+7];var F=x<<2;var H=x<<4;var I=m[F]|m[F+1];I|=e[F]|e[F+1];I|=
t[F]|t[F+1];I|=A[F]|A[F+1];0===I&&(I|=C[F]|C[F+1],I|=D[F]|D[F+1],I|=E[F]|E[F+1],I|=G[F]|G[F+1]);c[H]=(0<I)<<6;F+=2;H+=8;I=m[F]|m[F+1];I|=e[F]|e[F+1];I|=t[F]|t[F+1];I|=A[F]|A[F+1];0===I&&(I|=C[F]|C[F+1],I|=D[F]|D[F+1],I|=E[F]|E[F+1],I|=G[F]|G[F+1]);c[H]=(0<I)<<6}x+=1}else x+=16;y+=16;z+=16}};q.prototype.iu=function(a,b){var d,f,l=this.Da,n,p,r,w,u,y=this.ya,z=this.ua>>4;var x=0;var B=x+16;for(p=0;p<y;p+=1){var c=0;var m=l[p];for(r=0;r<z;r+=1)if(u=m[r])for(w=15;0<=w;--w){if(0!==(u&1<<w))for(d=x;d<B;d+=
8){var e=b[d];var t=a[d];var A=a[d+1];var C=a[d+2];var D=a[d+3];var E=a[d+4];var G=a[d+5];var F=a[d+6];var H=a[d+7];var I=c<<2;var L=c<<4;for(f=0;2>f;f+=1){var K=0;if(n=t[I])K-=K-(n&255)&K-(n&255)>>255,n>>=8,K-=K-(n&255)&K-(n&255)>>255,n>>=8,K-=K-(n&255)&K-(n&255)>>255,n>>=8,K-=K-(n&255)&K-(n&255)>>255;if(n=t[I+1])K-=K-(n&255)&K-(n&255)>>255,n>>=8,K-=K-(n&255)&K-(n&255)>>255,n>>=8,K-=K-(n&255)&K-(n&255)>>255,n>>=8,K-=K-(n&255)&K-(n&255)>>255;if(n=A[I])K-=K-(n&255)&K-(n&255)>>255,n>>=8,K-=K-(n&255)&
K-(n&255)>>255,n>>=8,K-=K-(n&255)&K-(n&255)>>255,n>>=8,K-=K-(n&255)&K-(n&255)>>255;if(n=A[I+1])K-=K-(n&255)&K-(n&255)>>255,n>>=8,K-=K-(n&255)&K-(n&255)>>255,n>>=8,K-=K-(n&255)&K-(n&255)>>255,n>>=8,K-=K-(n&255)&K-(n&255)>>255;if(n=C[I])K-=K-(n&255)&K-(n&255)>>255,n>>=8,K-=K-(n&255)&K-(n&255)>>255,n>>=8,K-=K-(n&255)&K-(n&255)>>255,n>>=8,K-=K-(n&255)&K-(n&255)>>255;if(n=C[I+1])K-=K-(n&255)&K-(n&255)>>255,n>>=8,K-=K-(n&255)&K-(n&255)>>255,n>>=8,K-=K-(n&255)&K-(n&255)>>255,n>>=8,K-=K-(n&255)&K-(n&255)>>
255;if(n=D[I])K-=K-(n&255)&K-(n&255)>>255,n>>=8,K-=K-(n&255)&K-(n&255)>>255,n>>=8,K-=K-(n&255)&K-(n&255)>>255,n>>=8,K-=K-(n&255)&K-(n&255)>>255;if(n=D[I+1])K-=K-(n&255)&K-(n&255)>>255,n>>=8,K-=K-(n&255)&K-(n&255)>>255,n>>=8,K-=K-(n&255)&K-(n&255)>>255,n>>=8,K-=K-(n&255)&K-(n&255)>>255;if(n=E[I])K-=K-(n&255)&K-(n&255)>>255,n>>=8,K-=K-(n&255)&K-(n&255)>>255,n>>=8,K-=K-(n&255)&K-(n&255)>>255,n>>=8,K-=K-(n&255)&K-(n&255)>>255;if(n=E[I+1])K-=K-(n&255)&K-(n&255)>>255,n>>=8,K-=K-(n&255)&K-(n&255)>>255,n>>=
8,K-=K-(n&255)&K-(n&255)>>255,n>>=8,K-=K-(n&255)&K-(n&255)>>255;if(n=G[I])K-=K-(n&255)&K-(n&255)>>255,n>>=8,K-=K-(n&255)&K-(n&255)>>255,n>>=8,K-=K-(n&255)&K-(n&255)>>255,n>>=8,K-=K-(n&255)&K-(n&255)>>255;if(n=G[I+1])K-=K-(n&255)&K-(n&255)>>255,n>>=8,K-=K-(n&255)&K-(n&255)>>255,n>>=8,K-=K-(n&255)&K-(n&255)>>255,n>>=8,K-=K-(n&255)&K-(n&255)>>255;if(n=F[I])K-=K-(n&255)&K-(n&255)>>255,n>>=8,K-=K-(n&255)&K-(n&255)>>255,n>>=8,K-=K-(n&255)&K-(n&255)>>255,n>>=8,K-=K-(n&255)&K-(n&255)>>255;if(n=F[I+1])K-=
K-(n&255)&K-(n&255)>>255,n>>=8,K-=K-(n&255)&K-(n&255)>>255,n>>=8,K-=K-(n&255)&K-(n&255)>>255,n>>=8,K-=K-(n&255)&K-(n&255)>>255;if(n=H[I])K-=K-(n&255)&K-(n&255)>>255,n>>=8,K-=K-(n&255)&K-(n&255)>>255,n>>=8,K-=K-(n&255)&K-(n&255)>>255,n>>=8,K-=K-(n&255)&K-(n&255)>>255;if(n=H[I+1])K-=K-(n&255)&K-(n&255)>>255,n>>=8,K-=K-(n&255)&K-(n&255)>>255,n>>=8,K-=K-(n&255)&K-(n&255)>>255,n>>=8,K-=K-(n&255)&K-(n&255)>>255;e[L]=K;I+=2;L+=8}}c+=1}else c+=16;x+=16;B+=16}};q.prototype.ZB=function(a,b){var d=this.Da,f,
l,n,p,r,w=this.ya,u=this.ua>>4;for(f=p=0;f<w;f+=1){var y=0;var z=d[f];for(l=0;l<u;l+=1)if(r=z[l])for(n=15;0<=n;--n){if(0!==(r&1<<n)){var x=b[p];var B=a[p];var c=a[p+1];var m=a[p+2];var e=a[p+3];var t=a[p+4];var A=a[p+5];var C=a[p+6];var D=a[p+7];var E=a[p+8];var G=a[p+9];var F=a[p+10];var H=a[p+11];var I=a[p+12];var L=a[p+13];var K=a[p+14];var N=a[p+15];var J=y<<2;var S=y<<4;B=B[J]|B[J+1]|B[J+2]|B[J+3];B|=c[J]|c[J+1]|c[J+2]|c[J+3];B|=m[J]|m[J+1]|m[J+2]|m[J+3];B|=e[J]|e[J+1]|e[J+2]|e[J+3];0===B&&(B|=
t[J]|t[J+1]|t[J+2]|t[J+3],B|=A[J]|A[J+1]|A[J+2]|A[J+3],B|=C[J]|C[J+1]|C[J+2]|C[J+3],B|=D[J]|D[J+1]|D[J+2]|D[J+3],0===B&&(B|=E[J]|E[J+1]|E[J+2]|E[J+3],B|=G[J]|G[J+1]|G[J+2]|G[J+3],B|=F[J]|F[J+1]|F[J+2]|F[J+3],B|=H[J]|H[J+1]|H[J+2]|H[J+3],0===B&&(B|=I[J]|I[J+1]|I[J+2]|I[J+3],B|=L[J]|L[J+1]|L[J+2]|L[J+3],B|=K[J]|K[J+1]|K[J+2]|K[J+3],B|=N[J]|N[J+1]|N[J+2]|N[J+3])));x[S]=(0<B)<<6}y+=1}else y+=16;p+=16}};q.prototype.eu=function(a,b){var d=this.Da,f,l,n,p,r,w,u=this.ya,y=this.ua>>4;var z=0;var x=z+16;for(l=
0;l<u;l+=1){var B=0;var c=d[l];for(n=0;n<y;n+=1)if(w=c[n])for(p=15;0<=p;--p){if(0!==(w&1<<p)){var m=0;for(r=z;r<x;r+=1){var e=a[r];var t=B<<2;if(f=e[t])m-=m-(f&255)&m-(f&255)>>255,f>>=8,m-=m-(f&255)&m-(f&255)>>255,f>>=8,m-=m-(f&255)&m-(f&255)>>255,f>>=8,m-=m-(f&255)&m-(f&255)>>255;if(f=e[t+1])m-=m-(f&255)&m-(f&255)>>255,f>>=8,m-=m-(f&255)&m-(f&255)>>255,f>>=8,m-=m-(f&255)&m-(f&255)>>255,f>>=8,m-=m-(f&255)&m-(f&255)>>255;if(f=e[t+2])m-=m-(f&255)&m-(f&255)>>255,f>>=8,m-=m-(f&255)&m-(f&255)>>255,f>>=
8,m-=m-(f&255)&m-(f&255)>>255,f>>=8,m-=m-(f&255)&m-(f&255)>>255;if(f=e[t+3])m-=m-(f&255)&m-(f&255)>>255,f>>=8,m-=m-(f&255)&m-(f&255)>>255,f>>=8,m-=m-(f&255)&m-(f&255)>>255,f>>=8,m-=m-(f&255)&m-(f&255)>>255}e=b[z];t=B<<4;e[t]=m}B+=1}else B+=16;z+=16;x+=16}};q.prototype.aD=function(a,b){var d=this.Da,f,l,n,p,r=this.ya,w=this.ua>>4;var u=0;var y=u+32;for(f=0;f<r;f+=2){var z=0;var x=d[f];var B=d[f+1];for(l=0;l<w;l+=1){var c=x[l]|B[l];if(0!==c)for(n=49152;0<n;n>>=2){if(0!==(c&n)){var m=z<<4;var e=b[u];
var t=z<<2;var A=u;for(p=0;A<y&&0===p;){var C=a[A];p|=C[t]|C[t+1]|C[t+2]|C[t+3]|C[t+4]|C[t+5]|C[t+6]|C[t+7];A+=1}e[m]=(0<p)<<6}z+=2}else z+=16}u+=32;y+=32}};q.prototype.gu=function(a,b){var d=this.Da,f,l,n,p,r,w=this.ya,u=this.ua>>4;var y=0;var z=y+32;for(l=0;l<w;l+=2){var x=0;var B=d[l];var c=d[l+1];for(n=0;n<u;n+=1){var m=B[n]|c[n];if(0!==m)for(p=49152;0<p;p>>=2){if(0!==(m&p)){var e=0;for(r=y;r<z;r+=1){var t=a[r];var A=x<<2;if(f=t[A])e-=e-(f&255)&e-(f&255)>>255,f>>=8,e-=e-(f&255)&e-(f&255)>>255,
f>>=8,e-=e-(f&255)&e-(f&255)>>255,f>>=8,e-=e-(f&255)&e-(f&255)>>255;if(f=t[A+1])e-=e-(f&255)&e-(f&255)>>255,f>>=8,e-=e-(f&255)&e-(f&255)>>255,f>>=8,e-=e-(f&255)&e-(f&255)>>255,f>>=8,e-=e-(f&255)&e-(f&255)>>255;if(f=t[A+2])e-=e-(f&255)&e-(f&255)>>255,f>>=8,e-=e-(f&255)&e-(f&255)>>255,f>>=8,e-=e-(f&255)&e-(f&255)>>255,f>>=8,e-=e-(f&255)&e-(f&255)>>255;if(f=t[A+3])e-=e-(f&255)&e-(f&255)>>255,f>>=8,e-=e-(f&255)&e-(f&255)>>255,f>>=8,e-=e-(f&255)&e-(f&255)>>255,f>>=8,e-=e-(f&255)&e-(f&255)>>255;if(f=t[A+
4])e-=e-(f&255)&e-(f&255)>>255,f>>=8,e-=e-(f&255)&e-(f&255)>>255,f>>=8,e-=e-(f&255)&e-(f&255)>>255,f>>=8,e-=e-(f&255)&e-(f&255)>>255;if(f=t[A+5])e-=e-(f&255)&e-(f&255)>>255,f>>=8,e-=e-(f&255)&e-(f&255)>>255,f>>=8,e-=e-(f&255)&e-(f&255)>>255,f>>=8,e-=e-(f&255)&e-(f&255)>>255;if(f=t[A+6])e-=e-(f&255)&e-(f&255)>>255,f>>=8,e-=e-(f&255)&e-(f&255)>>255,f>>=8,e-=e-(f&255)&e-(f&255)>>255,f>>=8,e-=e-(f&255)&e-(f&255)>>255;if(f=t[A+7])e-=e-(f&255)&e-(f&255)>>255,f>>=8,e-=e-(f&255)&e-(f&255)>>255,f>>=8,e-=e-
(f&255)&e-(f&255)>>255,f>>=8,e-=e-(f&255)&e-(f&255)>>255}t=b[y];A=x<<4;t[A]=e}x+=2}else x+=16}y+=32;z+=32}};q.prototype.bf=function(a){this.qu&&a.Wa.fill(0)};q.prototype.cy=function(a,b){var d=this.oa;.5<=d&&1>d?(this.bf(this.ac),this.bl||this.pa||this.L||this.fa||this.V?this.fu(a,this.ac):this.zC(a,this.ac)):.25<=d&&.5>d?(this.bf(this.ac),this.bl||this.pa||this.L||this.fa||this.V?this.hu(b,this.ac):this.LD(b,this.ac)):.125<=d&&.25>d?(this.bf(this.ac),this.bl||this.pa||this.L||this.fa||this.V?this.iu(b,
this.ac):this.fE(b,this.ac)):.0625<=d&&.125>d?(this.bf(this.ac),this.bl||this.pa||this.L||this.fa||this.V?this.eu(b,this.ac):this.ZB(b,this.ac)):this.bl||this.pa||this.L||this.fa||this.V?this.gu(b,this.ac):this.aD(b,this.ac);this.og&&(.5<=d&&1>d?(this.bf(this.$c),this.fu(this.Ho,this.$c)):.25<=d&&.5>d?(this.bf(this.$c),this.hu(this.Lk,this.$c)):.125<=d&&.25>d?(this.bf(this.$c),this.iu(this.Lk,this.$c)):.0625<=d&&.125>d?(this.bf(this.$c),this.eu(this.Lk,this.$c)):this.gu(this.Lk,this.$c));this.qu=
.0625>d?!0:!1};q.prototype.zM=function(){var a=this.Da,b=this.La,d=this.wc,f,l,n,p,r=this.width,w=r>>4,u=this.height,y=r,z=-1,x=-1,B=u,c=this.M,m,e=this.na,t,A,C=this.gb;var D=this.ya;var E=this.ua>>4;var G=0;var F=D,H=this.jg;this.Y=0;if(0!==(this.counter&1)){var I=this.Yb;var L=this.ra;var K=this.S;var N=this.Ja}else I=this.hb,L=this.ja,K=this.Ja,N=this.S;0>G&&(G=0);F>D&&(F=D);e.fill(0);C.fill(0);D=G<<4;var J=D+16;for(f=G;f<F;f+=1){var S=0;var U=L[f];var V=b[f];var P=a[f];for(l=0;l<E;l+=1){if(p=
U[l]|V[l])for(n=15;0<=n;--n){if(0!==(p&1<<n)){var sa=t=0;var X=32768;var ja=0;for(G=D;G<J;G+=1){var na=I[G];var ha=K[G];var Y=0===G?d:K[G-1];var ea=G===this.height-1?d:K[G+1];var da=N[G];var qa=S<<4;if(0===qa)var ma=m=0;else m=ha[qa-1],ma=Y[qa-1];var T=ea[qa];var Q=ha[qa];var W=na[S];for(A=32768;0<A;){var ia=ma;ma=Y[qa];var la=m;m=Q;Q=ha[qa+1];var ba=T;T=ea[qa+1];var M=m;var O=!0;if(0!==(ja&64)){O=!1;if(7===m||8===m||13<=m)M=0;else switch(m){case 1:M=2;break;case 3:case 5:M=4;break;case 9:M=10;break;
case 11:M=12;break;default:O=!0}O||0===(m&1)||(na[S]&=~A)}ja=1<<ia|1<<ma|1<<Q|1<<la|1<<ba|1<<T;if(O)if(0!==(W&A)){if(0===(m&1))switch(m){case 4:M=3;break;case 6:na[S]&=~A;break;case 8:M=7;break;default:M=1,O=ja&44739072,0===(ja&170)&&1===H[O&65535]+H[O>>16]?(M=0,65535<O&&(O>>=16,M+=16),255<O&&(O>>=8,M+=8),15<O&&(O>>=4,M+=4),3<O&&(O>>=2,M+=2),M+=O>>1):(O=ja&44736512,0!==(ja&8)&&0===(ja&2722)&&1===H[O&65535]+H[O>>16]?(M=0,65535<O&&(O>>=16,M+=16),255<O&&(O>>=8,M+=8),15<O&&(O>>=4,M+=4),3<O&&(O>>=2,M+=
2),M+=O>>1):(O=ja&2560,0!==(ja&128)&&0===(ja&44736554)&&1===H[O&65535]+H[O>>16]?(M=0,65535<O&&(O>>=16,M+=16),255<O&&(O>>=8,M+=8),15<O&&(O>>=4,M+=4),3<O&&(O>>=2,M+=2),M+=O>>1):(O=ja&44736640)&&0===(ja&2602)&&(M=13)))}}else if(0!==(m&1))11>=m?5===m?M=4:M=m+1:M=0;else if(14===m)M=0;else if(14<m)switch(m){case 16:0!==(ja&44755626)&&(M=14);break;case 18:0!==(ja&4194304)&&(M=22);break;case 20:0!==(ja&262144)&&(M=18);break;case 22:0!==(ja&1048576)&&(M=20);break;case 24:0!==(ja&45017770)&&(M=18)}da[qa]=M;
0<M&&(t|=A,sa|=X);A>>=1;qa+=1}this.Y|=W;this.Y|=t;X>>=1}e[S]|=t;C[f]|=sa}S+=1}else S+=16;V[l]=p|0;P[l]=P[l]|p|0}D+=16;J+=16}for(l=0;l<w;l+=1)e[l]&&(l<y&&(y=l),l>z&&(z=l));for(f=0;f<C.length;f+=1)C[f]&&(f<B&&(B=f),f>x&&(x=f));y=(y<<4)+this.G(e[y]);z=(z<<4)+this.T(e[z]);B=(B<<4)+this.G(C[B]);x=(x<<4)+this.T(C[x]);0>x&&(x=u-1);B>=u&&(B=0);y>=r&&(y=0);0>z&&(z=r-1);x>u-1&&(x=u-1);0>B&&(B=0);0>y&&(y=0);z>r-1&&(z=r-1);c.v=x;c.s=B;c.l=y;c.u=z};q.prototype.fN=function(){var a=this.Da,b=this.La,d=this.wc,f,
l,n,p,r=this.width,w=r>>4,u=this.height,y=r,z=-1,x=-1,B=u,c=this.M,m=0,e=this.na,t,A,C=this.gb;var D=this.ya;var E=this.ua>>4;var G=0;var F=D,H=this.jg;this.Y=0;if(0!==(this.counter&1)){var I=this.Yb;var L=this.ra;var K=this.S;var N=this.Ja}else I=this.hb,L=this.ja,K=this.Ja,N=this.S;0>G&&(G=0);F>D&&(F=D);e.fill(0);C.fill(0);D=G<<4;var J=D+16;for(f=G;f<F;f+=1){var S=0;var U=L[f];var V=b[f];var P=a[f];for(l=0;l<E;l+=1){if(p=U[l]|V[l])for(n=15;0<=n;--n){if(0!==(p&1<<n)){var sa=t=0;var X=32768;for(G=
D;G<J;G+=1){var ja=I[G];var na=K[G];var ha=0===G?d:K[G-1];var Y=G===this.height-1?d:K[G+1];var ea=N[G];var da=S<<4;0===da?m=0:m=na[da-1];var qa=na[da];var ma=ja[S];for(A=32768;0<A;){var T=ha[da];var Q=m;m=qa;qa=na[da+1];var W=Y[da];var ia=m;T=1<<T|1<<qa|1<<Q|1<<W;Q=!0;if(0!==(T&64)){Q=!1;if(7===m||8===m||13<=m)ia=0;else switch(m){case 1:ia=2;break;case 3:case 5:ia=4;break;case 9:ia=10;break;case 11:ia=12;break;default:Q=!0}Q||0===(m&1)||(ja[S]&=~A)}if(Q)if(0!==(ma&A)){if(0===(m&1))switch(m){case 4:ia=
3;break;case 6:ja[S]&=~A;break;case 8:ia=7;break;default:ia=1,Q=T&44739072,0===(T&170)&&1===H[Q&65535]+H[Q>>16]?(ia=0,65535<Q&&(Q>>=16,ia+=16),255<Q&&(Q>>=8,ia+=8),15<Q&&(Q>>=4,ia+=4),3<Q&&(Q>>=2,ia+=2),ia+=Q>>1):(Q=T&44736512,0!==(T&8)&&0===(T&2722)&&1===H[Q&65535]+H[Q>>16]?(ia=0,65535<Q&&(Q>>=16,ia+=16),255<Q&&(Q>>=8,ia+=8),15<Q&&(Q>>=4,ia+=4),3<Q&&(Q>>=2,ia+=2),ia+=Q>>1):(Q=T&2560,0!==(T&128)&&0===(T&44736554)&&1===H[Q&65535]+H[Q>>16]?(ia=0,65535<Q&&(Q>>=16,ia+=16),255<Q&&(Q>>=8,ia+=8),15<Q&&(Q>>=
4,ia+=4),3<Q&&(Q>>=2,ia+=2),ia+=Q>>1):(Q=T&44736640)&&0===(T&2602)&&(ia=13)))}}else if(0!==(m&1))11>=m?5===m?ia=4:ia=m+1:ia=0;else if(14===m)ia=0;else if(14<m)switch(m){case 16:0!==(T&44755626)&&(ia=14);break;case 18:0!==(T&4194304)&&(ia=22);break;case 20:0!==(T&262144)&&(ia=18);break;case 22:0!==(T&1048576)&&(ia=20);break;case 24:0!==(T&45017770)&&(ia=18)}ea[da]=ia;0<ia&&(t|=A,sa|=X);A>>=1;da+=1}this.Y|=ma;this.Y|=t;X>>=1}e[S]|=t;C[f]|=sa}S+=1}else S+=16;V[l]=p|0;P[l]=P[l]|p|0}D+=16;J+=16}for(l=
0;l<w;l+=1)e[l]&&(l<y&&(y=l),l>z&&(z=l));for(f=0;f<C.length;f+=1)C[f]&&(f<B&&(B=f),f>x&&(x=f));y=(y<<4)+this.G(e[y]);z=(z<<4)+this.T(e[z]);B=(B<<4)+this.G(C[B]);x=(x<<4)+this.T(C[x]);0>x&&(x=u-1);B>=u&&(B=0);y>=r&&(y=0);0>z&&(z=r-1);x>u-1&&(x=u-1);0>B&&(B=0);0>y&&(y=0);z>r-1&&(z=r-1);c.v=x;c.s=B;c.l=y;c.u=z};q.prototype.HM=function(){var a=this.Da,b=this.La,d=this.wc,f,l,n,p,r=this.width,w=r>>4,u=this.height,y=r,z=-1,x=-1,B=u,c=this.M,m=this.na,e,t,A=this.gb;var C=this.ya;var D=this.ua>>4;var E=0;
var G=C,F=this.nu;this.Y=0;if(0!==(this.counter&1)){var H=this.Yb;var I=this.ra;var L=this.S;var K=this.Ja}else H=this.hb,I=this.ja,L=this.Ja,K=this.S;0>E&&(E=0);G>C&&(G=C);m.fill(0);A.fill(0);C=E<<4;var N=C+16;for(f=E;f<G;f+=1){var J=0;var S=I[f];var U=b[f];var V=a[f];for(l=0;l<D;l+=1){if(p=S[l]|U[l])for(n=15;0<=n;--n){if(0!==(p&1<<n)){var P=e=0;var sa=32768;for(E=C;E<N;E+=1){var X=H[E];var ja=L[E];var na=0===E?d:L[E-1];var ha=E===this.height-1?d:L[E+1];var Y=K[E];var ea=J<<4;if(0===ea)var da=0;
else{var qa=ja[ea-1];da=1<<na[ea-1]|1<<qa|1<<ha[ea-1]}var ma=ja[ea];var T=1<<ma|1<<ha[ea]|1<<na[ea];var Q=X[J];for(t=32768;0<t;){ea+=1;qa=ma;ma=ja[ea];var W=da;da=T;T=1<<ma|1<<ha[ea]|1<<na[ea];var ia=qa;W=W|da|T;var la=!0;if(0!==(W&64)){la=!1;if(7===qa||8===qa||13<=qa)ia=0;else switch(qa){case 1:ia=2;break;case 3:case 5:ia=4;break;case 9:ia=10;break;case 11:ia=12;break;default:la=!0}la||0===(qa&1)||(X[J]&=~t)}if(la)if(0!==(Q&t)){if(0===(qa&1))switch(qa){case 4:ia=3;break;case 6:X[J]&=~t;break;case 8:ia=
7;break;default:ia=1,qa=W&44739072,0===(W&170)&&qa&&0===(qa&qa-1)?(ia=0,65535<qa&&(qa>>=16,ia+=16),ia+=F[qa]):(qa=W&44736512,0!==(W&8)&&0===(W&2722)&&qa&&0===(qa&qa-1)?(ia=0,65535<qa&&(qa>>=16,ia+=16),ia+=F[qa]):(qa=W&2560,0!==(W&128)&&0===(W&44736554)&&qa&&0===(qa&qa-1)?(ia=0,65535<qa&&(qa>>=16,ia+=16),ia+=F[qa]):(qa=W&44736640)&&0===(W&2602)&&(ia=13)))}}else if(0!==(qa&1))11>=qa?5===qa?ia=4:ia=qa+1:ia=0;else if(14<=qa)switch(qa){case 14:ia=0;break;case 16:0!==(W&44755626)&&(ia=14);break;case 18:0!==
(W&4194304)&&(ia=22);break;case 20:0!==(W&262144)&&(ia=18);break;case 22:0!==(W&1048576)&&(ia=20);break;case 24:0!==(W&45017770)&&(ia=18)}Y[ea-1]=ia;0<ia&&(e|=t,P|=sa);t>>=1}this.Y|=Q;this.Y|=e;sa>>=1}m[J]|=e;A[f]|=P}J+=1}else J+=16;U[l]=p|0;V[l]=V[l]|p|0}C+=16;N+=16}for(l=0;l<w;l+=1)m[l]&&(l<y&&(y=l),l>z&&(z=l));for(f=0;f<A.length;f+=1)A[f]&&(f<B&&(B=f),f>x&&(x=f));y=(y<<4)+this.G(m[y]);z=(z<<4)+this.T(m[z]);B=(B<<4)+this.G(A[B]);x=(x<<4)+this.T(A[x]);0>x&&(x=u-1);B>=u&&(B=0);y>=r&&(y=0);0>z&&(z=
r-1);x>u-1&&(x=u-1);0>B&&(B=0);0>y&&(y=0);z>r-1&&(z=r-1);c.v=x;c.s=B;c.l=y;c.u=z};q.prototype.zy=function(){var a=this.S,b=this.Da,d=this.La,f,l,n,p,r,w=0,u=0,y=0,z=this.width,x=z>>4,B=this.height,c=z,m=-1,e=-1,t=B,A=this.M,C=this.na,D,E,G=this.gb;var F=this.ya;var H=this.ua>>4;var I=0;var L=F,K=this.i+this.K-1,N=this.K,J=0<this.K?1:0;this.Y=0;if(0!==(this.counter&1)){var S=this.Yb;var U=this.ra}else S=this.hb,U=this.ja;0>I&&(I=0);L>F&&(L=F);C.fill(0);G.fill(0);F=I<<4;var V=F+16;for(l=I;l<L;l+=1){var P=
0;var sa=U[l];var X=d[l];var ja=b[l];for(n=0;n<H;n+=1){var na=sa[n]|X[n];var ha=0;if(na)for(p=15;0<=p;--p){if(0!==(na&1<<p)){var Y=D=0;var ea=32768;var da=0;for(I=F;I<V;I+=1){var qa=S[I];var ma=a[I];var T=P<<4;var Q=qa[P];for(r=E=32768;0<r;){var W=f=ma[T];(f<=N||f===K)&&0!==(Q&r)?f=K:(Q&=~r,f>J&&--f);ma[T]=f;f>J&&(da=1,f>N&&(D|=E,Y|=ea),f===K&&(w+=1,W!==K&&(u+=1)));W===K&&f!==K&&(y+=1);E>>=1;T+=1;r>>=1;W=f=ma[T];(f<=N||f===K)&&0!==(Q&r)?f=K:(Q&=~r,f>J&&--f);ma[T]=f;f>J&&(da=1,f>N&&(D|=E,Y|=ea),f===
K&&(w+=1,W!==K&&(u+=1)));W===K&&f!==K&&(y+=1);E>>=1;T+=1;r>>=1;W=f=ma[T];(f<=N||f===K)&&0!==(Q&r)?f=K:(Q&=~r,f>J&&--f);ma[T]=f;f>J&&(da=1,f>N&&(D|=E,Y|=ea),f===K&&(w+=1,W!==K&&(u+=1)));W===K&&f!==K&&(y+=1);E>>=1;T+=1;r>>=1;W=f=ma[T];(f<=N||f===K)&&0!==(Q&r)?f=K:(Q&=~r,f>J&&--f);ma[T]=f;f>J&&(da=1,f>N&&(D|=E,Y|=ea),f===K&&(w+=1,W!==K&&(u+=1)));W===K&&f!==K&&(y+=1);E>>=1;T+=1;r>>=1}qa[P]=Q;this.Y|=Q;ea>>=1}C[P]|=D;G[l]|=Y;da&&(ha|=1<<p)}P+=1}else P+=16;X[n]=ha;ja[n]|=ha}F+=16;V+=16}for(n=0;n<x;n+=1)C[n]&&
(n<c&&(c=n),n>m&&(m=n));for(l=0;l<G.length;l+=1)G[l]&&(l<t&&(t=l),l>e&&(e=l));c=(c<<4)+this.G(C[c]);m=(m<<4)+this.T(C[m]);t=(t<<4)+this.G(G[t]);e=(e<<4)+this.T(G[e]);0>e&&(e=B-1);t>=B&&(t=0);c>=z&&(c=0);0>m&&(m=z-1);e>B-1&&(e=B-1);0>t&&(t=0);0>c&&(c=0);m>z-1&&(m=z-1);A.v=e;A.s=t;A.l=c;A.u=m;this.ia=w;this.Vb=u;this.Gb=y};q.prototype.my=function(){var a=this.S,b=this.Da,d,f,l,n,p;var r=this.ya;var w=this.ua>>4;var u=0;var y=r,z=0<this.K?1:0;0>u&&(u=0);y>r&&(y=r);r=u<<4;var x=r+16;for(d=u;d<y;d+=1){var B=
0;var c=b[d];for(f=0;f<w;f+=1)if(p=c[f])for(l=15;0<=l;--l){if(0!==(p&1<<l))for(u=r;u<x;u+=1){var m=a[u];var e=B<<4;for(n=15;0<=n;--n){var t=m[e];t>z&&(--t,m[e]=t);e+=1}}B+=1}else B+=16;r+=16;x+=16}};q.prototype.re=function(){this.Fa||this.L||this.fa||this.V||(-1===this.i?this.de?this.jB():this.bl?this.LB():this.ZA():this.Y||this.my(),this.uj&&-1===this.i&&(this.hA(),this.Y=this.ia))};q.prototype.KA=function(){var a,b=this.yk,d=this.Da,f,l,n,p=0,r,w=this.ya,u=this.ua>>4;var y=16;for(f=0;f<w;f+=1){var z=
0;var x=d[f];for(l=0;l<u;l+=1)if(r=x[l])for(n=15;0<=n;--n){if(0!==(r&1<<n))for(a=p;a<y;){var B=b[a];var c=z<<3;B[c]&=16448;c+=1;B[c]&=16448;c+=1;B[c]&=16448;c+=1;B[c]&=16448;c+=1;B[c]&=16448;c+=1;B[c]&=16448;c+=1;B[c]&=16448;c+=1;B[c]&=16448;a+=1}z+=1}else z+=16;p+=16;y+=16}};q.prototype.sM=function(){var a=this.Aa,b=this.wa,d=this.M;this.U?this.zM():this.Ne?this.fN():this.HM();if(-1!==this.xa){var f=Math.round((this.width-a)/2);var l=Math.round((this.height-b)/2);a=f+a-1;b=l+b-1;d.l<f&&(d.l=f);d.u>
a&&(d.u=a);d.s<l&&(d.s=l);d.v>b&&(d.v=b)}};q.prototype.Sy=function(){switch(this.Uj){case PatternConstants.Sq:this.LK();break;case PatternConstants.Pq:this.GK();break;case PatternConstants.Ml:this.iK();break;case PatternConstants.Rq:this.BJ()}};q.prototype.BJ=function(){var a=this.$g;var b=a[0],d=a[1],f=a[2],l=this.ge,n=this.Zg,p,r,w=0,u,y,z,x=this.Da,B=this.La,c,m=this.na,e,t=this.gb,A,C,D=0,E=0,G=0,F=this.height,H=this.width,I=H>>4,L=this.M,K=F,N=-1,J=H,S=-1,U=this.ya,V=this.ua>>4,P=this.wd;if(0!==
(this.counter&1)){var sa=this.Ja;var X=this.Ba;var ja=this.S;var na=this.ra;var ha=this.ja}else sa=this.S,X=this.qe,ja=this.Ja,na=this.ja,ha=this.ra;m.fill(0);t.fill(0);var Y=0;var ea=Y+16;ha.Wa.fill(0);for(y=0;y<na.length;y+=1){var da=0;var qa=da+16;var ma=na[y];var T=ha[y];var Q=B[y];var W=x[y];var ia=0<y?ha[y-1]:P;var la=y<U-1?ha[y+1]:P;for(z=0;z<V;z+=1)if(c=ma[z]){var ba=T[z];var M=ia[z];var O=la[z];for(u=15;0<=u;--u){if(0!==(c&1<<u)){var oa=A=e=0;var Z=Y;for(C=32768;Z<ea;){a=sa[Z];var R=ja[Z];
var pa=32768;var ya=da;0===ya?w=0:w=a[ya-1];for(r=a[ya];ya<qa-1;){var wa=w;w=r;r=a[ya+1];var va=b[w];var ka=d[wa];var aa=f[r];var fa=w;for(p=0;p<n;p+=1)if(wa=va[p]&ka[p]&aa[p]){va=0;for(aa=1;!(wa&aa);)va+=1,aa<<=1;fa=l[(p<<5)+va];break}R[ya]=fa;0<fa?(D+=1,0===w&&(E+=1),A|=C,e|=pa):0<w&&(G+=1);pa>>=1;ya+=1}wa=w;w=r;ya===H-1?r=0:r=a[ya+1];va=b[w];ka=d[wa];aa=f[r];fa=w;for(p=0;p<n;p+=1)if(wa=va[p]&ka[p]&aa[p]){va=0;for(aa=1;!(wa&aa);)va+=1,aa<<=1;fa=l[(p<<5)+va];break}R[ya]=fa;0<fa?(D+=1,0===w&&(E+=
1),A|=C,e|=pa):0<w&&(G+=1);Z+=1;C>>=1}m[da>>4]|=e;e&&(ba|=1<<u,A&1&&(oa|=k.yb,e&32768&&(oa|=k.bc),e&1&&(oa|=k.xb)),A&32768&&(oa|=k.Sb,e&32768&&(oa|=k.Wb),e&1&&(oa|=k.Xb)),e&32768&&(oa|=k.Ub),e&1&&(oa|=k.lb),oa&&(0!==(oa&k.Ub)&&(15>u?ba|=1<<u+1:0<z&&0<da&&(T[z-1]|=1)),0!==(oa&k.lb)&&(0<u?ba|=1<<u-1:z<V-1&&da<H-1&&(T[z+1]|=32768)),0!==(oa&k.Sb)&&(M|=1<<u),0!==(oa&k.yb)&&(O|=1<<u),0!==(oa&k.Wb)&&(15>u?M|=1<<u+1:0<z&&0<da&&(ia[z-1]|=1)),0!==(oa&k.Xb)&&(0<u?M|=1<<u-1:z<V-1&&da<H-1&&(ia[z+1]|=32768)),0!==
(oa&k.bc)&&(15>u?O|=1<<u+1:0<z&&0<da&&(la[z-1]|=1)),0!==(oa&k.xb)&&(0<u?O|=1<<u-1:z<V-1&&da<H-1&&(la[z+1]|=32768))));t[y]|=A}da+=16;qa+=16}T[z]|=ba;Q[z]=c|ba;W[z]=W[z]|c|ba;0<y&&(ia[z]|=M);y<U-1&&(la[z]|=O)}else da+=256,qa+=256;Y+=16;ea+=16}for(z=0;z<I;z+=1)m[z]&&(z<J&&(J=z),z>S&&(S=z));for(y=0;y<t.length;y+=1)t[y]&&(y<K&&(K=y),y>N&&(N=y));J=(J<<4)+this.G(m[J]);S=(S<<4)+this.T(m[S]);K=(K<<4)+this.G(t[K]);N=(N<<4)+this.T(t[N]);0>N&&(N=F-1);K>=F&&(K=0);J>=H&&(J=0);0>S&&(S=H-1);N>F-1&&(N=F-1);0>K&&(K=
0);0>J&&(J=0);S>H-1&&(S=H-1);L.v=N;L.s=K;L.l=J;L.u=S;P.fill(0);Y=0;ea=Y+16;for(y=0;y<na.length;y+=1){da=0;ma=na[y];T=ha[y];for(z=0;z<V;z+=1)if(c=ma[z],ba=T[z],c!==ba)for(u=15;0<=u;--u){if((c&1<<u)!==(ba&1<<u)&&0===(ba&1<<u))for(Z=Y;Z<ea;Z+=1)a=X[Z],ya=da>>2,a[ya]=0,a[ya+1]=0,a[ya+2]=0,a[ya+3]=0;da+=16}else da+=256;Y+=16;ea+=16}this.ia=D;this.Vb=E;this.Gb=G;this.Y=D};q.prototype.LK=function(){var a=this.$g;var b=a[0],d=a[1],f=a[2],l=a[3],n=a[4],p=this.ge,r=this.Zg,w,u=0,y,z,x,B=this.Da,c=this.La,m,
e=this.na,t,A=this.gb,C,D,E=0,G=0,F=0,H=this.height,I=this.width,L=I>>4,K=this.M,N=H,J=-1,S=I,U=-1,V=this.ya,P=this.ua>>4,sa=this.wd;if(0!==(this.counter&1)){var X=this.Ja;var ja=this.Ba;var na=this.S;var ha=this.ra;var Y=this.ja}else X=this.S,ja=this.qe,na=this.Ja,ha=this.ja,Y=this.ra;e.fill(0);A.fill(0);var ea=0;var da=ea+16;Y.Wa.fill(0);for(z=0;z<ha.length;z+=1){var qa=0;var ma=qa+16;var T=ha[z];var Q=Y[z];var W=c[z];var ia=B[z];var la=0<z?Y[z-1]:sa;var ba=z<V-1?Y[z+1]:sa;for(x=0;x<P;x+=1)if(m=
T[x]){var M=Q[x];var O=la[x];var oa=ba[x];for(y=15;0<=y;--y){if(0!==(m&1<<y)){var Z=C=t=0;var R=ea;for(D=32768;R<da;){a=0===R?this.wc:X[R-1];var pa=X[R];var ya=R===this.height-1?this.wc:X[R+1];var wa=na[R];var va=32768;var ka=qa;0===ka?u=0:u=pa[ka-1];for(w=pa[ka];ka<ma-1;){var aa=u;u=w;var fa=a[ka];w=pa[ka+1];var ca=ya[ka];var ta=b[u];fa=d[fa];var ua=f[w];var xa=l[ca];var ra=n[aa];var za=u;for(ca=0;ca<r;ca+=1)if(aa=ta[ca]&fa[ca])if(aa&=ua[ca]&xa[ca]&ra[ca]){ta=0;for(fa=1;!(aa&fa);)ta+=1,fa<<=1;za=
p[(ca<<5)+ta];break}wa[ka]=za;0<za?(E+=1,0===u&&(G+=1),C|=D,t|=va):0<u&&(F+=1);va>>=1;ka+=1}aa=u;u=w;fa=a[ka];ka===I-1?w=0:w=pa[ka+1];ca=ya[ka];ta=b[u];fa=d[fa];ua=f[w];xa=l[ca];ra=n[aa];za=u;for(ca=0;ca<r;ca+=1)if(aa=ta[ca]&fa[ca])if(aa&=ua[ca]&xa[ca]&ra[ca]){ta=0;for(fa=1;!(aa&fa);)ta+=1,fa<<=1;za=p[(ca<<5)+ta];break}wa[ka]=za;0<za?(E+=1,0===u&&(G+=1),C|=D,t|=va):0<u&&(F+=1);R+=1;D>>=1}e[qa>>4]|=t;t&&(M|=1<<y,C&1&&(Z|=k.yb,t&32768&&(Z|=k.bc),t&1&&(Z|=k.xb)),C&32768&&(Z|=k.Sb,t&32768&&(Z|=k.Wb),
t&1&&(Z|=k.Xb)),t&32768&&(Z|=k.Ub),t&1&&(Z|=k.lb),Z&&(0!==(Z&k.Ub)&&(15>y?M|=1<<y+1:0<x&&0<qa&&(Q[x-1]|=1)),0!==(Z&k.lb)&&(0<y?M|=1<<y-1:x<P-1&&qa<I-1&&(Q[x+1]|=32768)),0!==(Z&k.Sb)&&(O|=1<<y),0!==(Z&k.yb)&&(oa|=1<<y),0!==(Z&k.Wb)&&(15>y?O|=1<<y+1:0<x&&0<qa&&(la[x-1]|=1)),0!==(Z&k.Xb)&&(0<y?O|=1<<y-1:x<P-1&&qa<I-1&&(la[x+1]|=32768)),0!==(Z&k.bc)&&(15>y?oa|=1<<y+1:0<x&&0<qa&&(ba[x-1]|=1)),0!==(Z&k.xb)&&(0<y?oa|=1<<y-1:x<P-1&&qa<I-1&&(ba[x+1]|=32768))));A[z]|=C}qa+=16;ma+=16}Q[x]|=M;W[x]=m|M;ia[x]=
ia[x]|m|M;0<z&&(la[x]|=O);z<V-1&&(ba[x]|=oa)}else qa+=256,ma+=256;ea+=16;da+=16}for(x=0;x<L;x+=1)e[x]&&(x<S&&(S=x),x>U&&(U=x));for(z=0;z<A.length;z+=1)A[z]&&(z<N&&(N=z),z>J&&(J=z));S=(S<<4)+this.G(e[S]);U=(U<<4)+this.T(e[U]);N=(N<<4)+this.G(A[N]);J=(J<<4)+this.T(A[J]);0>J&&(J=H-1);N>=H&&(N=0);S>=I&&(S=0);0>U&&(U=I-1);J>H-1&&(J=H-1);0>N&&(N=0);0>S&&(S=0);U>I-1&&(U=I-1);K.v=J;K.s=N;K.l=S;K.u=U;sa.fill(0);ea=0;da=ea+16;for(z=0;z<ha.length;z+=1){qa=0;T=ha[z];Q=Y[z];for(x=0;x<P;x+=1)if(m=T[x],M=Q[x],m!==
M)for(y=15;0<=y;--y){if((m&1<<y)!==(M&1<<y)&&0===(M&1<<y))for(R=ea;R<da;R+=1)pa=ja[R],ka=qa>>2,pa[ka]=0,pa[ka+1]=0,pa[ka+2]=0,pa[ka+3]=0;qa+=16}else qa+=256;ea+=16;da+=16}this.ia=E;this.Vb=G;this.Gb=F;this.Y=E};q.prototype.GK=function(){var a=this.$g;var b=a[0],d=a[1],f=a[2],l=a[3],n=a[4],p=a[5],r=a[6],w=a[7],u=a[8],y=this.ge,z=this.Zg,x,B,c,m,e,t,A=this.Da,C=this.La,D,E=this.na,G,F=this.gb,H,I,L=0,K=0,N=0,J=this.height,S=this.width,U=S>>4,V=this.M,P=J,sa=-1,X=S,ja=-1,na=this.ya,ha=this.ua>>4,Y=this.wd;
if(0!==(this.counter&1)){var ea=this.Ja;var da=this.Ba;var qa=this.S;var ma=this.ra;var T=this.ja}else ea=this.S,da=this.qe,qa=this.Ja,ma=this.ja,T=this.ra;E.fill(0);F.fill(0);var Q=0;var W=Q+16;T.Wa.fill(0);for(e=0;e<ma.length;e+=1){var ia=0;var la=ia+16;var ba=ma[e];var M=T[e];var O=C[e];var oa=A[e];var Z=0<e?T[e-1]:Y;var R=e<na-1?T[e+1]:Y;for(t=0;t<ha;t+=1)if(D=ba[t]){var pa=M[t];var ya=Z[t];var wa=R[t];for(m=15;0<=m;--m){if(0!==(D&1<<m)){var va=H=G=0;var ka=Q;for(I=32768;ka<W;){a=0===ka?this.wc:
ea[ka-1];var aa=ea[ka];var fa=ka===this.height-1?this.wc:ea[ka+1];var ca=qa[ka];var ta=32768;var ua=ia;if(0===ua)var xa=c=x=0;else x=a[ua-1],c=fa[ua-1],xa=aa[ua-1];var ra=a[ua];var za=fa[ua];for(B=aa[ua];ua<la-1;){var Ea=x;x=ra;ra=a[ua+1];var Da=xa;xa=B;B=aa[ua+1];var Ia=c;c=za;za=fa[ua+1];var Ha=xa;var Ka=b[xa];var Fa=d[x];var Ja=f[ra];var La=l[B];var Ma=n[za];var Aa=p[c];Ia=r[Ia];var Ba=w[Da];var Ca=u[Ea];for(Da=0;Da<z;Da+=1)if(Ea=Ka[Da]&Fa[Da])if(Ea&=Ja[Da]&La[Da])if(Ea&=Ma[Da]&Aa[Da])if(Ea&=Ia[Da]&
Ba[Da]&Ca[Da]){Fa=0;for(Ja=1;!(Ea&Ja);)Fa+=1,Ja<<=1;Ha=y[(Da<<5)+Fa];break}ca[ua]=Ha;0<Ha?(L+=1,0===xa&&(K+=1),H|=I,G|=ta):0<xa&&(N+=1);ta>>=1;ua+=1}Ea=x;x=ra;Da=xa;xa=B;Ia=c;c=za;ua===S-1?za=B=ra=0:(ra=a[ua+1],B=aa[ua+1],za=fa[ua+1]);Ka=b[xa];Fa=d[x];Ja=f[ra];La=l[B];Ma=n[za];Aa=p[c];Ia=r[Ia];Ba=w[Da];Ca=u[Ea];Ha=xa;for(Da=0;Da<z;Da+=1)if(Ea=Ka[Da]&Fa[Da])if(Ea&=Ja[Da]&La[Da])if(Ea&=Ma[Da]&Aa[Da])if(Ea&=Ia[Da]&Ba[Da]&Ca[Da]){Fa=0;for(Ja=1;!(Ea&Ja);)Fa+=1,Ja<<=1;Ha=y[(Da<<5)+Fa];break}ca[ua]=Ha;0<
Ha?(L+=1,0===xa&&(K+=1),H|=I,G|=ta):0<xa&&(N+=1);ka+=1;I>>=1}E[ia>>4]|=G;G&&(pa|=1<<m,H&1&&(va|=k.yb,G&32768&&(va|=k.bc),G&1&&(va|=k.xb)),H&32768&&(va|=k.Sb,G&32768&&(va|=k.Wb),G&1&&(va|=k.Xb)),G&32768&&(va|=k.Ub),G&1&&(va|=k.lb),va&&(0!==(va&k.Ub)&&(15>m?pa|=1<<m+1:0<t&&0<ia&&(M[t-1]|=1)),0!==(va&k.lb)&&(0<m?pa|=1<<m-1:t<ha-1&&ia<S-1&&(M[t+1]|=32768)),0!==(va&k.Sb)&&(ya|=1<<m),0!==(va&k.yb)&&(wa|=1<<m),0!==(va&k.Wb)&&(15>m?ya|=1<<m+1:0<t&&0<ia&&(Z[t-1]|=1)),0!==(va&k.Xb)&&(0<m?ya|=1<<m-1:t<ha-1&&
ia<S-1&&(Z[t+1]|=32768)),0!==(va&k.bc)&&(15>m?wa|=1<<m+1:0<t&&0<ia&&(R[t-1]|=1)),0!==(va&k.xb)&&(0<m?wa|=1<<m-1:t<ha-1&&ia<S-1&&(R[t+1]|=32768))));F[e]|=H}ia+=16;la+=16}M[t]|=pa;O[t]=D|pa;oa[t]=oa[t]|D|pa;0<e&&(Z[t]|=ya);e<na-1&&(R[t]|=wa)}else ia+=256,la+=256;Q+=16;W+=16}for(t=0;t<U;t+=1)E[t]&&(t<X&&(X=t),t>ja&&(ja=t));for(e=0;e<F.length;e+=1)F[e]&&(e<P&&(P=e),e>sa&&(sa=e));X=(X<<4)+this.G(E[X]);ja=(ja<<4)+this.T(E[ja]);P=(P<<4)+this.G(F[P]);sa=(sa<<4)+this.T(F[sa]);0>sa&&(sa=J-1);P>=J&&(P=0);X>=
S&&(X=0);0>ja&&(ja=S-1);sa>J-1&&(sa=J-1);0>P&&(P=0);0>X&&(X=0);ja>S-1&&(ja=S-1);V.v=sa;V.s=P;V.l=X;V.u=ja;Y.fill(0);Q=0;W=Q+16;for(e=0;e<ma.length;e+=1){ia=0;ba=ma[e];M=T[e];for(t=0;t<ha;t+=1)if(D=ba[t],pa=M[t],D!==pa)for(m=15;0<=m;--m){if((D&1<<m)!==(pa&1<<m)&&0===(pa&1<<m))for(ka=Q;ka<W;ka+=1)aa=da[ka],ua=ia>>2,aa[ua]=0,aa[ua+1]=0,aa[ua+2]=0,aa[ua+3]=0;ia+=16}else ia+=256;Q+=16;W+=16}this.ia=L;this.Vb=K;this.Gb=N;this.Y=L};q.prototype.iK=function(){var a=this.$g;var b=a[0],d=a[1],f=a[2],l=a[3],
n=a[4],p=a[5],r=a[6],w=this.ge,u=this.Zg,y,z,x,B,c,m=this.Da,e=this.La,t,A=this.na,C,D=this.gb,E,G,F=0,H=0,I=0,L=this.height,K=this.width,N=K>>4,J=this.M,S=L,U=-1,V=K,P=-1,sa=this.ya,X=this.ua>>4,ja=this.wd;if(0!==(this.counter&1)){var na=this.Ja;var ha=this.Ba;var Y=this.S;var ea=this.ra;var da=this.ja}else na=this.S,ha=this.qe,Y=this.Ja,ea=this.ja,da=this.ra;A.fill(0);D.fill(0);var qa=0;var ma=qa+16;da.Wa.fill(0);for(B=0;B<ea.length;B+=1){var T=0;var Q=T+16;var W=ea[B];var ia=da[B];var la=e[B];
var ba=m[B];var M=0<B?da[B-1]:ja;var O=B<sa-1?da[B+1]:ja;for(c=0;c<X;c+=1)if(t=W[c]){var oa=ia[c];var Z=M[c];var R=O[c];for(x=15;0<=x;--x){if(0!==(t&1<<x)){var pa=E=C=0;var ya=qa;for(G=32768;ya<ma;){a=0===ya?this.wc:na[ya-1];var wa=na[ya];var va=ya===this.height-1?this.wc:na[ya+1];var ka=Y[ya];var aa=32768;var fa=T;if(0===fa)var ca=y=0;else y=a[fa-1],ca=wa[fa-1];var ta=va[fa];for(z=wa[fa];fa<Q-1;){var ua=y;y=a[fa];var xa=ca;ca=z;z=wa[fa+1];var ra=ta;ta=va[fa+1];var za=b[ca];var Ea=d[y];var Da=f[z];
var Ia=l[ta];ra=n[ra];var Ha=p[xa];var Ka=r[ua];var Fa=ca;for(xa=0;xa<u;xa+=1)if(ua=za[xa]&Ea[xa])if(ua&=Da[xa]&Ia[xa])if(ua&=ra[xa]&Ha[xa]&Ka[xa]){Ea=0;for(Da=1;!(ua&Da);)Ea+=1,Da<<=1;Fa=w[(xa<<5)+Ea];break}ka[fa]=Fa;0<Fa?(F+=1,0===ca&&(H+=1),E|=G,C|=aa):0<ca&&(I+=1);aa>>=1;fa+=1}ua=y;y=a[fa];xa=ca;ca=z;ra=ta;fa===K-1?ta=z=0:(z=wa[fa+1],ta=va[fa+1]);za=b[ca];Ea=d[y];Da=f[z];Ia=l[ta];ra=n[ra];Ha=p[xa];Ka=r[ua];Fa=ca;for(xa=0;xa<u;xa+=1)if(ua=za[xa]&Ea[xa])if(ua&=Da[xa]&Ia[xa])if(ua&=ra[xa]&Ha[xa]&
Ka[xa]){Ea=0;for(Da=1;!(ua&Da);)Ea+=1,Da<<=1;Fa=w[(xa<<5)+Ea];break}ka[fa]=Fa;0<Fa?(F+=1,0===ca&&(H+=1),E|=G,C|=aa):0<ca&&(I+=1);ya+=1;G>>=1}A[T>>4]|=C;C&&(oa|=1<<x,E&1&&(pa|=k.yb,C&32768&&(pa|=k.bc),C&1&&(pa|=k.xb)),E&32768&&(pa|=k.Sb,C&32768&&(pa|=k.Wb),C&1&&(pa|=k.Xb)),C&32768&&(pa|=k.Ub),C&1&&(pa|=k.lb),pa&&(0!==(pa&k.Ub)&&(15>x?oa|=1<<x+1:0<c&&0<T&&(ia[c-1]|=1)),0!==(pa&k.lb)&&(0<x?oa|=1<<x-1:c<X-1&&T<K-1&&(ia[c+1]|=32768)),0!==(pa&k.Sb)&&(Z|=1<<x),0!==(pa&k.yb)&&(R|=1<<x),0!==(pa&k.Wb)&&(15>
x?Z|=1<<x+1:0<c&&0<T&&(M[c-1]|=1)),0!==(pa&k.Xb)&&(0<x?Z|=1<<x-1:c<X-1&&T<K-1&&(M[c+1]|=32768)),0!==(pa&k.bc)&&(15>x?R|=1<<x+1:0<c&&0<T&&(O[c-1]|=1)),0!==(pa&k.xb)&&(0<x?R|=1<<x-1:c<X-1&&T<K-1&&(O[c+1]|=32768))));D[B]|=E}T+=16;Q+=16}ia[c]|=oa;la[c]=t|oa;ba[c]=ba[c]|t|oa;0<B&&(M[c]|=Z);B<sa-1&&(O[c]|=R)}else T+=256,Q+=256;qa+=16;ma+=16}for(c=0;c<N;c+=1)A[c]&&(c<V&&(V=c),c>P&&(P=c));for(B=0;B<D.length;B+=1)D[B]&&(B<S&&(S=B),B>U&&(U=B));V=(V<<4)+this.G(A[V]);P=(P<<4)+this.T(A[P]);S=(S<<4)+this.G(D[S]);
U=(U<<4)+this.T(D[U]);0>U&&(U=L-1);S>=L&&(S=0);V>=K&&(V=0);0>P&&(P=K-1);U>L-1&&(U=L-1);0>S&&(S=0);0>V&&(V=0);P>K-1&&(P=K-1);J.v=U;J.s=S;J.l=V;J.u=P;ja.fill(0);qa=0;ma=qa+16;for(B=0;B<ea.length;B+=1){T=0;W=ea[B];ia=da[B];for(c=0;c<X;c+=1)if(t=W[c],oa=ia[c],t!==oa)for(x=15;0<=x;--x){if((t&1<<x)!==(oa&1<<x)&&0===(oa&1<<x))for(ya=qa;ya<ma;ya+=1)wa=ha[ya],fa=T>>2,wa[fa]=0,wa[fa+1]=0,wa[fa+2]=0,wa[fa+3]=0;T+=16}else T+=256;qa+=16;ma+=16}this.ia=F;this.Vb=H;this.Gb=I;this.Y=F};q.prototype.WK=function(){if(4===
this.Dg)if(null!==this.Wd)switch(this.zu){case 1:this.PL();break;case 2:this.QL();break;case 3:this.ZL();break;case 4:this.fM();break;default:this.ru()}else this.ru();else this.CL()};q.prototype.ru=function(){var a=this.Uk,b=this.Vk,d=this.Nl,f=0,l,n,p,r=this.Da,w=this.La,u,y=this.ze,z=this.na,x,B=this.gb,c,m=0,e=0,t=0,A=this.height,C=this.width,D=C>>4,E=this.M,G=A,F=-1,H=C,I=-1,L=this.ya,K=this.ua>>4,N=this.wd;if(0!==(this.counter&1)){var J=this.Ja;var S=this.Ba;var U=this.qe;var V=this.ra;var P=
this.ja}else J=this.S,S=this.qe,U=this.Ba,V=this.ja,P=this.ra;z.fill(0);B.fill(0);var sa=0;var X=sa+16;P.Wa.fill(0);for(n=0;n<V.length;n+=1){var ja=0;var na=V[n];var ha=P[n];var Y=w[n];var ea=r[n];var da=y[n];var qa=0<n?P[n-1]:N;var ma=n<L-1?P[n+1]:N;for(p=0;p<K;p+=1)if(u=na[p]){var T=ha[p];var Q=qa[p];var W=ma[p];var ia=da[p];for(l=15;0<=l;--l){if(0!==(u&1<<l)){var la=c=x=0;var ba=sa;var M=32768;var O=0;if(0!==(ia&1<<l)){for(;ba<X;){var oa=ba===sa||ba===X-1?!0:!1;var Z=0===ba?this.wc:J[ba-1];var R=
J[ba];var pa=ba===this.height-1?this.wc:J[ba+1];var ya=U[ba];var wa=32768;var va=0;var ka=ja;0===ka?f=0:f=R[ka-1];var aa=R[ka];var fa=f;f=aa;var ca=Z[ka];aa=R[ka+1];var ta=pa[ka];var ua=ca=b[a[a[a[a[d+ca]+fa]+aa]+ta]+f];O|=ca-f;0<ca?(m+=1,0===f&&(e+=1),va|=wa):0<f&&(t+=1);wa>>=1;ka+=1;oa?(fa=f,f=aa,ca=Z[ka],aa=R[ka+1],ta=pa[ka],ca=b[a[a[a[a[d+ca]+fa]+aa]+ta]+f],ua|=ca<<8,O|=ca-f,0<ca?(m+=1,0===f&&(e+=1),va|=wa):0<f&&(t+=1),wa>>=1,ka+=1,fa=f,f=aa,ca=Z[ka],aa=R[ka+1],ta=pa[ka],ca=b[a[a[a[a[d+ca]+fa]+
aa]+ta]+f],ua|=ca<<16,O|=ca-f,0<ca?(m+=1,0===f&&(e+=1),va|=wa):0<f&&(t+=1),wa>>=1,ka+=1,fa=f,f=aa,ca=Z[ka],aa=R[ka+1],ta=pa[ka],ca=b[a[a[a[a[d+ca]+fa]+aa]+ta]+f],ua|=ca<<24,ya[ka>>2]=ua,O|=ca-f,0<ca?(m+=1,0===f&&(e+=1),va|=wa):0<f&&(t+=1),wa>>=1,ka+=1,fa=f,f=aa,ca=Z[ka],aa=R[ka+1],ta=pa[ka],ua=ca=b[a[a[a[a[d+ca]+fa]+aa]+ta]+f],O|=ca-f,0<ca?(m+=1,0===f&&(e+=1),va|=wa):0<f&&(t+=1),wa>>=1,ka+=1,fa=f,f=aa,ca=Z[ka],aa=R[ka+1],ta=pa[ka],ca=b[a[a[a[a[d+ca]+fa]+aa]+ta]+f],ua|=ca<<8,O|=ca-f,0<ca?(m+=1,0===
f&&(e+=1),va|=wa):0<f&&(t+=1),wa>>=1,ka+=1,fa=f,f=aa,ca=Z[ka],aa=R[ka+1],ta=pa[ka],ca=b[a[a[a[a[d+ca]+fa]+aa]+ta]+f],ua|=ca<<16,O|=ca-f,0<ca?(m+=1,0===f&&(e+=1),va|=wa):0<f&&(t+=1),wa>>=1,ka+=1,fa=f,f=aa,ca=Z[ka],aa=R[ka+1],ta=pa[ka],ca=b[a[a[a[a[d+ca]+fa]+aa]+ta]+f],ua|=ca<<24,ya[ka>>2]=ua,O|=ca-f,0<ca?(m+=1,0===f&&(e+=1),va|=wa):0<f&&(t+=1),wa>>=1,ka+=1,fa=f,f=aa,ca=Z[ka],aa=R[ka+1],ta=pa[ka],ua=ca=b[a[a[a[a[d+ca]+fa]+aa]+ta]+f],O|=ca-f,0<ca?(m+=1,0===f&&(e+=1),va|=wa):0<f&&(t+=1),wa>>=1,ka+=1,
fa=f,f=aa,ca=Z[ka],aa=R[ka+1],ta=pa[ka],ca=b[a[a[a[a[d+ca]+fa]+aa]+ta]+f],ua|=ca<<8,O|=ca-f,0<ca?(m+=1,0===f&&(e+=1),va|=wa):0<f&&(t+=1),wa>>=1,ka+=1,fa=f,f=aa,ca=Z[ka],aa=R[ka+1],ta=pa[ka],ca=b[a[a[a[a[d+ca]+fa]+aa]+ta]+f],ua|=ca<<16,O|=ca-f,0<ca?(m+=1,0===f&&(e+=1),va|=wa):0<f&&(t+=1),wa>>=1,ka+=1,fa=f,f=aa,ca=Z[ka],aa=R[ka+1],ta=pa[ka],ca=b[a[a[a[a[d+ca]+fa]+aa]+ta]+f],ua|=ca<<24,ya[ka>>2]=ua,O|=ca-f,0<ca?(m+=1,0===f&&(e+=1),va|=wa):0<f&&(t+=1),wa>>=1,ka+=1,fa=f,f=aa,ca=Z[ka],aa=R[ka+1],ta=pa[ka],
ua=ca=b[a[a[a[a[d+ca]+fa]+aa]+ta]+f],O|=ca-f,0<ca?(m+=1,0===f&&(e+=1),va|=wa):0<f&&(t+=1),wa>>=1,ka+=1,fa=f,f=aa,ca=Z[ka],aa=R[ka+1],ta=pa[ka],ca=b[a[a[a[a[d+ca]+fa]+aa]+ta]+f],ua|=ca<<8,O|=ca-f,0<ca?(m+=1,0===f&&(e+=1),va|=wa):0<f&&(t+=1),wa>>=1,ka+=1,fa=f,f=aa,ca=Z[ka],aa=R[ka+1],ta=pa[ka],ca=b[a[a[a[a[d+ca]+fa]+aa]+ta]+f],ua|=ca<<16,O|=ca-f,0<ca?(m+=1,0===f&&(e+=1),va|=wa):0<f&&(t+=1)):(ca=R[ka],ua|=ca<<8,0<ca&&(m+=1,va|=wa),wa>>=1,ka+=1,ca=R[ka],ua|=ca<<16,0<ca&&(m+=1,va|=wa),wa>>=1,ka+=1,ca=
R[ka],ua|=ca<<24,ya[ka>>2]=ua,0<ca&&(m+=1,va|=wa),wa>>=1,ka+=1,0<R[ka]&&(m+=1,va|=wa),wa>>=1,ka+=1,0<R[ka]&&(m+=1,va|=wa),wa>>=1,ka+=1,0<R[ka]&&(m+=1,va|=wa),wa>>=1,ka+=1,0<R[ka]&&(m+=1,va|=wa),wa>>=1,ka+=1,0<R[ka]&&(m+=1,va|=wa),wa>>=1,ka+=1,0<R[ka]&&(m+=1,va|=wa),wa>>=1,ka+=1,0<R[ka]&&(m+=1,va|=wa),wa>>=1,ka+=1,0<R[ka]&&(m+=1,va|=wa),wa>>=1,ka+=1,ua=ca=R[ka],0<ca&&(m+=1,va|=wa),wa>>=1,ka+=1,ca=R[ka],ua|=ca<<8,0<ca&&(m+=1,va|=wa),wa>>=1,ka+=1,f=R[ka],ua|=f<<16,aa=R[ka+1],0<f&&(m+=1,va|=wa));wa>>=
1;ka+=1;fa=f;f=aa;ca=Z[ka];ka===C-1?aa=0:aa=R[ka+1];ta=pa[ka];ca=b[a[a[a[a[d+ca]+fa]+aa]+ta]+f];ua|=ca<<24;ya[ka>>2]=ua;O|=ca-f;0<ca?(m+=1,0===f&&(e+=1),va|=wa):0<f&&(t+=1);va&&(x|=va,c|=M);ba+=1;M>>=1}0!==O&&(ia&=~(1<<l))}else{for(;ba<X;)Z=0===ba?this.wc:J[ba-1],R=J[ba],pa=ba===this.height-1?this.wc:J[ba+1],ya=U[ba],wa=32768,va=0,ka=ja,0===ka?f=0:f=R[ka-1],aa=R[ka],fa=f,f=aa,ca=Z[ka],aa=R[ka+1],ta=pa[ka],ua=ca=b[a[a[a[a[d+ca]+fa]+aa]+ta]+f],O|=ca-f,0<ca?(m+=1,0===f&&(e+=1),va|=wa):0<f&&(t+=1),wa>>=
1,ka+=1,fa=f,f=aa,ca=Z[ka],aa=R[ka+1],ta=pa[ka],ca=b[a[a[a[a[d+ca]+fa]+aa]+ta]+f],ua|=ca<<8,O|=ca-f,0<ca?(m+=1,0===f&&(e+=1),va|=wa):0<f&&(t+=1),wa>>=1,ka+=1,fa=f,f=aa,ca=Z[ka],aa=R[ka+1],ta=pa[ka],ca=b[a[a[a[a[d+ca]+fa]+aa]+ta]+f],ua|=ca<<16,O|=ca-f,0<ca?(m+=1,0===f&&(e+=1),va|=wa):0<f&&(t+=1),wa>>=1,ka+=1,fa=f,f=aa,ca=Z[ka],aa=R[ka+1],ta=pa[ka],ca=b[a[a[a[a[d+ca]+fa]+aa]+ta]+f],ua|=ca<<24,ya[ka>>2]=ua,O|=ca-f,0<ca?(m+=1,0===f&&(e+=1),va|=wa):0<f&&(t+=1),wa>>=1,ka+=1,fa=f,f=aa,ca=Z[ka],aa=R[ka+1],
ta=pa[ka],ua=ca=b[a[a[a[a[d+ca]+fa]+aa]+ta]+f],O|=ca-f,0<ca?(m+=1,0===f&&(e+=1),va|=wa):0<f&&(t+=1),wa>>=1,ka+=1,fa=f,f=aa,ca=Z[ka],aa=R[ka+1],ta=pa[ka],ca=b[a[a[a[a[d+ca]+fa]+aa]+ta]+f],ua|=ca<<8,O|=ca-f,0<ca?(m+=1,0===f&&(e+=1),va|=wa):0<f&&(t+=1),wa>>=1,ka+=1,fa=f,f=aa,ca=Z[ka],aa=R[ka+1],ta=pa[ka],ca=b[a[a[a[a[d+ca]+fa]+aa]+ta]+f],ua|=ca<<16,O|=ca-f,0<ca?(m+=1,0===f&&(e+=1),va|=wa):0<f&&(t+=1),wa>>=1,ka+=1,fa=f,f=aa,ca=Z[ka],aa=R[ka+1],ta=pa[ka],ca=b[a[a[a[a[d+ca]+fa]+aa]+ta]+f],ua|=ca<<24,ya[ka>>
2]=ua,O|=ca-f,0<ca?(m+=1,0===f&&(e+=1),va|=wa):0<f&&(t+=1),wa>>=1,ka+=1,fa=f,f=aa,ca=Z[ka],aa=R[ka+1],ta=pa[ka],ua=ca=b[a[a[a[a[d+ca]+fa]+aa]+ta]+f],O|=ca-f,0<ca?(m+=1,0===f&&(e+=1),va|=wa):0<f&&(t+=1),wa>>=1,ka+=1,fa=f,f=aa,ca=Z[ka],aa=R[ka+1],ta=pa[ka],ca=b[a[a[a[a[d+ca]+fa]+aa]+ta]+f],ua|=ca<<8,O|=ca-f,0<ca?(m+=1,0===f&&(e+=1),va|=wa):0<f&&(t+=1),wa>>=1,ka+=1,fa=f,f=aa,ca=Z[ka],aa=R[ka+1],ta=pa[ka],ca=b[a[a[a[a[d+ca]+fa]+aa]+ta]+f],ua|=ca<<16,O|=ca-f,0<ca?(m+=1,0===f&&(e+=1),va|=wa):0<f&&(t+=1),
wa>>=1,ka+=1,fa=f,f=aa,ca=Z[ka],aa=R[ka+1],ta=pa[ka],ca=b[a[a[a[a[d+ca]+fa]+aa]+ta]+f],ua|=ca<<24,ya[ka>>2]=ua,O|=ca-f,0<ca?(m+=1,0===f&&(e+=1),va|=wa):0<f&&(t+=1),wa>>=1,ka+=1,fa=f,f=aa,ca=Z[ka],aa=R[ka+1],ta=pa[ka],ua=ca=b[a[a[a[a[d+ca]+fa]+aa]+ta]+f],O|=ca-f,0<ca?(m+=1,0===f&&(e+=1),va|=wa):0<f&&(t+=1),wa>>=1,ka+=1,fa=f,f=aa,ca=Z[ka],aa=R[ka+1],ta=pa[ka],ca=b[a[a[a[a[d+ca]+fa]+aa]+ta]+f],ua|=ca<<8,O|=ca-f,0<ca?(m+=1,0===f&&(e+=1),va|=wa):0<f&&(t+=1),wa>>=1,ka+=1,fa=f,f=aa,ca=Z[ka],aa=R[ka+1],ta=
pa[ka],ca=b[a[a[a[a[d+ca]+fa]+aa]+ta]+f],ua|=ca<<16,O|=ca-f,0<ca?(m+=1,0===f&&(e+=1),va|=wa):0<f&&(t+=1),wa>>=1,ka+=1,fa=f,f=aa,ca=Z[ka],ka===C-1?aa=0:aa=R[ka+1],ta=pa[ka],ca=b[a[a[a[a[d+ca]+fa]+aa]+ta]+f],ua|=ca<<24,ya[ka>>2]=ua,O|=ca-f,0<ca?(m+=1,0===f&&(e+=1),va|=wa):0<f&&(t+=1),va&&(x|=va,c|=M),ba+=1,M>>=1;0===O&&x&&(ia|=1<<l)}z[ja>>4]|=x;x&&(T|=1<<l,c&1&&(la|=k.yb,x&32768&&(la|=k.bc),x&1&&(la|=k.xb)),c&32768&&(la|=k.Sb,x&32768&&(la|=k.Wb),x&1&&(la|=k.Xb)),x&32768&&(la|=k.Ub),x&1&&(la|=k.lb),
la&&(0!==(la&k.Ub)&&(15>l?T|=1<<l+1:0<p&&0<ja&&(ha[p-1]|=1)),0!==(la&k.lb)&&(0<l?T|=1<<l-1:p<K-1&&ja<C-1&&(ha[p+1]|=32768)),0!==(la&k.Sb)&&(Q|=1<<l),0!==(la&k.yb)&&(W|=1<<l),0!==(la&k.Wb)&&(15>l?Q|=1<<l+1:0<p&&0<ja&&(qa[p-1]|=1)),0!==(la&k.Xb)&&(0<l?Q|=1<<l-1:p<K-1&&ja<C-1&&(qa[p+1]|=32768)),0!==(la&k.bc)&&(15>l?W|=1<<l+1:0<p&&0<ja&&(ma[p-1]|=1)),0!==(la&k.xb)&&(0<l?W|=1<<l-1:p<K-1&&ja<C-1&&(ma[p+1]|=32768))));B[n]|=c}ja+=16}ha[p]|=T;da[p]=ia;Y[p]=u|T;ea[p]=ea[p]|u|T;0<n&&(qa[p]|=Q);n<L-1&&(ma[p]|=
W)}else ja+=256;sa+=16;X+=16}for(p=0;p<D;p+=1)z[p]&&(p<H&&(H=p),p>I&&(I=p));for(n=0;n<B.length;n+=1)B[n]&&(n<G&&(G=n),n>F&&(F=n));H=(H<<4)+this.G(z[H]);I=(I<<4)+this.T(z[I]);G=(G<<4)+this.G(B[G]);F=(F<<4)+this.T(B[F]);0>F&&(F=A-1);G>=A&&(G=0);H>=C&&(H=0);0>I&&(I=C-1);F>A-1&&(F=A-1);0>G&&(G=0);0>H&&(H=0);I>C-1&&(I=C-1);E.v=F;E.s=G;E.l=H;E.u=I;N.fill(0);sa=0;X=sa+16;for(n=0;n<V.length;n+=1){ja=0;na=V[n];ha=P[n];for(p=0;p<K;p+=1)if(u=na[p],T=ha[p],u!==T)for(l=15;0<=l;--l){if((u&1<<l)!==(T&1<<l)&&0===
(T&1<<l))for(ba=sa;ba<X;ba+=1)R=S[ba],ka=ja>>2,R[ka]=0,R[ka+1]=0,R[ka+2]=0,R[ka+3]=0;ja+=16}else ja+=256;sa+=16;X+=16}this.ia=m;this.Vb=e;this.Gb=t;this.Y=m};q.prototype.CL=function(){var a=this.Uk,b=this.Vk,d=this.Nl,f,l,n,p,r,w=this.Da,u=this.La,y,z=this.ze,x=this.na,B,c=this.gb,m,e=0,t=0,A=0,C=this.height,D=this.width,E=D>>4,G=this.M,F=C,H=-1,I=D,L=-1,K=this.ya,N=this.ua>>4,J=this.wd;if(0!==(this.counter&1)){var S=this.Ja;var U=this.Ba;var V=this.S;var P=this.ra;var sa=this.ja}else S=this.S,U=
this.qe,V=this.Ja,P=this.ja,sa=this.ra;x.fill(0);c.fill(0);var X=0;var ja=X+16;sa.Wa.fill(0);for(p=0;p<P.length;p+=1){var na=0;var ha=P[p];var Y=sa[p];var ea=u[p];var da=w[p];var qa=z[p];var ma=0<p?sa[p-1]:J;var T=p<K-1?sa[p+1]:J;for(r=0;r<N;r+=1)if(y=ha[r]){var Q=Y[r];var W=ma[r];var ia=T[r];var la=qa[r];for(n=15;0<=n;--n){if(0!==(y&1<<n)){var ba=m=B=0;var M=X;var O=32768;var oa=0;if(0!==(la&1<<n)){for(;M<ja;){var Z=M===X||M===ja-1?!0:!1;var R=0===M?this.wc:S[M-1];var pa=S[M];var ya=M===this.height-
1?this.wc:S[M+1];var wa=V[M];var va=32768;var ka=0;var aa=na;if(0===aa)var fa=l=f=0;else f=R[aa-1],l=ya[aa-1],fa=pa[aa-1];var ca=R[aa];var ta=ya[aa];var ua=pa[aa];var xa=f;f=ca;ca=R[aa+1];var ra=fa;fa=ua;ua=pa[aa+1];var za=l;l=ta;ta=ya[aa+1];ra=b[a[a[a[a[a[a[a[a[d+xa]+ca]+za]+ta]+f]+ra]+ua]+l]+fa];oa|=ra-fa;wa[aa]=ra;0<ra?(e+=1,0===fa&&(t+=1),ka|=va):0<fa&&(A+=1);va>>=1;aa+=1;Z?(xa=f,f=ca,ca=R[aa+1],ra=fa,fa=ua,ua=pa[aa+1],za=l,l=ta,ta=ya[aa+1],ra=b[a[a[a[a[a[a[a[a[d+xa]+ca]+za]+ta]+f]+ra]+ua]+l]+
fa],oa|=ra-fa,wa[aa]=ra,0<ra?(e+=1,0===fa&&(t+=1),ka|=va):0<fa&&(A+=1),va>>=1,aa+=1,xa=f,f=ca,ca=R[aa+1],ra=fa,fa=ua,ua=pa[aa+1],za=l,l=ta,ta=ya[aa+1],ra=b[a[a[a[a[a[a[a[a[d+xa]+ca]+za]+ta]+f]+ra]+ua]+l]+fa],oa|=ra-fa,wa[aa]=ra,0<ra?(e+=1,0===fa&&(t+=1),ka|=va):0<fa&&(A+=1),va>>=1,aa+=1,xa=f,f=ca,ca=R[aa+1],ra=fa,fa=ua,ua=pa[aa+1],za=l,l=ta,ta=ya[aa+1],ra=b[a[a[a[a[a[a[a[a[d+xa]+ca]+za]+ta]+f]+ra]+ua]+l]+fa],oa|=ra-fa,wa[aa]=ra,0<ra?(e+=1,0===fa&&(t+=1),ka|=va):0<fa&&(A+=1),va>>=1,aa+=1,xa=f,f=ca,
ca=R[aa+1],ra=fa,fa=ua,ua=pa[aa+1],za=l,l=ta,ta=ya[aa+1],ra=b[a[a[a[a[a[a[a[a[d+xa]+ca]+za]+ta]+f]+ra]+ua]+l]+fa],oa|=ra-fa,wa[aa]=ra,0<ra?(e+=1,0===fa&&(t+=1),ka|=va):0<fa&&(A+=1),va>>=1,aa+=1,xa=f,f=ca,ca=R[aa+1],ra=fa,fa=ua,ua=pa[aa+1],za=l,l=ta,ta=ya[aa+1],ra=b[a[a[a[a[a[a[a[a[d+xa]+ca]+za]+ta]+f]+ra]+ua]+l]+fa],oa|=ra-fa,wa[aa]=ra,0<ra?(e+=1,0===fa&&(t+=1),ka|=va):0<fa&&(A+=1),va>>=1,aa+=1,xa=f,f=ca,ca=R[aa+1],ra=fa,fa=ua,ua=pa[aa+1],za=l,l=ta,ta=ya[aa+1],ra=b[a[a[a[a[a[a[a[a[d+xa]+ca]+za]+ta]+
f]+ra]+ua]+l]+fa],oa|=ra-fa,wa[aa]=ra,0<ra?(e+=1,0===fa&&(t+=1),ka|=va):0<fa&&(A+=1),va>>=1,aa+=1,xa=f,f=ca,ca=R[aa+1],ra=fa,fa=ua,ua=pa[aa+1],za=l,l=ta,ta=ya[aa+1],ra=b[a[a[a[a[a[a[a[a[d+xa]+ca]+za]+ta]+f]+ra]+ua]+l]+fa],oa|=ra-fa,wa[aa]=ra,0<ra?(e+=1,0===fa&&(t+=1),ka|=va):0<fa&&(A+=1),va>>=1,aa+=1,xa=f,f=ca,ca=R[aa+1],ra=fa,fa=ua,ua=pa[aa+1],za=l,l=ta,ta=ya[aa+1],ra=b[a[a[a[a[a[a[a[a[d+xa]+ca]+za]+ta]+f]+ra]+ua]+l]+fa],oa|=ra-fa,wa[aa]=ra,0<ra?(e+=1,0===fa&&(t+=1),ka|=va):0<fa&&(A+=1),va>>=1,aa+=
1,xa=f,f=ca,ca=R[aa+1],ra=fa,fa=ua,ua=pa[aa+1],za=l,l=ta,ta=ya[aa+1],ra=b[a[a[a[a[a[a[a[a[d+xa]+ca]+za]+ta]+f]+ra]+ua]+l]+fa],oa|=ra-fa,wa[aa]=ra,0<ra?(e+=1,0===fa&&(t+=1),ka|=va):0<fa&&(A+=1),va>>=1,aa+=1,xa=f,f=ca,ca=R[aa+1],ra=fa,fa=ua,ua=pa[aa+1],za=l,l=ta,ta=ya[aa+1],ra=b[a[a[a[a[a[a[a[a[d+xa]+ca]+za]+ta]+f]+ra]+ua]+l]+fa],oa|=ra-fa,wa[aa]=ra,0<ra?(e+=1,0===fa&&(t+=1),ka|=va):0<fa&&(A+=1),va>>=1,aa+=1,xa=f,f=ca,ca=R[aa+1],ra=fa,fa=ua,ua=pa[aa+1],za=l,l=ta,ta=ya[aa+1],ra=b[a[a[a[a[a[a[a[a[d+xa]+
ca]+za]+ta]+f]+ra]+ua]+l]+fa],oa|=ra-fa,wa[aa]=ra,0<ra?(e+=1,0===fa&&(t+=1),ka|=va):0<fa&&(A+=1),va>>=1,aa+=1,xa=f,f=ca,ca=R[aa+1],ra=fa,fa=ua,ua=pa[aa+1],za=l,l=ta,ta=ya[aa+1],ra=b[a[a[a[a[a[a[a[a[d+xa]+ca]+za]+ta]+f]+ra]+ua]+l]+fa],oa|=ra-fa,wa[aa]=ra,0<ra?(e+=1,0===fa&&(t+=1),ka|=va):0<fa&&(A+=1),va>>=1,aa+=1,xa=f,f=ca,ca=R[aa+1],ra=fa,fa=ua,ua=pa[aa+1],za=l,l=ta,ta=ya[aa+1],ra=b[a[a[a[a[a[a[a[a[d+xa]+ca]+za]+ta]+f]+ra]+ua]+l]+fa],oa|=ra-fa,wa[aa]=ra,0<ra?(e+=1,0===fa&&(t+=1),ka|=va):0<fa&&(A+=
1),va>>=1,aa+=1,xa=f,f=ca,ca=R[aa+1],ra=fa,fa=ua,ua=pa[aa+1],za=l,l=ta,ta=ya[aa+1],ra=b[a[a[a[a[a[a[a[a[d+xa]+ca]+za]+ta]+f]+ra]+ua]+l]+fa],oa|=ra-fa,wa[aa]=ra,0<ra?(e+=1,0===fa&&(t+=1),ka|=va):0<fa&&(A+=1)):(0<pa[aa]&&(e+=1,ka|=va),va>>=1,aa+=1,0<pa[aa]&&(e+=1,ka|=va),va>>=1,aa+=1,0<pa[aa]&&(e+=1,ka|=va),va>>=1,aa+=1,0<pa[aa]&&(e+=1,ka|=va),va>>=1,aa+=1,0<pa[aa]&&(e+=1,ka|=va),va>>=1,aa+=1,0<pa[aa]&&(e+=1,ka|=va),va>>=1,aa+=1,0<pa[aa]&&(e+=1,ka|=va),va>>=1,aa+=1,0<pa[aa]&&(e+=1,ka|=va),va>>=1,aa+=
1,0<pa[aa]&&(e+=1,ka|=va),va>>=1,aa+=1,0<pa[aa]&&(e+=1,ka|=va),va>>=1,aa+=1,0<pa[aa]&&(e+=1,ka|=va),va>>=1,aa+=1,0<pa[aa]&&(e+=1,ka|=va),va>>=1,aa+=1,0<pa[aa]&&(e+=1,ka|=va),va>>=1,aa+=1,f=R[aa],fa=pa[aa],l=ya[aa],ca=R[aa+1],ua=pa[aa+1],ta=ya[aa+1],0<fa&&(e+=1,ka|=va));va>>=1;aa+=1;xa=f;f=ca;ra=fa;fa=ua;za=l;l=ta;aa===D-1?ta=ua=ca=0:(ca=R[aa+1],ua=pa[aa+1],ta=ya[aa+1]);ra=b[a[a[a[a[a[a[a[a[d+xa]+ca]+za]+ta]+f]+ra]+ua]+l]+fa];oa|=ra-fa;wa[aa]=ra;0<ra?(e+=1,0===fa&&(t+=1),ka|=va):0<fa&&(A+=1);ka&&(B|=
ka,m|=O);M+=1;O>>=1}0!==oa&&(la&=~(1<<n))}else{for(;M<ja;)R=0===M?this.wc:S[M-1],pa=S[M],ya=M===this.height-1?this.wc:S[M+1],wa=V[M],va=32768,ka=0,aa=na,0===aa?fa=l=f=0:(f=R[aa-1],l=ya[aa-1],fa=pa[aa-1]),ca=R[aa],ta=ya[aa],ua=pa[aa],xa=f,f=ca,ca=R[aa+1],ra=fa,fa=ua,ua=pa[aa+1],za=l,l=ta,ta=ya[aa+1],ra=b[a[a[a[a[a[a[a[a[d+xa]+ca]+za]+ta]+f]+ra]+ua]+l]+fa],oa|=ra-fa,wa[aa]=ra,0<ra?(e+=1,0===fa&&(t+=1),ka|=va):0<fa&&(A+=1),va>>=1,aa+=1,xa=f,f=ca,ca=R[aa+1],ra=fa,fa=ua,ua=pa[aa+1],za=l,l=ta,ta=ya[aa+
1],ra=b[a[a[a[a[a[a[a[a[d+xa]+ca]+za]+ta]+f]+ra]+ua]+l]+fa],oa|=ra-fa,wa[aa]=ra,0<ra?(e+=1,0===fa&&(t+=1),ka|=va):0<fa&&(A+=1),va>>=1,aa+=1,xa=f,f=ca,ca=R[aa+1],ra=fa,fa=ua,ua=pa[aa+1],za=l,l=ta,ta=ya[aa+1],ra=b[a[a[a[a[a[a[a[a[d+xa]+ca]+za]+ta]+f]+ra]+ua]+l]+fa],oa|=ra-fa,wa[aa]=ra,0<ra?(e+=1,0===fa&&(t+=1),ka|=va):0<fa&&(A+=1),va>>=1,aa+=1,xa=f,f=ca,ca=R[aa+1],ra=fa,fa=ua,ua=pa[aa+1],za=l,l=ta,ta=ya[aa+1],ra=b[a[a[a[a[a[a[a[a[d+xa]+ca]+za]+ta]+f]+ra]+ua]+l]+fa],oa|=ra-fa,wa[aa]=ra,0<ra?(e+=1,0===
fa&&(t+=1),ka|=va):0<fa&&(A+=1),va>>=1,aa+=1,xa=f,f=ca,ca=R[aa+1],ra=fa,fa=ua,ua=pa[aa+1],za=l,l=ta,ta=ya[aa+1],ra=b[a[a[a[a[a[a[a[a[d+xa]+ca]+za]+ta]+f]+ra]+ua]+l]+fa],oa|=ra-fa,wa[aa]=ra,0<ra?(e+=1,0===fa&&(t+=1),ka|=va):0<fa&&(A+=1),va>>=1,aa+=1,xa=f,f=ca,ca=R[aa+1],ra=fa,fa=ua,ua=pa[aa+1],za=l,l=ta,ta=ya[aa+1],ra=b[a[a[a[a[a[a[a[a[d+xa]+ca]+za]+ta]+f]+ra]+ua]+l]+fa],oa|=ra-fa,wa[aa]=ra,0<ra?(e+=1,0===fa&&(t+=1),ka|=va):0<fa&&(A+=1),va>>=1,aa+=1,xa=f,f=ca,ca=R[aa+1],ra=fa,fa=ua,ua=pa[aa+1],za=
l,l=ta,ta=ya[aa+1],ra=b[a[a[a[a[a[a[a[a[d+xa]+ca]+za]+ta]+f]+ra]+ua]+l]+fa],oa|=ra-fa,wa[aa]=ra,0<ra?(e+=1,0===fa&&(t+=1),ka|=va):0<fa&&(A+=1),va>>=1,aa+=1,xa=f,f=ca,ca=R[aa+1],ra=fa,fa=ua,ua=pa[aa+1],za=l,l=ta,ta=ya[aa+1],ra=b[a[a[a[a[a[a[a[a[d+xa]+ca]+za]+ta]+f]+ra]+ua]+l]+fa],oa|=ra-fa,wa[aa]=ra,0<ra?(e+=1,0===fa&&(t+=1),ka|=va):0<fa&&(A+=1),va>>=1,aa+=1,xa=f,f=ca,ca=R[aa+1],ra=fa,fa=ua,ua=pa[aa+1],za=l,l=ta,ta=ya[aa+1],ra=b[a[a[a[a[a[a[a[a[d+xa]+ca]+za]+ta]+f]+ra]+ua]+l]+fa],oa|=ra-fa,wa[aa]=
ra,0<ra?(e+=1,0===fa&&(t+=1),ka|=va):0<fa&&(A+=1),va>>=1,aa+=1,xa=f,f=ca,ca=R[aa+1],ra=fa,fa=ua,ua=pa[aa+1],za=l,l=ta,ta=ya[aa+1],ra=b[a[a[a[a[a[a[a[a[d+xa]+ca]+za]+ta]+f]+ra]+ua]+l]+fa],oa|=ra-fa,wa[aa]=ra,0<ra?(e+=1,0===fa&&(t+=1),ka|=va):0<fa&&(A+=1),va>>=1,aa+=1,xa=f,f=ca,ca=R[aa+1],ra=fa,fa=ua,ua=pa[aa+1],za=l,l=ta,ta=ya[aa+1],ra=b[a[a[a[a[a[a[a[a[d+xa]+ca]+za]+ta]+f]+ra]+ua]+l]+fa],oa|=ra-fa,wa[aa]=ra,0<ra?(e+=1,0===fa&&(t+=1),ka|=va):0<fa&&(A+=1),va>>=1,aa+=1,xa=f,f=ca,ca=R[aa+1],ra=fa,fa=
ua,ua=pa[aa+1],za=l,l=ta,ta=ya[aa+1],ra=b[a[a[a[a[a[a[a[a[d+xa]+ca]+za]+ta]+f]+ra]+ua]+l]+fa],oa|=ra-fa,wa[aa]=ra,0<ra?(e+=1,0===fa&&(t+=1),ka|=va):0<fa&&(A+=1),va>>=1,aa+=1,xa=f,f=ca,ca=R[aa+1],ra=fa,fa=ua,ua=pa[aa+1],za=l,l=ta,ta=ya[aa+1],ra=b[a[a[a[a[a[a[a[a[d+xa]+ca]+za]+ta]+f]+ra]+ua]+l]+fa],oa|=ra-fa,wa[aa]=ra,0<ra?(e+=1,0===fa&&(t+=1),ka|=va):0<fa&&(A+=1),va>>=1,aa+=1,xa=f,f=ca,ca=R[aa+1],ra=fa,fa=ua,ua=pa[aa+1],za=l,l=ta,ta=ya[aa+1],ra=b[a[a[a[a[a[a[a[a[d+xa]+ca]+za]+ta]+f]+ra]+ua]+l]+fa],
oa|=ra-fa,wa[aa]=ra,0<ra?(e+=1,0===fa&&(t+=1),ka|=va):0<fa&&(A+=1),va>>=1,aa+=1,xa=f,f=ca,ca=R[aa+1],ra=fa,fa=ua,ua=pa[aa+1],za=l,l=ta,ta=ya[aa+1],ra=b[a[a[a[a[a[a[a[a[d+xa]+ca]+za]+ta]+f]+ra]+ua]+l]+fa],oa|=ra-fa,wa[aa]=ra,0<ra?(e+=1,0===fa&&(t+=1),ka|=va):0<fa&&(A+=1),va>>=1,aa+=1,xa=f,f=ca,ra=fa,fa=ua,za=l,l=ta,aa===D-1?ta=ua=ca=0:(ca=R[aa+1],ua=pa[aa+1],ta=ya[aa+1]),ra=b[a[a[a[a[a[a[a[a[d+xa]+ca]+za]+ta]+f]+ra]+ua]+l]+fa],oa|=ra-fa,wa[aa]=ra,0<ra?(e+=1,0===fa&&(t+=1),ka|=va):0<fa&&(A+=1),ka&&
(B|=ka,m|=O),M+=1,O>>=1;0===oa&&B&&(la|=1<<n)}x[na>>4]|=B;B&&(Q|=1<<n,m&1&&(ba|=k.yb,B&32768&&(ba|=k.bc),B&1&&(ba|=k.xb)),m&32768&&(ba|=k.Sb,B&32768&&(ba|=k.Wb),B&1&&(ba|=k.Xb)),B&32768&&(ba|=k.Ub),B&1&&(ba|=k.lb),ba&&(0!==(ba&k.Ub)&&(15>n?Q|=1<<n+1:0<r&&0<na&&(Y[r-1]|=1)),0!==(ba&k.lb)&&(0<n?Q|=1<<n-1:r<N-1&&na<D-1&&(Y[r+1]|=32768)),0!==(ba&k.Sb)&&(W|=1<<n),0!==(ba&k.yb)&&(ia|=1<<n),0!==(ba&k.Wb)&&(15>n?W|=1<<n+1:0<r&&0<na&&(ma[r-1]|=1)),0!==(ba&k.Xb)&&(0<n?W|=1<<n-1:r<N-1&&na<D-1&&(ma[r+1]|=32768)),
0!==(ba&k.bc)&&(15>n?ia|=1<<n+1:0<r&&0<na&&(T[r-1]|=1)),0!==(ba&k.xb)&&(0<n?ia|=1<<n-1:r<N-1&&na<D-1&&(T[r+1]|=32768))));c[p]|=m}na+=16}Y[r]|=Q;qa[r]=la;ea[r]=y|Q;da[r]=da[r]|y|Q;0<p&&(ma[r]|=W);p<K-1&&(T[r]|=ia)}else na+=256;X+=16;ja+=16}for(r=0;r<E;r+=1)x[r]&&(r<I&&(I=r),r>L&&(L=r));for(p=0;p<c.length;p+=1)c[p]&&(p<F&&(F=p),p>H&&(H=p));I=(I<<4)+this.G(x[I]);L=(L<<4)+this.T(x[L]);F=(F<<4)+this.G(c[F]);H=(H<<4)+this.T(c[H]);0>H&&(H=C-1);F>=C&&(F=0);I>=D&&(I=0);0>L&&(L=D-1);H>C-1&&(H=C-1);0>F&&(F=
0);0>I&&(I=0);L>D-1&&(L=D-1);G.v=H;G.s=F;G.l=I;G.u=L;J.fill(0);X=0;ja=X+16;for(p=0;p<P.length;p+=1){na=0;ha=P[p];Y=sa[p];for(r=0;r<N;r+=1)if(y=ha[r],Q=Y[r],y!==Q)for(n=15;0<=n;--n){if((y&1<<n)!==(Q&1<<n)&&0===(Q&1<<n))for(M=X;M<ja;M+=1)pa=U[M],aa=na>>2,pa[aa]=0,pa[aa+1]=0,pa[aa+2]=0,pa[aa+3]=0;na+=16}else na+=256;X+=16;ja+=16}this.ia=e;this.Vb=t;this.Gb=A;this.Y=e};q.prototype.PL=function(){var a=this.Wd,b,d,f,l=this.Da,n=this.La,p=null,r=null,w,u=this.na,y,z=this.gb,x,B,c=0,m=0,e=0,t=this.height,
A=this.width,C=A>>4,D=this.M,E=t,G=-1,F=A,H=-1,I=this.ya,L=this.ua>>4,K=this.wd;if(0!==(this.counter&1)){var N=this.Ja;var J=this.Ba;var S=this.qe;var U=this.ra;var V=this.ja}else N=this.S,J=this.qe,S=this.Ba,U=this.ja,V=this.ra;u.fill(0);z.fill(0);var P=0;var sa=P+16;V.Wa.fill(0);for(d=0;d<U.length;d+=1){var X=0;var ja=U[d];var na=V[d];var ha=n[d];var Y=l[d];0<d?p=V[d-1]:p=K;d<I-1?r=V[d+1]:r=K;for(f=0;f<L;f+=1)if(w=ja[f]){var ea=na[f];var da=p[f];var qa=r[f];for(b=15;0<=b;--b){if(0!==(w&1<<b)){var ma=
x=y=0;var T=P;for(B=32768;T<sa;){var Q=0===T?this.wc:N[T-1];var W=N[T];var ia=T===this.height-1?this.wc:N[T+1];var la=S[T];var ba=32768;var M=X;var O=Q[M];var oa=W[M+1];var Z=ia[M];var R=0===M?W[M]<<3|oa<<2|O<<1|Z:W[M-1]<<4|W[M]<<3|oa<<2|O<<1|Z;var pa=a[R];0<pa?(c+=1,0===(R&8)&&(m+=1),x|=B,y|=ba):0!==(R&8)&&(e+=1);ba>>=1;M+=1;O=Q[M];oa=W[M+1];Z=ia[M];R=R<<1&24|oa<<2|O<<1|Z;O=a[R];pa|=O<<8;0<O?(c+=1,0===(R&8)&&(m+=1),x|=B,y|=ba):0!==(R&8)&&(e+=1);ba>>=1;M+=1;O=Q[M];oa=W[M+1];Z=ia[M];R=R<<1&24|oa<<
2|O<<1|Z;O=a[R];pa|=O<<16;0<O?(c+=1,0===(R&8)&&(m+=1),x|=B,y|=ba):0!==(R&8)&&(e+=1);ba>>=1;M+=1;O=Q[M];oa=W[M+1];Z=ia[M];R=R<<1&24|oa<<2|O<<1|Z;O=a[R];pa|=O<<24;la[M>>2]=pa;0<O?(c+=1,0===(R&8)&&(m+=1),x|=B,y|=ba):0!==(R&8)&&(e+=1);ba>>=1;M+=1;O=Q[M];oa=W[M+1];Z=ia[M];R=R<<1&24|oa<<2|O<<1|Z;pa=a[R];0<pa?(c+=1,0===(R&8)&&(m+=1),x|=B,y|=ba):0!==(R&8)&&(e+=1);ba>>=1;M+=1;O=Q[M];oa=W[M+1];Z=ia[M];R=R<<1&24|oa<<2|O<<1|Z;O=a[R];pa|=O<<8;0<O?(c+=1,0===(R&8)&&(m+=1),x|=B,y|=ba):0!==(R&8)&&(e+=1);ba>>=1;M+=
1;O=Q[M];oa=W[M+1];Z=ia[M];R=R<<1&24|oa<<2|O<<1|Z;O=a[R];pa|=O<<16;0<O?(c+=1,0===(R&8)&&(m+=1),x|=B,y|=ba):0!==(R&8)&&(e+=1);ba>>=1;M+=1;O=Q[M];oa=W[M+1];Z=ia[M];R=R<<1&24|oa<<2|O<<1|Z;O=a[R];pa|=O<<24;la[M>>2]=pa;0<O?(c+=1,0===(R&8)&&(m+=1),x|=B,y|=ba):0!==(R&8)&&(e+=1);ba>>=1;M+=1;O=Q[M];oa=W[M+1];Z=ia[M];R=R<<1&24|oa<<2|O<<1|Z;pa=a[R];0<pa?(c+=1,0===(R&8)&&(m+=1),x|=B,y|=ba):0!==(R&8)&&(e+=1);ba>>=1;M+=1;O=Q[M];oa=W[M+1];Z=ia[M];R=R<<1&24|oa<<2|O<<1|Z;O=a[R];pa|=O<<8;0<O?(c+=1,0===(R&8)&&(m+=1),
x|=B,y|=ba):0!==(R&8)&&(e+=1);ba>>=1;M+=1;O=Q[M];oa=W[M+1];Z=ia[M];R=R<<1&24|oa<<2|O<<1|Z;O=a[R];pa|=O<<16;0<O?(c+=1,0===(R&8)&&(m+=1),x|=B,y|=ba):0!==(R&8)&&(e+=1);ba>>=1;M+=1;O=Q[M];oa=W[M+1];Z=ia[M];R=R<<1&24|oa<<2|O<<1|Z;O=a[R];pa|=O<<24;la[M>>2]=pa;0<O?(c+=1,0===(R&8)&&(m+=1),x|=B,y|=ba):0!==(R&8)&&(e+=1);ba>>=1;M+=1;O=Q[M];oa=W[M+1];Z=ia[M];R=R<<1&24|oa<<2|O<<1|Z;pa=a[R];0<pa?(c+=1,0===(R&8)&&(m+=1),x|=B,y|=ba):0!==(R&8)&&(e+=1);ba>>=1;M+=1;O=Q[M];oa=W[M+1];Z=ia[M];R=R<<1&24|oa<<2|O<<1|Z;O=
a[R];pa|=O<<8;0<O?(c+=1,0===(R&8)&&(m+=1),x|=B,y|=ba):0!==(R&8)&&(e+=1);ba>>=1;M+=1;O=Q[M];oa=W[M+1];Z=ia[M];R=R<<1&24|oa<<2|O<<1|Z;O=a[R];pa|=O<<16;0<O?(c+=1,0===(R&8)&&(m+=1),x|=B,y|=ba):0!==(R&8)&&(e+=1);ba>>=1;M+=1;O=Q[M];M===A-1?oa=0:oa=W[M+1];Z=ia[M];R=R<<1&24|oa<<2|O<<1|Z;O=a[R];pa|=O<<24;la[M>>2]=pa;0<O?(c+=1,0===(R&3584)&&(m+=1),x|=B,y|=ba):0!==(R&3584)&&(e+=1);T+=1;B>>=1}u[X>>4]|=y;y&&(ea|=1<<b,x&1&&(ma|=k.yb,y&32768&&(ma|=k.bc),y&1&&(ma|=k.xb)),x&32768&&(ma|=k.Sb,y&32768&&(ma|=k.Wb),y&
1&&(ma|=k.Xb)),y&32768&&(ma|=k.Ub),y&1&&(ma|=k.lb),ma&&(0!==(ma&k.Ub)&&(15>b?ea|=1<<b+1:0<f&&0<X&&(na[f-1]|=1)),0!==(ma&k.lb)&&(0<b?ea|=1<<b-1:f<L-1&&X<A-1&&(na[f+1]|=32768)),0!==(ma&k.Sb)&&(da|=1<<b),0!==(ma&k.yb)&&(qa|=1<<b),0!==(ma&k.Wb)&&(15>b?da|=1<<b+1:0<f&&0<X&&(p[f-1]|=1)),0!==(ma&k.Xb)&&(0<b?da|=1<<b-1:f<L-1&&X<A-1&&(p[f+1]|=32768)),0!==(ma&k.bc)&&(15>b?qa|=1<<b+1:0<f&&0<X&&(r[f-1]|=1)),0!==(ma&k.xb)&&(0<b?qa|=1<<b-1:f<L-1&&X<A-1&&(r[f+1]|=32768))));z[d]|=x}X+=16}na[f]|=ea;ha[f]=w|ea;Y[f]=
Y[f]|w|ea;0<d&&(p[f]|=da);d<I-1&&(r[f]|=qa)}else X+=256;P+=16;sa+=16}for(f=0;f<C;f+=1)u[f]&&(f<F&&(F=f),f>H&&(H=f));for(d=0;d<z.length;d+=1)z[d]&&(d<E&&(E=d),d>G&&(G=d));F=(F<<4)+this.G(u[F]);H=(H<<4)+this.T(u[H]);E=(E<<4)+this.G(z[E]);G=(G<<4)+this.T(z[G]);0>G&&(G=t-1);E>=t&&(E=0);F>=A&&(F=0);0>H&&(H=A-1);G>t-1&&(G=t-1);0>E&&(E=0);0>F&&(F=0);H>A-1&&(H=A-1);D.v=G;D.s=E;D.l=F;D.u=H;K.fill(0);P=0;sa=P+16;for(d=0;d<U.length;d+=1){X=0;ja=U[d];na=V[d];for(f=0;f<L;f+=1)if(w=ja[f],ea=na[f],w!==ea)for(b=
15;0<=b;--b){if((w&1<<b)!==(ea&1<<b)&&0===(ea&1<<b))for(T=P;T<sa;T+=1)W=J[T],M=X>>2,W[M]=0,W[M+1]=0,W[M+2]=0,W[M+3]=0;X+=16}else X+=256;P+=16;sa+=16}this.ia=c;this.Vb=m;this.Gb=e;this.Y=c};q.prototype.QL=function(){var a=this.Wd,b,d,f,l=this.Da,n=this.La,p=null,r=null,w,u=this.na,y,z=this.gb,x,B,c=0,m=0,e=0,t=this.height,A=this.width,C=A>>4,D=this.M,E=t,G=-1,F=A,H=-1,I=this.ya,L=this.ua>>4,K=this.wd;if(0!==(this.counter&1)){var N=this.Ja;var J=this.Ba;var S=this.qe;var U=this.ra;var V=this.ja}else N=
this.S,J=this.qe,S=this.Ba,U=this.ja,V=this.ra;u.fill(0);z.fill(0);var P=0;var sa=P+16;V.Wa.fill(0);for(d=0;d<U.length;d+=1){var X=0;var ja=U[d];var na=V[d];var ha=n[d];var Y=l[d];0<d?p=V[d-1]:p=K;d<I-1?r=V[d+1]:r=K;for(f=0;f<L;f+=1)if(w=ja[f]){var ea=na[f];var da=p[f];var qa=r[f];for(b=15;0<=b;--b){if(0!==(w&1<<b)){var ma=x=y=0;var T=P;for(B=32768;T<sa;){var Q=0===T?this.wc:N[T-1];var W=N[T];var ia=T===this.height-1?this.wc:N[T+1];var la=S[T];var ba=32768;var M=X;var O=Q[M];var oa=W[M+1];var Z=ia[M];
var R=0===M?W[M]<<6|oa<<4|O<<2|Z:W[M-1]<<8|W[M]<<6|oa<<4|O<<2|Z;var pa=a[R];0<pa?(c+=1,0===(R&192)&&(m+=1),x|=B,y|=ba):0!==(R&192)&&(e+=1);ba>>=1;M+=1;O=Q[M];oa=W[M+1];Z=ia[M];R=R<<2&960|oa<<4|O<<2|Z;O=a[R];pa|=O<<8;0<O?(c+=1,0===(R&192)&&(m+=1),x|=B,y|=ba):0!==(R&192)&&(e+=1);ba>>=1;M+=1;O=Q[M];oa=W[M+1];Z=ia[M];R=R<<2&960|oa<<4|O<<2|Z;O=a[R];pa|=O<<16;0<O?(c+=1,0===(R&192)&&(m+=1),x|=B,y|=ba):0!==(R&192)&&(e+=1);ba>>=1;M+=1;O=Q[M];oa=W[M+1];Z=ia[M];R=R<<2&960|oa<<4|O<<2|Z;O=a[R];pa|=O<<24;la[M>>
2]=pa;0<O?(c+=1,0===(R&192)&&(m+=1),x|=B,y|=ba):0!==(R&192)&&(e+=1);ba>>=1;M+=1;O=Q[M];oa=W[M+1];Z=ia[M];R=R<<2&960|oa<<4|O<<2|Z;pa=a[R];0<pa?(c+=1,0===(R&192)&&(m+=1),x|=B,y|=ba):0!==(R&192)&&(e+=1);ba>>=1;M+=1;O=Q[M];oa=W[M+1];Z=ia[M];R=R<<2&960|oa<<4|O<<2|Z;O=a[R];pa|=O<<8;0<O?(c+=1,0===(R&192)&&(m+=1),x|=B,y|=ba):0!==(R&192)&&(e+=1);ba>>=1;M+=1;O=Q[M];oa=W[M+1];Z=ia[M];R=R<<2&960|oa<<4|O<<2|Z;O=a[R];pa|=O<<16;0<O?(c+=1,0===(R&192)&&(m+=1),x|=B,y|=ba):0!==(R&192)&&(e+=1);ba>>=1;M+=1;O=Q[M];oa=
W[M+1];Z=ia[M];R=R<<2&960|oa<<4|O<<2|Z;O=a[R];pa|=O<<24;la[M>>2]=pa;0<O?(c+=1,0===(R&192)&&(m+=1),x|=B,y|=ba):0!==(R&192)&&(e+=1);ba>>=1;M+=1;O=Q[M];oa=W[M+1];Z=ia[M];R=R<<2&960|oa<<4|O<<2|Z;pa=a[R];0<pa?(c+=1,0===(R&192)&&(m+=1),x|=B,y|=ba):0!==(R&192)&&(e+=1);ba>>=1;M+=1;O=Q[M];oa=W[M+1];Z=ia[M];R=R<<2&960|oa<<4|O<<2|Z;O=a[R];pa|=O<<8;0<O?(c+=1,0===(R&192)&&(m+=1),x|=B,y|=ba):0!==(R&192)&&(e+=1);ba>>=1;M+=1;O=Q[M];oa=W[M+1];Z=ia[M];R=R<<2&960|oa<<4|O<<2|Z;O=a[R];pa|=O<<16;0<O?(c+=1,0===(R&192)&&
(m+=1),x|=B,y|=ba):0!==(R&192)&&(e+=1);ba>>=1;M+=1;O=Q[M];oa=W[M+1];Z=ia[M];R=R<<2&960|oa<<4|O<<2|Z;O=a[R];pa|=O<<24;la[M>>2]=pa;0<O?(c+=1,0===(R&192)&&(m+=1),x|=B,y|=ba):0!==(R&192)&&(e+=1);ba>>=1;M+=1;O=Q[M];oa=W[M+1];Z=ia[M];R=R<<2&960|oa<<4|O<<2|Z;pa=a[R];0<pa?(c+=1,0===(R&192)&&(m+=1),x|=B,y|=ba):0!==(R&192)&&(e+=1);ba>>=1;M+=1;O=Q[M];oa=W[M+1];Z=ia[M];R=R<<2&960|oa<<4|O<<2|Z;O=a[R];pa|=O<<8;0<O?(c+=1,0===(R&192)&&(m+=1),x|=B,y|=ba):0!==(R&192)&&(e+=1);ba>>=1;M+=1;O=Q[M];oa=W[M+1];Z=ia[M];R=
R<<2&960|oa<<4|O<<2|Z;O=a[R];pa|=O<<16;0<O?(c+=1,0===(R&192)&&(m+=1),x|=B,y|=ba):0!==(R&192)&&(e+=1);ba>>=1;M+=1;O=Q[M];M===A-1?oa=0:oa=W[M+1];Z=ia[M];R=R<<2&960|oa<<4|O<<2|Z;O=a[R];pa|=O<<24;la[M>>2]=pa;0<O?(c+=1,0===(R&192)&&(m+=1),x|=B,y|=ba):0!==(R&192)&&(e+=1);T+=1;B>>=1}u[X>>4]|=y;y&&(ea|=1<<b,x&1&&(ma|=k.yb,y&32768&&(ma|=k.bc),y&1&&(ma|=k.xb)),x&32768&&(ma|=k.Sb,y&32768&&(ma|=k.Wb),y&1&&(ma|=k.Xb)),y&32768&&(ma|=k.Ub),y&1&&(ma|=k.lb),ma&&(0!==(ma&k.Ub)&&(15>b?ea|=1<<b+1:0<f&&0<X&&(na[f-1]|=
1)),0!==(ma&k.lb)&&(0<b?ea|=1<<b-1:f<L-1&&X<A-1&&(na[f+1]|=32768)),0!==(ma&k.Sb)&&(da|=1<<b),0!==(ma&k.yb)&&(qa|=1<<b),0!==(ma&k.Wb)&&(15>b?da|=1<<b+1:0<f&&0<X&&(p[f-1]|=1)),0!==(ma&k.Xb)&&(0<b?da|=1<<b-1:f<L-1&&X<A-1&&(p[f+1]|=32768)),0!==(ma&k.bc)&&(15>b?qa|=1<<b+1:0<f&&0<X&&(r[f-1]|=1)),0!==(ma&k.xb)&&(0<b?qa|=1<<b-1:f<L-1&&X<A-1&&(r[f+1]|=32768))));z[d]|=x}X+=16}na[f]|=ea;ha[f]=w|ea;Y[f]=Y[f]|w|ea;0<d&&(p[f]|=da);d<I-1&&(r[f]|=qa)}else X+=256;P+=16;sa+=16}for(f=0;f<C;f+=1)u[f]&&(f<F&&(F=f),f>
H&&(H=f));for(d=0;d<z.length;d+=1)z[d]&&(d<E&&(E=d),d>G&&(G=d));F=(F<<4)+this.G(u[F]);H=(H<<4)+this.T(u[H]);E=(E<<4)+this.G(z[E]);G=(G<<4)+this.T(z[G]);0>G&&(G=t-1);E>=t&&(E=0);F>=A&&(F=0);0>H&&(H=A-1);G>t-1&&(G=t-1);0>E&&(E=0);0>F&&(F=0);H>A-1&&(H=A-1);D.v=G;D.s=E;D.l=F;D.u=H;K.fill(0);P=0;sa=P+16;for(d=0;d<U.length;d+=1){X=0;ja=U[d];na=V[d];for(f=0;f<L;f+=1)if(w=ja[f],ea=na[f],w!==ea)for(b=15;0<=b;--b){if((w&1<<b)!==(ea&1<<b)&&0===(ea&1<<b))for(T=P;T<sa;T+=1)W=J[T],M=X>>2,W[M]=0,W[M+1]=0,W[M+2]=
0,W[M+3]=0;X+=16}else X+=256;P+=16;sa+=16}this.ia=c;this.Vb=m;this.Gb=e;this.Y=c};q.prototype.ZL=function(){var a=this.Wd,b,d,f,l=this.Da,n=this.La,p=null,r=null,w,u=this.na,y,z=this.gb,x,B,c=0,m=0,e=0,t=this.height,A=this.width,C=A>>4,D=this.M,E=t,G=-1,F=A,H=-1,I=this.ya,L=this.ua>>4,K=this.wd;if(0!==(this.counter&1)){var N=this.Ja;var J=this.Ba;var S=this.qe;var U=this.ra;var V=this.ja}else N=this.S,J=this.qe,S=this.Ba,U=this.ja,V=this.ra;u.fill(0);z.fill(0);var P=0;var sa=P+16;V.Wa.fill(0);for(d=
0;d<U.length;d+=1){var X=0;var ja=U[d];var na=V[d];var ha=n[d];var Y=l[d];0<d?p=V[d-1]:p=K;d<I-1?r=V[d+1]:r=K;for(f=0;f<L;f+=1)if(w=ja[f]){var ea=na[f];var da=p[f];var qa=r[f];for(b=15;0<=b;--b){if(0!==(w&1<<b)){var ma=x=y=0;var T=P;for(B=32768;T<sa;){var Q=0===T?this.wc:N[T-1];var W=N[T];var ia=T===this.height-1?this.wc:N[T+1];var la=S[T];var ba=32768;var M=X;var O=Q[M];var oa=W[M+1];var Z=ia[M];var R=0===M?W[M]<<9|oa<<6|O<<3|Z:W[M-1]<<12|W[M]<<9|oa<<6|O<<3|Z;var pa=a[R];0<pa?(c+=1,0===(R&3584)&&
(m+=1),x|=B,y|=ba):0!==(R&3584)&&(e+=1);ba>>=1;M+=1;O=Q[M];oa=W[M+1];Z=ia[M];R=R<<3&32256|oa<<6|O<<3|Z;O=a[R];pa|=O<<8;0<O?(c+=1,0===(R&3584)&&(m+=1),x|=B,y|=ba):0!==(R&3584)&&(e+=1);ba>>=1;M+=1;O=Q[M];oa=W[M+1];Z=ia[M];R=R<<3&32256|oa<<6|O<<3|Z;O=a[R];pa|=O<<16;0<O?(c+=1,0===(R&3584)&&(m+=1),x|=B,y|=ba):0!==(R&3584)&&(e+=1);ba>>=1;M+=1;O=Q[M];oa=W[M+1];Z=ia[M];R=R<<3&32256|oa<<6|O<<3|Z;O=a[R];pa|=O<<24;la[M>>2]=pa;0<O?(c+=1,0===(R&3584)&&(m+=1),x|=B,y|=ba):0!==(R&3584)&&(e+=1);ba>>=1;M+=1;O=Q[M];
oa=W[M+1];Z=ia[M];R=R<<3&32256|oa<<6|O<<3|Z;pa=a[R];0<pa?(c+=1,0===(R&3584)&&(m+=1),x|=B,y|=ba):0!==(R&3584)&&(e+=1);ba>>=1;M+=1;O=Q[M];oa=W[M+1];Z=ia[M];R=R<<3&32256|oa<<6|O<<3|Z;O=a[R];pa|=O<<8;0<O?(c+=1,0===(R&3584)&&(m+=1),x|=B,y|=ba):0!==(R&3584)&&(e+=1);ba>>=1;M+=1;O=Q[M];oa=W[M+1];Z=ia[M];R=R<<3&32256|oa<<6|O<<3|Z;O=a[R];pa|=O<<16;0<O?(c+=1,0===(R&3584)&&(m+=1),x|=B,y|=ba):0!==(R&3584)&&(e+=1);ba>>=1;M+=1;O=Q[M];oa=W[M+1];Z=ia[M];R=R<<3&32256|oa<<6|O<<3|Z;O=a[R];pa|=O<<24;la[M>>2]=pa;0<O?(c+=
1,0===(R&3584)&&(m+=1),x|=B,y|=ba):0!==(R&3584)&&(e+=1);ba>>=1;M+=1;O=Q[M];oa=W[M+1];Z=ia[M];R=R<<3&32256|oa<<6|O<<3|Z;pa=a[R];0<pa?(c+=1,0===(R&3584)&&(m+=1),x|=B,y|=ba):0!==(R&3584)&&(e+=1);ba>>=1;M+=1;O=Q[M];oa=W[M+1];Z=ia[M];R=R<<3&32256|oa<<6|O<<3|Z;O=a[R];pa|=O<<8;0<O?(c+=1,0===(R&3584)&&(m+=1),x|=B,y|=ba):0!==(R&3584)&&(e+=1);ba>>=1;M+=1;O=Q[M];oa=W[M+1];Z=ia[M];R=R<<3&32256|oa<<6|O<<3|Z;O=a[R];pa|=O<<16;0<O?(c+=1,0===(R&3584)&&(m+=1),x|=B,y|=ba):0!==(R&3584)&&(e+=1);ba>>=1;M+=1;O=Q[M];oa=
W[M+1];Z=ia[M];R=R<<3&32256|oa<<6|O<<3|Z;O=a[R];pa|=O<<24;la[M>>2]=pa;0<O?(c+=1,0===(R&3584)&&(m+=1),x|=B,y|=ba):0!==(R&3584)&&(e+=1);ba>>=1;M+=1;O=Q[M];oa=W[M+1];Z=ia[M];R=R<<3&32256|oa<<6|O<<3|Z;pa=a[R];0<pa?(c+=1,0===(R&3584)&&(m+=1),x|=B,y|=ba):0!==(R&3584)&&(e+=1);ba>>=1;M+=1;O=Q[M];oa=W[M+1];Z=ia[M];R=R<<3&32256|oa<<6|O<<3|Z;O=a[R];pa|=O<<8;0<O?(c+=1,0===(R&3584)&&(m+=1),x|=B,y|=ba):0!==(R&3584)&&(e+=1);ba>>=1;M+=1;O=Q[M];oa=W[M+1];Z=ia[M];R=R<<3&32256|oa<<6|O<<3|Z;O=a[R];pa|=O<<16;0<O?(c+=
1,0===(R&3584)&&(m+=1),x|=B,y|=ba):0!==(R&3584)&&(e+=1);ba>>=1;M+=1;O=Q[M];M===A-1?oa=0:oa=W[M+1];Z=ia[M];R=R<<3&32256|oa<<6|O<<3|Z;O=a[R];pa|=O<<24;la[M>>2]=pa;0<O?(c+=1,0===(R&3584)&&(m+=1),x|=B,y|=ba):0!==(R&3584)&&(e+=1);T+=1;B>>=1}u[X>>4]|=y;y&&(ea|=1<<b,x&1&&(ma|=k.yb,y&32768&&(ma|=k.bc),y&1&&(ma|=k.xb)),x&32768&&(ma|=k.Sb,y&32768&&(ma|=k.Wb),y&1&&(ma|=k.Xb)),y&32768&&(ma|=k.Ub),y&1&&(ma|=k.lb),ma&&(0!==(ma&k.Ub)&&(15>b?ea|=1<<b+1:0<f&&0<X&&(na[f-1]|=1)),0!==(ma&k.lb)&&(0<b?ea|=1<<b-1:f<L-1&&
X<A-1&&(na[f+1]|=32768)),0!==(ma&k.Sb)&&(da|=1<<b),0!==(ma&k.yb)&&(qa|=1<<b),0!==(ma&k.Wb)&&(15>b?da|=1<<b+1:0<f&&0<X&&(p[f-1]|=1)),0!==(ma&k.Xb)&&(0<b?da|=1<<b-1:f<L-1&&X<A-1&&(p[f+1]|=32768)),0!==(ma&k.bc)&&(15>b?qa|=1<<b+1:0<f&&0<X&&(r[f-1]|=1)),0!==(ma&k.xb)&&(0<b?qa|=1<<b-1:f<L-1&&X<A-1&&(r[f+1]|=32768))));z[d]|=x}X+=16}na[f]|=ea;ha[f]=w|ea;Y[f]=Y[f]|w|ea;0<d&&(p[f]|=da);d<I-1&&(r[f]|=qa)}else X+=256;P+=16;sa+=16}for(f=0;f<C;f+=1)u[f]&&(f<F&&(F=f),f>H&&(H=f));for(d=0;d<z.length;d+=1)z[d]&&(d<
E&&(E=d),d>G&&(G=d));F=(F<<4)+this.G(u[F]);H=(H<<4)+this.T(u[H]);E=(E<<4)+this.G(z[E]);G=(G<<4)+this.T(z[G]);0>G&&(G=t-1);E>=t&&(E=0);F>=A&&(F=0);0>H&&(H=A-1);G>t-1&&(G=t-1);0>E&&(E=0);0>F&&(F=0);H>A-1&&(H=A-1);D.v=G;D.s=E;D.l=F;D.u=H;K.fill(0);P=0;sa=P+16;for(d=0;d<U.length;d+=1){X=0;ja=U[d];na=V[d];for(f=0;f<L;f+=1)if(w=ja[f],ea=na[f],w!==ea)for(b=15;0<=b;--b){if((w&1<<b)!==(ea&1<<b)&&0===(ea&1<<b))for(T=P;T<sa;T+=1)W=J[T],M=X>>2,W[M]=0,W[M+1]=0,W[M+2]=0,W[M+3]=0;X+=16}else X+=256;P+=16;sa+=16}this.ia=
c;this.Vb=m;this.Gb=e;this.Y=c};q.prototype.fM=function(){var a=this.Wd,b,d,f,l=this.Da,n=this.La,p=null,r=null,w,u=this.na,y,z=this.gb,x,B,c=0,m=0,e=0,t=this.height,A=this.width,C=A>>4,D=this.M,E=t,G=-1,F=A,H=-1,I=this.ya,L=this.ua>>4,K=this.wd;if(0!==(this.counter&1)){var N=this.Ja;var J=this.Ba;var S=this.qe;var U=this.ra;var V=this.ja}else N=this.S,J=this.qe,S=this.Ba,U=this.ja,V=this.ra;u.fill(0);z.fill(0);var P=0;var sa=P+16;V.Wa.fill(0);for(d=0;d<U.length;d+=1){var X=0;var ja=U[d];var na=V[d];
var ha=n[d];var Y=l[d];0<d?p=V[d-1]:p=K;d<I-1?r=V[d+1]:r=K;for(f=0;f<L;f+=1)if(w=ja[f]){var ea=na[f];var da=p[f];var qa=r[f];for(b=15;0<=b;--b){if(0!==(w&1<<b)){var ma=x=y=0;var T=P;for(B=32768;T<sa;){var Q=0===T?this.wc:N[T-1];var W=N[T];var ia=T===this.height-1?this.wc:N[T+1];var la=S[T];var ba=32768;var M=X;var O=Q[M];var oa=W[M+1];var Z=ia[M];var R=0===M?W[M]<<12|oa<<8|O<<4|Z:W[M-1]<<16|W[M]<<12|oa<<8|O<<4|Z;var pa=a[R];0<pa?(c+=1,0===(R&61440)&&(m+=1),x|=B,y|=ba):0!==(R&61440)&&(e+=1);ba>>=1;
M+=1;O=Q[M];oa=W[M+1];Z=ia[M];R=R<<4&1044480|oa<<8|O<<4|Z;O=a[R];pa|=O<<8;0<O?(c+=1,0===(R&61440)&&(m+=1),x|=B,y|=ba):0!==(R&61440)&&(e+=1);ba>>=1;M+=1;O=Q[M];oa=W[M+1];Z=ia[M];R=R<<4&1044480|oa<<8|O<<4|Z;O=a[R];pa|=O<<16;0<O?(c+=1,0===(R&61440)&&(m+=1),x|=B,y|=ba):0!==(R&61440)&&(e+=1);ba>>=1;M+=1;O=Q[M];oa=W[M+1];Z=ia[M];R=R<<4&1044480|oa<<8|O<<4|Z;O=a[R];pa|=O<<24;la[M>>2]=pa;0<O?(c+=1,0===(R&61440)&&(m+=1),x|=B,y|=ba):0!==(R&61440)&&(e+=1);ba>>=1;M+=1;O=Q[M];oa=W[M+1];Z=ia[M];R=R<<4&1044480|oa<<
8|O<<4|Z;pa=a[R];0<pa?(c+=1,0===(R&61440)&&(m+=1),x|=B,y|=ba):0!==(R&61440)&&(e+=1);ba>>=1;M+=1;O=Q[M];oa=W[M+1];Z=ia[M];R=R<<4&1044480|oa<<8|O<<4|Z;O=a[R];pa|=O<<8;0<O?(c+=1,0===(R&61440)&&(m+=1),x|=B,y|=ba):0!==(R&61440)&&(e+=1);ba>>=1;M+=1;O=Q[M];oa=W[M+1];Z=ia[M];R=R<<4&1044480|oa<<8|O<<4|Z;O=a[R];pa|=O<<16;0<O?(c+=1,0===(R&61440)&&(m+=1),x|=B,y|=ba):0!==(R&61440)&&(e+=1);ba>>=1;M+=1;O=Q[M];oa=W[M+1];Z=ia[M];R=R<<4&1044480|oa<<8|O<<4|Z;O=a[R];pa|=O<<24;la[M>>2]=pa;0<O?(c+=1,0===(R&61440)&&(m+=
1),x|=B,y|=ba):0!==(R&61440)&&(e+=1);ba>>=1;M+=1;O=Q[M];oa=W[M+1];Z=ia[M];R=R<<4&1044480|oa<<8|O<<4|Z;pa=a[R];0<pa?(c+=1,0===(R&61440)&&(m+=1),x|=B,y|=ba):0!==(R&61440)&&(e+=1);ba>>=1;M+=1;O=Q[M];oa=W[M+1];Z=ia[M];R=R<<4&1044480|oa<<8|O<<4|Z;O=a[R];pa|=O<<8;0<O?(c+=1,0===(R&61440)&&(m+=1),x|=B,y|=ba):0!==(R&61440)&&(e+=1);ba>>=1;M+=1;O=Q[M];oa=W[M+1];Z=ia[M];R=R<<4&1044480|oa<<8|O<<4|Z;O=a[R];pa|=O<<16;0<O?(c+=1,0===(R&61440)&&(m+=1),x|=B,y|=ba):0!==(R&61440)&&(e+=1);ba>>=1;M+=1;O=Q[M];oa=W[M+1];
Z=ia[M];R=R<<4&1044480|oa<<8|O<<4|Z;O=a[R];pa|=O<<24;la[M>>2]=pa;0<O?(c+=1,0===(R&61440)&&(m+=1),x|=B,y|=ba):0!==(R&61440)&&(e+=1);ba>>=1;M+=1;O=Q[M];oa=W[M+1];Z=ia[M];R=R<<4&1044480|oa<<8|O<<4|Z;pa=a[R];0<pa?(c+=1,0===(R&61440)&&(m+=1),x|=B,y|=ba):0!==(R&61440)&&(e+=1);ba>>=1;M+=1;O=Q[M];oa=W[M+1];Z=ia[M];R=R<<4&1044480|oa<<8|O<<4|Z;O=a[R];pa|=O<<8;0<O?(c+=1,0===(R&61440)&&(m+=1),x|=B,y|=ba):0!==(R&61440)&&(e+=1);ba>>=1;M+=1;O=Q[M];oa=W[M+1];Z=ia[M];R=R<<4&1044480|oa<<8|O<<4|Z;O=a[R];pa|=O<<16;0<
O?(c+=1,0===(R&61440)&&(m+=1),x|=B,y|=ba):0!==(R&61440)&&(e+=1);ba>>=1;M+=1;O=Q[M];M===A-1?oa=0:oa=W[M+1];Z=ia[M];R=R<<4&1044480|oa<<8|O<<4|Z;O=a[R];pa|=O<<24;la[M>>2]=pa;0<O?(c+=1,0===(R&61440)&&(m+=1),x|=B,y|=ba):0!==(R&61440)&&(e+=1);T+=1;B>>=1}u[X>>4]|=y;y&&(ea|=1<<b,x&1&&(ma|=k.yb,y&32768&&(ma|=k.bc),y&1&&(ma|=k.xb)),x&32768&&(ma|=k.Sb,y&32768&&(ma|=k.Wb),y&1&&(ma|=k.Xb)),y&32768&&(ma|=k.Ub),y&1&&(ma|=k.lb),ma&&(0!==(ma&k.Ub)&&(15>b?ea|=1<<b+1:0<f&&0<X&&(na[f-1]|=1)),0!==(ma&k.lb)&&(0<b?ea|=
1<<b-1:f<L-1&&X<A-1&&(na[f+1]|=32768)),0!==(ma&k.Sb)&&(da|=1<<b),0!==(ma&k.yb)&&(qa|=1<<b),0!==(ma&k.Wb)&&(15>b?da|=1<<b+1:0<f&&0<X&&(p[f-1]|=1)),0!==(ma&k.Xb)&&(0<b?da|=1<<b-1:f<L-1&&X<A-1&&(p[f+1]|=32768)),0!==(ma&k.bc)&&(15>b?qa|=1<<b+1:0<f&&0<X&&(r[f-1]|=1)),0!==(ma&k.xb)&&(0<b?qa|=1<<b-1:f<L-1&&X<A-1&&(r[f+1]|=32768))));z[d]|=x}X+=16}na[f]|=ea;ha[f]=w|ea;Y[f]=Y[f]|w|ea;0<d&&(p[f]|=da);d<I-1&&(r[f]|=qa)}else X+=256;P+=16;sa+=16}for(f=0;f<C;f+=1)u[f]&&(f<F&&(F=f),f>H&&(H=f));for(d=0;d<z.length;d+=
1)z[d]&&(d<E&&(E=d),d>G&&(G=d));F=(F<<4)+this.G(u[F]);H=(H<<4)+this.T(u[H]);E=(E<<4)+this.G(z[E]);G=(G<<4)+this.T(z[G]);0>G&&(G=t-1);E>=t&&(E=0);F>=A&&(F=0);0>H&&(H=A-1);G>t-1&&(G=t-1);0>E&&(E=0);0>F&&(F=0);H>A-1&&(H=A-1);D.v=G;D.s=E;D.l=F;D.u=H;K.fill(0);P=0;sa=P+16;for(d=0;d<U.length;d+=1){X=0;ja=U[d];na=V[d];for(f=0;f<L;f+=1)if(w=ja[f],ea=na[f],w!==ea)for(b=15;0<=b;--b){if((w&1<<b)!==(ea&1<<b)&&0===(ea&1<<b))for(T=P;T<sa;T+=1)W=J[T],M=X>>2,W[M]=0,W[M+1]=0,W[M+2]=0,W[M+3]=0;X+=16}else X+=256;P+=
16;sa+=16}this.ia=c;this.Vb=m;this.Gb=e;this.Y=c};q.prototype.Dy=function(){var a=this.Ud,b=this.M,d=this.$d,f=d.l;var l=d.s;var n=d.u,p=d.v,r=0,w=0,u=0,y=this.width,z=this.height,x=0,B=0,c=this.width,m=this.height,e=0,t=0,A=this.Da,C,D=this.jg,E=this.K,G=0<this.K?1:0;var F=this.Aa;var H=this.wa;var I=Math.round((this.width-F)/2);var L=Math.round((this.height-H)/2);-1!==this.xa&&(f=I+1,l=L+1,n=I+F-1-1,p=L+H-1-1);this.ud&&(this.td=!this.td,this.ud=!1);this.Y=0;0!==(this.counter&1)?(F=this.Ja,H=this.S,
this.td&&(a=this.Yc)):(F=this.S,H=this.Ja,this.oc&&(a=this.lf),this.td&&(a=this.oc?this.Vd:this.Yc));1>l&&(l=1);p>this.height-2&&(p=this.height-2);1>f&&(f=1);n>this.width-2&&(n=this.width-2);for(--l;l<=p+1;l+=1){L=F[l-1];var K=F[l];var N=F[l+1];var J=A[l>>4];var S=H[l];var U=C=!1;var V=K[f-2];for(I=f-1;I<=n+1;I+=1){var P=N[I];var sa=K[I+1];var X=L[I];0<E&&(P=P<=E?0:P-E,sa=sa<=E?0:sa-E,X=X<=E?0:X-E,V=V<=E?0:V-E);V=V|P<<4|sa<<8|X<<12;P=a[V];V=K[I];0<P?(r+=D[P],S[I]=P+E,C=!0,J[I>>8]=65535,I<y&&(y=I),
I>x&&(x=I)):(P=V,P>E?P=E:P>G&&--P,S[I]=P,0<P&&(C=!0,I<y&&(y=I),I>x&&(x=I)),P=0);V>E?(V-=E,w+=D[P&~V],u+=D[V&~P],V+=E):w+=D[P];0<P&&(I<c&&(c=I),I>e&&(e=I),U=!0)}C&&(l<z&&(z=l),l>B&&(B=l));U&&(l<m&&(m=l),l>t&&(t=l))}this.ia=r;this.Vb=w;this.Gb=u;this.Y=r;d.l=y;d.s=z;d.u=x;d.v=B;b.l=c;b.s=m;b.u=e;b.v=t};q.prototype.ZA=function(){var a=this.yk,b=this.Da,d=this.La,f,l,n;var p=this.ya;var r=this.ua>>4;var w=0;var u=p;this.Y=0;if(0!==(this.counter&1)){var y=this.Yb;var z=this.ra}else y=this.hb,z=this.ja;
0>w&&(w=0);u>p&&(u=p);p=w<<4;var x=p+16;for(f=w;f<u;f+=1){var B=0;var c=z[f];var m=d[f];var e=b[f];for(l=0;l<r;l+=1){var t=c[l]|e[l];var A=0;if(t)for(n=15;0<=n;--n){if(0!==(t&1<<n)){var C=0;for(w=p;w<x;){var D=y[w];var E=a[w];var G=B<<3;D=D[B];this.Y|=D;C|=D;E[G]=(D&32768)>>9|D&16384;G+=1;E[G]=(D&8192)>>7|(D&4096)<<2;G+=1;E[G]=(D&2048)>>5|(D&1024)<<4;G+=1;E[G]=(D&512)>>3|(D&256)<<6;G+=1;E[G]=(D&128)>>1|(D&64)<<8;G+=1;E[G]=(D&32)<<1|(D&16)<<10;G+=1;E[G]=(D&8)<<3|(D&4)<<12;G+=1;E[G]=(D&2)<<5|(D&1)<<
14;w+=1}C&&(A|=1<<n)}B+=1}else B+=16;m[l]=A;e[l]|=A}p+=16;x+=16}};q.prototype.LB=function(){var a=this.yk,b=this.Da,d=this.La,f=this.Gp,l,n,p;var r=this.ya;var w=this.ua>>4;var u=0;var y=r;this.Y=0;if(0!==(this.counter&1)){var z=this.Yb;var x=this.ra}else z=this.hb,x=this.ja;0>u&&(u=0);y>r&&(y=r);r=u<<4;var B=r+16;for(l=u;l<y;l+=1){var c=0;var m=x[l];var e=d[l];var t=b[l];for(n=0;n<w;n+=1){var A=m[n]|e[n]|t[n];var C=0;if(A)for(p=15;0<=p;--p){if(0!==(A&1<<p)){var D=0;for(u=r;u<B;){var E=z[u];var G=
a[u];var F=c<<3;E=E[c];this.Y|=E;var H=f[G[F]|(E&32768)>>8|(E&16384)<<1];D|=H;G[F]=H;F+=1;H=f[G[F]|(E&8192)>>6|(E&4096)<<3];D|=H;G[F]=H;F+=1;H=f[G[F]|(E&2048)>>4|(E&1024)<<5];D|=H;G[F]=H;F+=1;H=f[G[F]|(E&512)>>2|(E&256)<<7];D|=H;G[F]=H;F+=1;H=f[G[F]|E&128|(E&64)<<9];D|=H;G[F]=H;F+=1;H=f[G[F]|(E&32)<<2|(E&16)<<11];D|=H;G[F]=H;F+=1;H=f[G[F]|(E&8)<<4|(E&4)<<13];D|=H;G[F]=H;F+=1;H=f[G[F]|(E&2)<<6|(E&1)<<15];D|=H;G[F]=H;u+=1}if(1<(D&255)||1<D>>8)C|=1<<p}c+=1}else c+=16;e[n]=C;t[n]|=C}r+=16;B+=16}};q.prototype.jB=
function(){var a=this.yk,b=this.Da,d=this.La,f=this.Gp,l,n,p;var r=this.ya;var w=this.ua>>4;var u=0;var y=r;this.Y=0;if(0!==(this.counter&1)){var z=this.Yb;var x=this.ra}else z=this.hb,x=this.ja;0>u&&(u=0);y>r&&(y=r);r=u<<4;var B=r+16;for(l=u;l<y;l+=1){var c=0;var m=x[l];var e=d[l];var t=b[l];for(n=0;n<w;n+=1){var A=m[n]|e[n];var C=0;if(A)for(p=15;0<=p;--p){if(0!==(A&1<<p)){var D=0;for(u=r;u<B;){var E=z[u];var G=a[u];var F=c<<3;E=E[c];this.Y|=E;var H=f[(E&49152)>>7|u+F+F&127];D|=H;G[F]=H;F+=1;H=f[(E&
12288)>>5|u+F+F&127];D|=H;G[F]=H;F+=1;H=f[(E&3072)>>3|u+F+F&127];D|=H;G[F]=H;F+=1;H=f[(E&768)>>1|u+F+F&127];D|=H;G[F]=H;F+=1;H=f[(E&192)<<1|u+F+F&127];D|=H;G[F]=H;F+=1;H=f[(E&48)<<3|u+F+F&127];D|=H;G[F]=H;F+=1;H=f[(E&12)<<5|u+F+F&127];D|=H;G[F]=H;F+=1;H=f[(E&3)<<7|u+F+F&127];D|=H;G[F]=H;u+=1}if(1<(D&255)||1<D>>8)C|=1<<p}c+=1}else c+=16;e[n]=C;t[n]|=C}r+=16;B+=16}};q.prototype.CI=function(a,b,d,f,l,n,p,r,w,u){var y=this.Yf;f=f*a+y.v;d=d*a+y.u;b=b*a+y.s;l=l*a+y.l;y=d-l+1;a=f-b+1;this.U&&(y=d-b/2-(l-
f/2)+1);0===y&&(y=1);0===a&&(a=1);n/=y;p/=a;u=Math.round(1E3*(n>p?p:n)/u)/1E3;u<r?u=r:u>w&&(u=w);return u};q.prototype.yy=function(a){var b=a;1>a&&(b=1/a);var d=Math.round(b);(d<b?d/b:b/d)>=ViewConstants.KL&&(a=1>a?1/d:d);return a};q.prototype.Rg=function(a,b,d,f,l,n,p,r,w,u,y,z,x){var B=this.M,c=this.Yf,m=this.$d,e=this.S;(this.L||this.fa||this.V)&&0!==(this.counter&1)&&(e=this.Ja);y?B=m:this.pa&&(B=this.Oa);if(a===ViewConstants.Gv){y=b.l;m=b.u;var t=b.v;b=b.s}else y=B.l,m=B.u,t=B.v,b=B.s,this.ta&&
!z&&(c.l<y&&(y=c.l),c.u>m&&(m=c.u),c.v>t&&(t=c.v),c.s<b&&(b=c.s)),-1!==this.xa&&(c=this.Aa,z=this.wa,0<c&&(this.width/2-c/2<y&&(y=this.width/2-c/2),this.width/2+c/2>m&&(m=this.width/2+c/2)),0<z&&(this.height/2-z/2<b&&(b=this.height/2-z/2),this.height/2+z/2>t&&(t=this.height/2+z/2)));u?(c=r,z=w,y=this.width/2-c/2,m=this.width/2+c/2,t=this.height/2+z/2,b=this.height/2-z/2):(c=m-y+1,z=t-b+1);if(this.U)if(a===ViewConstants.Gv)y-=t/2,c=m-b/2-y+1;else{c=2*(this.width+this.height);B=-c;for(u=b;u<=t;u+=1)for(r=
e[u],w=y;w<=m;w+=1){var A=r[w];0<A&&(A=w-u/2,A<c&&(c=A),A>B&&(B=A))}y=c;m=B;y>m&&(e=y,y=m,m=e);c=0>m&&0>y?0:m-y+1}0===c&&(c=1);0===z&&(z=1);d/=c;f/=z;this.P&&(f/=ViewConstants.he);p=Math.round(1E3*(d>f?f:d)/p)/1E3;p/=this.Bc;p<l?p=l:p>n&&(p=n);l=b-this.Zb+z/2;n=y-this.cc+c/2;x||(p=this.yy(p));a===ViewConstants.iF&&(p=this.zoom);return[p,n,l]};q.prototype.iy=function(a,b,d,f){var l=this.yd,n=this.J,p=this.H;if(a>b){var r=b;b=a;a=r}0>a?a=0:a>=n&&(a=n-1);0>b?b=0:b>=n&&(b=n-1);0<=d&&d<p&&l.fill(f,d*n+
a,d*n+b)};q.prototype.ly=function(a,b,d,f){var l=this.yd,n=this.J,p=this.H;if(b>d){var r=d;d=b;b=r}0>b?b=0:b>=p&&(b=p-1);0>d?d=0:d>=p&&(d=p-1);b=b*n+a;d=d*n+a;p=d-15*n;if(0<=a&&a<n){for(;b<=p;)l[b]=f,b+=n,l[b]=f,b+=n,l[b]=f,b+=n,l[b]=f,b+=n,l[b]=f,b+=n,l[b]=f,b+=n,l[b]=f,b+=n,l[b]=f,b+=n,l[b]=f,b+=n,l[b]=f,b+=n,l[b]=f,b+=n,l[b]=f,b+=n,l[b]=f,b+=n,l[b]=f,b+=n,l[b]=f,b+=n,l[b]=f,b+=n;for(;b<=d;)l[b]=f,b+=n}};q.prototype.ey=function(a,b,d,f,l){var n=Math.abs(d-a),p=Math.abs(f-b),r=a<d?1:-1,w=b<f?1:-1,
u=n-p,y=this.J,z=this.H,x=this.yd;if(!(0>a&&0>d||a>=y&&d>=y||0>b&&0>f||b>=z&&f>=z))if(0<=a&&a<y&&0<=b&&b<z&&0<=d&&d<y&&0<=f&&f<z)for(x[b*y+a]=l;a!==d||b!==f;){var B=u+u;B>-p&&(u-=p,a+=r);B<n&&(u+=n,b+=w);x[b*y+a]=l}else for(0<=a&&a<y&&0<=b&&b<z&&(x[b*y+a]=l);a!==d||b!==f;)B=u+u,B>-p&&(u-=p,a+=r),B<n&&(u+=n,b+=w),0<=a&&a<y&&0<=b&&b<z&&(x[b*y+a]=l)};q.prototype.lk=function(a,b,d,f,l){var n=this.J/2,p=this.H/2;if(0!==this.ib){a-=n;b-=p;var r=Math.sqrt(a*a+b*b);var w=180/Math.PI*Math.atan2(b,a);w+=this.ib;
a=Math.round(r*Math.cos(Math.PI/180*w)+n);b=Math.round(r*Math.sin(Math.PI/180*w)+p);d-=n;f-=p;r=Math.sqrt(d*d+f*f);w=180/Math.PI*Math.atan2(f,d);w+=this.ib;d=Math.round(r*Math.cos(Math.PI/180*w)+n);f=Math.round(r*Math.sin(Math.PI/180*w)+p)}a===d?this.ly(a,b,f,l):b===f?this.iy(a,d,b,l):this.ey(a,b,d,f,l)};q.prototype.jl=function(a,b,d,f,l){var n=a.Kf,p=a.Jf,r=0,w=0,u=this.context;var y=this.zoom;var z=this.zoom*(this.P?ViewConstants.he:1);var x=(this.width>>1)-(a.kb>>1);var B=(this.height>>1)-(a.qb>>
1);var c=a.Lc-this.va,m=a.Kc-this.Ca-(this.U?this.va/2:0),e=[0,0];switch(f){case ViewConstants.PG:b-=n>>1;break;case ViewConstants.QG:b-=n-1;break;case ViewConstants.VG:d-=p>>1;break;case ViewConstants.OG:b-=n>>1;d-=p>>1;break;case ViewConstants.NG:b-=n-1;d-=p>>1;break;case ViewConstants.UG:d-=p-1;break;case ViewConstants.SG:b-=n>>1;d-=p-1;break;case ViewConstants.TG:b-=n-1,d-=p-1}var t=z*(d-B+c-this.Zb+a.Lc)+a.H/2;f=y*(b-x+m-this.cc+a.Kc)+a.J/2+(this.U?(a.H/2-t)/2:0);var A=z*(d+p-B+c-this.Zb+a.Lc)+
a.H/2;var C=y*(b+n-x+m-this.cc+a.Kc)+a.J/2+(this.U?(a.H/2-A)/2:0);u.fillStyle=l;u.globalAlpha=.5;if(this.U)if(!this.sc&&4<=this.zoom)this.lu(b,d,b+n-1,d+p-1,x,B);else{u.beginPath();for(l=0;l<p;l+=1)u.moveTo(f,t),u.lineTo(f+n*y+1,t),u.lineTo(f+n*y+1,t+z+1),u.lineTo(f,t+z+1),f-=z/2,t+=z;u.fill()}else!this.sc&&this.P&&4<=this.zoom?this.mu(b,d,b+n-1,d+p-1,x,B):(u.beginPath(),this.Ie(f,t,e),u.moveTo(e[0],e[1]),this.Ie(C+1,t,e),u.lineTo(e[0],e[1]),this.Ie(C+1,A+1,e),u.lineTo(e[0],e[1]),this.Ie(f,A+1,e),
u.lineTo(e[0],e[1]),u.fill());if(1<=this.zoom){if(0<this.ib){var D=Math.cos(this.ib/180*Math.PI)*this.oa;var E=Math.sin(this.ib/180*Math.PI)*this.oa;var G=Math.cos((this.ib+90)/180*Math.PI)*this.oa;var F=Math.sin((this.ib+90)/180*Math.PI)*this.oa}else D=y,G=E=0,F=z;t=z*(d+w-B+c-this.Zb+a.Lc)+a.H/2;f=y*(b+r-x+m-this.cc+a.Kc)+a.J/2+(this.U?(a.H/2-t)/2:0);0!==this.ib&&(this.Ie(f,t,e),f=e[0],t=e[1]);C=f;A=t;u.fillStyle="rgb(255, 128, 0)";if(this.U&&!this.sc&&4<=this.zoom)this.jy(b,d,b+n-1,d+p-1,x,B,a.Db);
else if(!this.sc&&this.P&&4<=this.zoom)this.ky(b,d,b+n-1,d+p-1,x,B,a.Db);else{u.beginPath();for(w=l=0;w<p;w+=1){f=C;for(r=0;r<n;r+=1)b=a.Db[l],l+=1,b&&(b=f+D,d=t+E,y=b+G,z=d+F,x=y-D,B=z-E,0>f&&0>b&&0>y&&0>x||f>=a.J&&b>=a.J&&y>=a.J&&x>=a.J||0>t&&0>d&&0>z&&0>B||t>=a.H&&d>=a.H&&z>=a.H&&B>=a.H||(u.moveTo(f,t),u.lineTo(b,d),u.lineTo(y,z),u.lineTo(x,B))),f+=D,t+=E;C+=G;t=A+=F;this.U&&(C-=F/2)}u.fill()}}};q.prototype.Ie=function(a,b,d){var f=this.J/2,l=this.H/2;if(0!==this.ib){a-=f;b-=l;var n=Math.sqrt(a*
a+b*b);b=180/Math.PI*Math.atan2(b,a);b+=this.ib;a=Math.round(n*Math.cos(Math.PI/180*b)+f);b=Math.round(n*Math.sin(Math.PI/180*b)+l)}d[0]=a;d[1]=b};q.prototype.AK=function(a){var b=a.Yg+.5|0,d=(this.width>>1)-(a.kb>>1)+(a.Qb<<1),f=(this.height>>1)-(a.qb>>1)+(a.Rb<<1);(a.ub||a.Ak)&&this.dy(a,a.Pb,this.DC);a.Ld&&(-1!==this.xa&&a.vh?this.jl(a,a.Rp.l-a.kb,a.Rp.s-a.qb,ViewConstants.yq,this.Du):this.jl(a,a.Rp.l,a.Rp.s,ViewConstants.yq,this.Du));if(a.od){var l=a.j.Lj;var n=a.j.Mj;-1!==l&&(a.Jx(l,n),-1!==
this.xa&&a.vh&&(d+=a.kb,f+=a.qb),this.jl(a,a.vk-d,a.wk-f,b,this.kB))}};q.prototype.dy=function(a,b,d){var f=this.context,l=this.zoom,n=this.zoom*(this.P?ViewConstants.he:1),p=b.l,r=b.s,w=b.u;b=b.v;var u=(this.width>>1)-(a.kb>>1),y=(this.height>>1)-(a.qb>>1),z=a.Lc-this.va,x=a.Kc-this.Ca-(this.U?this.va/2:0),B=[0,0],c=a.Pb;if(p>w){var m=p;p=w;w=m}r>b&&(m=r,r=b,b=m);m=w-p+1;var e=b-r+1;-1!==this.xa&&a.vh&&(y+=a.qb,u+=a.kb);r=n*(r-y+z-this.Zb+a.Lc)+a.H/2;p=l*(p-u+x-this.cc+a.Kc)+a.J/2+(this.U?(a.H/2-
r)/2:0);b=n*(b+1-y+z-this.Zb+a.Lc)+a.H/2;w=l*(w+1-u+x-this.cc+a.Kc)+a.J/2+(this.U?(a.H/2-b)/2:0);f.fillStyle=d;f.globalAlpha=.5;if(this.U)if(!this.sc&&4<=this.zoom)this.lu(c.l,c.s,c.u,c.v,u,y);else{f.beginPath();m*=l;for(a=0;a<e;a+=1)f.moveTo(p,r),f.lineTo(p+m+1,r),f.lineTo(p+m+1,r+n+1),f.lineTo(p,r+n+1),p-=n/2,r+=n;f.fill()}else this.P&&!this.sc&&4<=this.zoom?this.mu(c.l,c.s,c.u,c.v,u,y):(f.beginPath(),this.Ie(p,r,B),f.moveTo(B[0],B[1]),this.Ie(w+1,r,B),f.lineTo(B[0],B[1]),this.Ie(w+1,b+1,B),f.lineTo(B[0],
B[1]),this.Ie(p,b+1,B),f.lineTo(B[0],B[1]),f.fill());f.globalAlpha=1};q.prototype.Hd=function(){var a,b=this.J,d=this.H,f=this.wg,l=this.vg,n=this.oa,p=this.oa*(this.P?ViewConstants.he:1),r=f,w,u=0<this.Ef&&this.Bl,y=this.counter&1,z=((this.height/2-(this.va+this.Zb))*p+d/2)%p,x=((this.width/2-(this.Ca+this.cc))*n+b/2)%n;if(this.qc)var B=u?2:1;else B=1,u=!1,r=f=this.Se[0];var c=f;for(this.la&&2===this.Ef&&this.cm||(y=0);B;){var m=-(b/2/n)-(this.width/2-this.Ca-this.cc)|0;var e=22*-n;var t=b+n+22*
n;var A=z-22*p;var C=d+22*p;var D=-b/1.5;var E=b+b/1.5;var G=-d/1.5;for(w=d+d/1.5;e<=t;e+=n)if(u&&(0===(m+y)%this.Ef?r=l:r=f),m+=1,r===c)if(this.U){var F=-(d/2/p)-(this.height/2-this.va-this.Zb)|0;for(a=A;a<C;a+=p)0===(F&1)?this.lk(Math.round(e+x),Math.round(a),Math.round(e+x),Math.round(a+p-1),r):this.lk(Math.round(e+x+n/2),Math.round(a),Math.round(e+x+n/2),Math.round(a+p-1),r),F+=1}else this.lk(Math.round(e+x),G,Math.round(e+x),w-1,r);m=-(d/2/p)-(this.height/2-this.va-this.Zb)|0;for(a=A;a<C;a+=
p)u&&(0===(m+y)%this.Ef?r=l:r=f),m+=1,r===c&&this.lk(D,Math.round(a),E-1,Math.round(a),r);--B;c=l}};q.prototype.Uh=function(){return 4<=this.oa};q.prototype.Iz=function(a,b){var d=this.Aa,f=this.wa,l=this.la?-1:0,n=Math.round((this.width-d)/2-1)+l,p=n+d+1,r=Math.round((this.height-f)/2-1)+l;l=r+f+1;var w=a[r],u=a[l];if(0===d)w.fill(b,0,this.width),u.fill(b,0,this.width);else if(0===f)for(d=0;d<this.height;d+=1)a[d][n]=b,a[d][p]=b;else for(w.fill(b,n,p+1),u.fill(b,n,p+1),d=r+1;d<=l-1;d+=1)a[d][n]=
b,a[d][p]=b};q.prototype.qN=function(a,b){var d=this.Se[0],f=this.yd,l=this.S,n=this.yk,p=this.qe;this.kk=!0;(this.L||this.fa||this.V)&&0!==(this.counter&1)&&(l=this.Ja,n=this.Kh,p=this.Ba);this.Vn&&(this.ME(),--this.Vn,this.Vn||(this.Ee.set(this.vd),this.Dc.set(this.ec),this.Je.set(this.ne),this.dh.set(this.Gf),this.He.set(this.Td),this.Ph.set(this.Eg)));this.oa=this.zoom*this.Bc;this.oa<ViewConstants.Xa?this.oa=ViewConstants.Xa:this.oa>ViewConstants.Ib&&(this.oa=ViewConstants.Ib);this.Ke=this.Ca+
this.cc;this.Le=this.va+this.Zb;this.B=this.Oe/2+1;this.ib=this.U||this.P?0:this.angle;-1!==this.xa&&this.Iz(l,this.Lb);4<=this.oa&&(!this.sc&&this.U||!this.sc&&this.P)?(f.fill(d),this.Yd(1)):(1>this.oa&&this.cy(n,p),.0625>this.oa?this.og?this.Nh(this.$c,this.ac,31,a,b):this.Oh(this.ac,this.ac,31,a,b):.125>this.oa?this.og?this.Nh(this.$c,this.ac,15,a,b):this.Oh(this.ac,this.ac,15,a,b):.25>this.oa?this.og?this.Nh(this.$c,this.ac,7,a,b):this.Oh(this.ac,this.ac,7,a,b):.5>this.oa?this.og?this.Nh(this.$c,
this.ac,3,a,b):this.Oh(this.ac,this.ac,3,a,b):1>this.oa?this.og?this.Nh(this.$c,this.ac,1,a,b):this.Oh(this.ac,this.ac,1,a,b):this.og?this.Nh(this.hc,l,0,a,b):this.Oh(l,l,0,a,b))};q.prototype.KI=function(a,b,d,f){var l=this.J>>3,n=this.Se,p=this.yd,r,w,u=1,y=1,z=0,x=this.Ab&~d,B=this.Cb&~d,c=~d,m=~d,e=a,t=this.oa;1<this.B&&(u=this.$);a=Math.sin(this.ib/180*Math.PI)/this.oa;var A=Math.cos(this.ib/180*Math.PI)/this.oa;var C=-(this.J/2*-a+this.H/2*A)+this.Le;var D=-(this.J/2*A+this.H/2*a)+this.Ke;1<
this.$&&1<this.B&&(z=.4/(this.$-1),y=.6);this.Yd(y);var E=this.width<this.ga||this.height<this.ga?n[0]|0:this.nl|0;var G=0;var F=C;for(r=0;r<this.H;r+=1){var H=D;for(w=0;w<l;w+=1){if(0<=H&&(H&c)===(H&x)&&0<F&&(F&m)===(F&B)){var I=e[F&B][H&x]|0;p[G]=n[I]}else p[G]=E;G+=1;H+=A;F-=a;0<=H&&(H&c)===(H&x)&&0<F&&(F&m)===(F&B)?(I=e[F&B][H&x]|0,p[G]=n[I]):p[G]=E;G+=1;H+=A;F-=a;0<=H&&(H&c)===(H&x)&&0<F&&(F&m)===(F&B)?(I=e[F&B][H&x]|0,p[G]=n[I]):p[G]=E;G+=1;H+=A;F-=a;0<=H&&(H&c)===(H&x)&&0<F&&(F&m)===(F&B)?
(I=e[F&B][H&x]|0,p[G]=n[I]):p[G]=E;G+=1;H+=A;F-=a;0<=H&&(H&c)===(H&x)&&0<F&&(F&m)===(F&B)?(I=e[F&B][H&x]|0,p[G]=n[I]):p[G]=E;G+=1;H+=A;F-=a;0<=H&&(H&c)===(H&x)&&0<F&&(F&m)===(F&B)?(I=e[F&B][H&x]|0,p[G]=n[I]):p[G]=E;G+=1;H+=A;F-=a;0<=H&&(H&c)===(H&x)&&0<F&&(F&m)===(F&B)?(I=e[F&B][H&x]|0,p[G]=n[I]):p[G]=E;G+=1;H+=A;F-=a;0<=H&&(H&c)===(H&x)&&0<F&&(F&m)===(F&B)?(I=e[F&B][H&x]|0,p[G]=n[I]):p[G]=E;G+=1;H+=A;F-=a}D+=a;F=C+=A}f&&this.Rd();(this.qc||this.kd)&&this.Uh()&&this.Hd();e=b;for(b=1;b<u;b+=1)for(f=
2<this.i?this.V?1:0===this.K?this.i/this.$*b|0:b<u/2?this.K/this.$*b*2|0:this.K+this.i/this.$*b|0:this.de?1:(this.Sf+1)/this.$*b|0,y+=z,this.Yd(y),a/=this.B,A/=this.B,t*=this.B,x=d,d=.125>t?15:.25>t?7:.5>t?3:1>t?1:0,d!==x&&(e=this.S),x=this.Ab&~d,B=this.Cb&~d,c=~d,m=~d,C=-(this.J/2*-a+this.H/2*A)+this.Le,D=-(this.J/2*A+this.H/2*a)+this.Ke,G=0,F=C,r=0;r<this.H;r+=1){H=D;for(w=0;w<l;w+=1)0<=H&&(H&c)===(H&x)&&0<F&&(F&m)===(F&B)&&(I=e[F&B][H&x]|0,I>=f&&(p[G]=n[I])),G+=1,H+=A,F-=a,0<=H&&(H&c)===(H&x)&&
0<F&&(F&m)===(F&B)&&(I=e[F&B][H&x]|0,I>=f&&(p[G]=n[I])),G+=1,H+=A,F-=a,0<=H&&(H&c)===(H&x)&&0<F&&(F&m)===(F&B)&&(I=e[F&B][H&x]|0,I>=f&&(p[G]=n[I])),G+=1,H+=A,F-=a,0<=H&&(H&c)===(H&x)&&0<F&&(F&m)===(F&B)&&(I=e[F&B][H&x]|0,I>=f&&(p[G]=n[I])),G+=1,H+=A,F-=a,0<=H&&(H&c)===(H&x)&&0<F&&(F&m)===(F&B)&&(I=e[F&B][H&x]|0,I>=f&&(p[G]=n[I])),G+=1,H+=A,F-=a,0<=H&&(H&c)===(H&x)&&0<F&&(F&m)===(F&B)&&(I=e[F&B][H&x]|0,I>=f&&(p[G]=n[I])),G+=1,H+=A,F-=a,0<=H&&(H&c)===(H&x)&&0<F&&(F&m)===(F&B)&&(I=e[F&B][H&x]|0,I>=f&&
(p[G]=n[I])),G+=1,H+=A,F-=a,0<=H&&(H&c)===(H&x)&&0<F&&(F&m)===(F&B)&&(I=e[F&B][H&x]|0,I>=f&&(p[G]=n[I])),G+=1,H+=A,F-=a;D+=a;F=C+=A}};q.prototype.LI=function(a,b,d,f){var l=this.J>>3,n=this.Se,p=this.yd,r,w,u=1,y=1,z=0,x=this.Ab&~d,B=this.Cb&~d,c=~d,m=~d,e=a,t=this.oa;1<this.B&&(u=this.$);a=1/this.oa;this.P&&(a/=ViewConstants.he);var A=1/this.oa;var C=-(this.H/2*a)+this.Le;var D=-(this.J/2*A)+this.Ke;1<this.$&&1<this.B&&(z=.4/(this.$-1),y=.6);this.Yd(y);var E=this.width<this.ga||this.height<this.ga?
n[0]|0:this.nl|0;var G=0;var F=C;for(r=0;r<this.H;r+=1){if(0<=F&&(F&m)===(F&B)){var H=e[F&B];var I=D;this.U&&(I+=.5*(F|0));for(w=0;w<l;w+=1){if(0<=I&&(I&c)===(I&x)){var L=H[I&x]|0;p[G]=n[L]}else p[G]=E;G+=1;I+=A;0<=I&&(I&c)===(I&x)?(L=H[I&x]|0,p[G]=n[L]):p[G]=E;G+=1;I+=A;0<=I&&(I&c)===(I&x)?(L=H[I&x]|0,p[G]=n[L]):p[G]=E;G+=1;I+=A;0<=I&&(I&c)===(I&x)?(L=H[I&x]|0,p[G]=n[L]):p[G]=E;G+=1;I+=A;0<=I&&(I&c)===(I&x)?(L=H[I&x]|0,p[G]=n[L]):p[G]=E;G+=1;I+=A;0<=I&&(I&c)===(I&x)?(L=H[I&x]|0,p[G]=n[L]):p[G]=E;
G+=1;I+=A;0<=I&&(I&c)===(I&x)?(L=H[I&x]|0,p[G]=n[L]):p[G]=E;G+=1;I+=A;0<=I&&(I&c)===(I&x)?(L=H[I&x]|0,p[G]=n[L]):p[G]=E;G+=1;I+=A}}else p.fill(E,G,G+this.J+1),G+=this.J;F=C+=a}f&&this.Rd();(this.qc||this.kd)&&this.Uh()&&this.Hd();e=b;for(b=1;b<u;b+=1)for(f=2<this.i?this.V?1:0===this.K?this.i/this.$*b|0:b<u/2?this.K/this.$*b*2|0:this.K+this.i/this.$*b|0:this.de?1:(this.Sf+1)/this.$*b|0,y+=z,this.Yd(y),a/=this.B,A/=this.B,t*=this.B,x=d,d=.125>t?15:.25>t?7:.5>t?3:1>t?1:0,d!==x&&(e=this.S),x=this.Ab&
~d,B=this.Cb&~d,c=~d,m=~d,C=-(this.H/2*a)+this.Le,D=-(this.J/2*A)+this.Ke,G=0,F=C,r=0;r<this.H;r+=1){if(0<=F&&(F&m)===(F&B))for(H=e[F&B],I=D,this.U&&(I+=.5*(F|0)),w=0;w<l;w+=1)0<=I&&(I&c)===(I&x)&&(L=H[I&x]|0,L>=f&&(p[G]=n[L])),G+=1,I+=A,0<=I&&(I&c)===(I&x)&&(L=e[F&B][I&x]|0,L>=f&&(p[G]=n[L])),G+=1,I+=A,0<=I&&(I&c)===(I&x)&&(L=e[F&B][I&x]|0,L>=f&&(p[G]=n[L])),G+=1,I+=A,0<=I&&(I&c)===(I&x)&&(L=e[F&B][I&x]|0,L>=f&&(p[G]=n[L])),G+=1,I+=A,0<=I&&(I&c)===(I&x)&&(L=e[F&B][I&x]|0,L>=f&&(p[G]=n[L])),G+=1,
I+=A,0<=I&&(I&c)===(I&x)&&(L=e[F&B][I&x]|0,L>=f&&(p[G]=n[L])),G+=1,I+=A,0<=I&&(I&c)===(I&x)&&(L=e[F&B][I&x]|0,L>=f&&(p[G]=n[L])),G+=1,I+=A,0<=I&&(I&c)===(I&x)&&(L=e[F&B][I&x]|0,L>=f&&(p[G]=n[L])),G+=1,I+=A;else G+=l<<3;F=C+=a}};q.prototype.MI=function(a,b,d,f){var l=this.J>>3,n=this.Se,p=this.yd,r,w,u=1,y=1,z=0,x=this.Ab&~d,B=this.Cb&~d,c=a,m=this.oa;1<this.B&&(u=this.$);a=Math.sin(this.ib/180*Math.PI)/this.oa;var e=Math.cos(this.ib/180*Math.PI)/this.oa;var t=-(this.J/2*-a+this.H/2*e)+this.Le;var A=
-(this.J/2*e+this.H/2*a)+this.Ke;1<this.$&&1<this.B&&(z=.4/(this.$-1),y=.6);this.Yd(y);var C=0;var D=t;for(r=0;r<this.H;r+=1){var E=A;for(w=0;w<l;w+=1){var G=c[D&B][E&x]|0;p[C]=n[G];C+=1;E+=e;D-=a;G=c[D&B][E&x]|0;p[C]=n[G];C+=1;E+=e;D-=a;G=c[D&B][E&x]|0;p[C]=n[G];C+=1;E+=e;D-=a;G=c[D&B][E&x]|0;p[C]=n[G];C+=1;E+=e;D-=a;G=c[D&B][E&x]|0;p[C]=n[G];C+=1;E+=e;D-=a;G=c[D&B][E&x]|0;p[C]=n[G];C+=1;E+=e;D-=a;G=c[D&B][E&x]|0;p[C]=n[G];C+=1;E+=e;D-=a;G=c[D&B][E&x]|0;p[C]=n[G];C+=1;E+=e;D-=a}A+=a;D=t+=e}f&&this.Rd();
(this.qc||this.kd)&&this.Uh()&&this.Hd();c=b;for(b=1;b<u;b+=1)for(f=2<this.i?this.V?1:0===this.K?this.i/this.$*b|0:b<u/2?this.K/this.$*b*2|0:this.K+this.i/this.$*b|0:this.de?1:(this.Sf+1)/this.$*b|0,y+=z,this.Yd(y),a/=this.B,e/=this.B,m*=this.B,x=d,.125>m?d=15:.25>m?d=7:.5>m?d=3:1>m?d=1:(c=this.S,d=0),d!==x&&(c=this.S),x=this.Ab&~d,B=this.Cb&~d,t=-(this.J/2*-a+this.H/2*e)+this.Le,A=-(this.J/2*e+this.H/2*a)+this.Ke,C=0,D=t,r=0;r<this.H;r+=1){E=A;for(w=0;w<l;w+=1)G=c[D&B][E&x]|0,G>=f&&(p[C]=n[G]),C+=
1,E+=e,D-=a,G=c[D&B][E&x]|0,G>=f&&(p[C]=n[G]),C+=1,E+=e,D-=a,G=c[D&B][E&x]|0,G>=f&&(p[C]=n[G]),C+=1,E+=e,D-=a,G=c[D&B][E&x]|0,G>=f&&(p[C]=n[G]),C+=1,E+=e,D-=a,G=c[D&B][E&x]|0,G>=f&&(p[C]=n[G]),C+=1,E+=e,D-=a,G=c[D&B][E&x]|0,G>=f&&(p[C]=n[G]),C+=1,E+=e,D-=a,G=c[D&B][E&x]|0,G>=f&&(p[C]=n[G]),C+=1,E+=e,D-=a,G=c[D&B][E&x]|0,G>=f&&(p[C]=n[G]),C+=1,E+=e,D-=a;A+=a;D=t+=e}};q.prototype.NI=function(a,b,d,f){var l=this.J>>3,n=this.Se,p=this.yd,r,w=1,u=1,y=0,z=this.Ab&~d,x=this.Cb&~d,B=a,c=this.oa;1<this.B&&
(w=this.$);a=1/this.oa;this.P&&(a/=ViewConstants.he);var m=1/this.oa;var e=-(this.H/2*a)+this.Le;var t=-(this.J/2*m)+this.Ke;1<this.$&&1<this.B&&(y=.4/(this.$-1),u=.6);this.Yd(u);var A=0;var C=e;for(r=0;r<this.H;r+=1){var D=B[C&x];var E=t;this.U&&(E+=.5*(C|0));for(C=0;C<l;C+=1){var G=D[E&z];p[A]=n[G];A+=1;E+=m;G=D[E&z];p[A]=n[G];A+=1;E+=m;G=D[E&z];p[A]=n[G];A+=1;E+=m;G=D[E&z];p[A]=n[G];A+=1;E+=m;G=D[E&z];p[A]=n[G];A+=1;E+=m;G=D[E&z];p[A]=n[G];A+=1;E+=m;G=D[E&z];p[A]=n[G];A+=1;E+=m;G=D[E&z];p[A]=n[G];
A+=1;E+=m}C=e+=a}f&&this.Rd();(this.qc||this.kd)&&this.Uh()&&this.Hd();B=b;for(b=1;b<w;b+=1)for(f=2<this.i?this.V?1:0===this.K?this.i/this.$*b|0:b<w/2?this.K/this.$*b*2|0:this.K+this.i/this.$*b|0:this.de?1:(this.Sf+1)/this.$*b|0,u+=y,this.Yd(u),a/=this.B,m/=this.B,c*=this.B,z=d,d=.125>c?15:.25>c?7:.5>c?3:1>c?1:0,d!==z&&(B=this.S),z=this.Ab&~d,x=this.Cb&~d,e=-(this.H/2*a)+this.Le,t=-(this.J/2*m)+this.Ke,A=0,C=e,r=0;r<this.H;r+=1){D=B[C&x];E=t;this.U&&(E+=.5*(C|0));for(C=0;C<l;C+=1)G=D[E&z]|0,G>=f&&
(p[A]=n[G]),A+=1,E+=m,G=D[E&z]|0,G>=f&&(p[A]=n[G]),A+=1,E+=m,G=D[E&z]|0,G>=f&&(p[A]=n[G]),A+=1,E+=m,G=D[E&z]|0,G>=f&&(p[A]=n[G]),A+=1,E+=m,G=D[E&z]|0,G>=f&&(p[A]=n[G]),A+=1,E+=m,G=D[E&z]|0,G>=f&&(p[A]=n[G]),A+=1,E+=m,G=D[E&z]|0,G>=f&&(p[A]=n[G]),A+=1,E+=m,G=D[E&z]|0,G>=f&&(p[A]=n[G]),A+=1,E+=m;C=e+=a}};q.prototype.Oh=function(a,b,d,f,l){var n=Math.sin(this.ib/180*Math.PI)/this.oa,p=Math.cos(this.ib/180*Math.PI)/this.oa,r=this.P?ViewConstants.he:1,w=this.J,u=this.H,y=-(this.J/2*-n+this.H/2*p/r)+this.Le,
z=-(this.J/2*p+this.H/2*n)+this.Ke,x=y+w*-n,B=z+w*p;r=y+u*p/r;u=z+u*n;n=r+w*-n;p=u+w*p;w=r;var c=u;p<c&&(c=p);z<c&&(c=z);B<c&&(c=z);p>u&&(u=p);z>u&&(u=z);B>u&&(u=B);n>w&&(w=n);y>w&&(w=y);x>w&&(w=x);n<r&&(r=n);y<r&&(r=y);x<r&&(r=x);0>(c|0)||(u|0)>=this.width||0>(r|0)||(w|0)>=this.height?0===this.ib?this.wh&&!this.U&&1<=this.oa&&1===this.$&&(this.oa|0)!==this.oa?(this.Yd(1),this.width!==this.ga?this.zp(a,c,r,u,w,this.Se[0],f,l):this.zp(a,c,r,u,w,this.nl,f,l)):this.LI(a,b,d,f):this.KI(a,b,d,f):0===this.ib?
this.wh&&!this.U&&1<=this.oa&&1===this.$&&(this.oa|0)!==this.oa?(this.Yd(1),this.zp(a,c,r,u,w,this.Se[0],f,l)):this.NI(a,b,d,f):this.MI(a,b,d,f)};q.prototype.zp=function(a,b,d,f,l,n,p,r){var w=this.Se,u=this.nk,y=this.lj,z=this.mj,x=(this.oa|0)<<1,B=this.jd.width,c=B*x,m=f-b,e=l-d,t=this.oa*(this.P?ViewConstants.he:1),A=-(b-Math.floor(b))*this.oa,C=-(d-Math.floor(d))*t,D=this.width-1,E=this.height-1,G,F=0,H,I=x>>1,L;d|=0;b|=0;m=(m|0)+2;e=(e|0)+2;f=b+m;l=d+e;switch(I){case 1:var K=c;for(L=m<<1;d<l;d+=
1){if((d&E)!==d)u.fill(n,F,F+L),F+=B,u.fill(n,F,F+L);else{var N=a[d];var J=F;for(G=b;G<f;G+=1){var S=(G&D)!==G?n:w[N[G]];u[F]=S;u[F+1]=S;F+=2}F=J+B;u.copyWithin(F,J,J+L)}F=K;K+=c}break;case 2:K=c;for(L=m<<2;d<l;d+=1){if((d&E)!==d)u.fill(n,F,F+L),F+=B,u.fill(n,F,F+L),F+=B,u.fill(n,F,F+L),F+=B,u.fill(n,F,F+L);else{N=a[d];J=F;for(G=b;G<f;G+=1)S=(G&D)!==G?n:w[N[G]],u[F]=S,u[F+1]=S,u[F+2]=S,u[F+3]=S,F+=4;F=J+B;u.copyWithin(F,J,J+L);F+=B;J+=B;u.copyWithin(F,J,J+L);F+=B;J+=B;u.copyWithin(F,J,J+L)}F=K;K+=
c}break;default:for(K=c,L=m*x;d<l;d+=1){if((d&E)!==d)for(N=0;N<I;N+=1)u.fill(n,F,F+L),F+=B,u.fill(n,F,F+L),F+=B;else{N=a[d];J=F;for(G=b;G<f;G+=1)for(S=(G&D)!==G?n:w[N[G]],H=0;H<I;H+=1)u[F]=S,u[F+1]=S,F+=2;F=J+B;for(N=1;N<x;N+=1)u.copyWithin(F,J,J+L),J+=B,F+=B}F=K;K+=c}}y.putImageData(z,0,0,0,0,m*x,e*x);this.context.imageSmoothingEnabled=!0;this.context.drawImage(this.jd,0,0,m*x,e*x,A,C,m*this.oa,e*t);this.context.imageSmoothingEnabled=!1;p||r||(this.qc||this.kd)&&this.Uh()?(this.Nc=this.context.getImageData(0,
0,this.context.canvas.width,this.context.canvas.height),this.yd=new Uint32Array(this.Nc.data.buffer),p&&this.Rd(),(this.qc||this.kd)&&this.Uh()&&this.Hd()):this.kk=!1};q.prototype.xp=function(a,b,d,f,l,n,p,r,w){var u=this.Se,y=this.nk,z=this.lj,x=this.mj,B=(this.oa|0)<<1,c=this.jd.width,m=c*B,e=l-d,t=n-f,A=-(d-Math.floor(d))*this.oa,C=-(f-Math.floor(f))*this.oa,D=this.width-1,E=this.height-1,G,F=0,H=this.Pa,I=B>>1,L=ViewConstants.bb[3]+128,K=ViewConstants.bb[4]+128,N=ViewConstants.bb[5]+128,J=ViewConstants.bb[6]+
128,S;f|=0;d|=0;e=(e|0)+2;t=(t|0)+2;l=d+e;n=f+t;switch(I){case 1:var U=m;for(S=e<<1;f<n;f+=1){if((f&E)!==f)y.fill(p,F,F+S),F+=c,y.fill(p,F,F+S);else{var V=b[f];var P=a[f];var sa=F;for(G=d;G<l;G+=1){if((G&D)!==G)var X=p;else{X=V[G];var ja=P[G];ja===K||ja===J?(X>=H&&(ja=L),X=u[ja]):ja===L||ja===N?(X<H&&(ja=K),X=u[ja]):X=u[X]}y[F]=X;y[F+1]=X;F+=2}F=sa+c;y.copyWithin(F,sa,sa+S)}F=U;U+=m}break;case 2:U=m;for(S=e<<2;f<n;f+=1){if((f&E)!==f)y.fill(p,F,F+S),F+=c,y.fill(p,F,F+S),F+=c,y.fill(p,F,F+S),F+=c,y.fill(p,
F,F+S);else{V=b[f];P=a[f];sa=F;for(G=d;G<l;G+=1)(G&D)!==G?X=p:(X=V[G],ja=P[G],ja===K||ja===J?(X>=H&&(ja=L),X=u[ja]):ja===L||ja===N?(X<H&&(ja=K),X=u[ja]):X=u[X]),y[F]=X,y[F+1]=X,y[F+2]=X,y[F+3]=X,F+=4;F=sa+c;y.copyWithin(F,sa,sa+S);F+=c;sa+=c;y.copyWithin(F,sa,sa+S);F+=c;sa+=c;y.copyWithin(F,sa,sa+S)}F=U;U+=m}break;default:for(U=m,S=e*B;f<n;f+=1){if((f&E)!==f)for(V=0;V<I;V+=1)y.fill(p,F,F+S),F+=c,y.fill(p,F,F+S),F+=c;else{V=b[f];P=a[f];sa=F;for(G=d;G<l;G+=1)for((G&D)!==G?X=p:(X=V[G],ja=P[G],ja===K||
ja===J?(X>=H&&(ja=L),X=u[ja]):ja===L||ja===N?(X<H&&(ja=K),X=u[ja]):X=u[X]),ja=0;ja<I;ja+=1)y[F]=X,y[F+1]=X,F+=2;F=sa+c;for(V=1;V<B;V+=1)y.copyWithin(F,sa,sa+S),sa+=c,F+=c}F=U;U+=m}}z.putImageData(x,0,0,0,0,e*B,t*B);this.context.imageSmoothingEnabled=!0;this.context.drawImage(this.jd,0,0,e*B,t*B,A,C,e*this.oa,t*this.oa);this.context.imageSmoothingEnabled=!1;r||w||(this.qc||this.kd)&&this.Uh()?(this.Nc=this.context.getImageData(0,0,this.context.canvas.width,this.context.canvas.height),this.yd=new Uint32Array(this.Nc.data.buffer),
r&&this.Rd(),(this.qc||this.kd)&&this.Uh()&&this.Hd()):this.kk=!1};q.prototype.GI=function(a,b,d,f){var l=this.J>>3,n=this.Se,p=this.yd,r,w,u=ViewConstants.bb[3]+128,y=ViewConstants.bb[4]+128,z=ViewConstants.bb[5]+128,x=ViewConstants.bb[6]+128,B=1,c=1,m=0,e=this.Pa,t=this.Ab&~d,A=this.Cb&~d,C=~d,D=~d,E=b,G=this.oa;1<this.B&&(B=this.$);var F=Math.sin(this.ib/180*Math.PI)/this.oa;var H=Math.cos(this.ib/180*Math.PI)/this.oa;var I=-(this.J/2*-F+this.H/2*H)+this.Le;var L=-(this.J/2*H+this.H/2*F)+this.Ke;
1<this.$&&1<this.B&&(m=.4/(this.$-1),c=.6);this.Yd(c);var K=this.width<this.ga||this.height<this.ga?n[0]|0:this.nl|0;var N=0;var J=I;for(r=0;r<this.H;r+=1){var S=L;for(w=0;w<l;w+=1){if(0<=S&&(S&C)===(S&t)&&0<=J&&(J&D)===(J&A)){var U=E[J&A][S&t];var V=a[J&A][S&t];V===y||V===x?(U>=e&&(V=u),U=n[V]|0):V===u||V===z?(U<e&&(V=y),U=n[V]|0):U=n[U]|0;p[N]=U}else p[N]=K;N+=1;S+=H;J-=F;0<=S&&(S&C)===(S&t)&&0<=J&&(J&D)===(J&A)?(U=E[J&A][S&t],V=a[J&A][S&t],V===y||V===x?(U>=e&&(V=u),U=n[V]|0):V===u||V===z?(U<e&&
(V=y),U=n[V]|0):U=n[U]|0,p[N]=U):p[N]=K;N+=1;S+=H;J-=F;0<=S&&(S&C)===(S&t)&&0<=J&&(J&D)===(J&A)?(U=E[J&A][S&t],V=a[J&A][S&t],V===y||V===x?(U>=e&&(V=u),U=n[V]|0):V===u||V===z?(U<e&&(V=y),U=n[V]|0):U=n[U]|0,p[N]=U):p[N]=K;N+=1;S+=H;J-=F;0<=S&&(S&C)===(S&t)&&0<=J&&(J&D)===(J&A)?(U=E[J&A][S&t],V=a[J&A][S&t],V===y||V===x?(U>=e&&(V=u),U=n[V]|0):V===u||V===z?(U<e&&(V=y),U=n[V]|0):U=n[U]|0,p[N]=U):p[N]=K;N+=1;S+=H;J-=F;0<=S&&(S&C)===(S&t)&&0<=J&&(J&D)===(J&A)?(U=E[J&A][S&t],V=a[J&A][S&t],V===y||V===x?(U>=
e&&(V=u),U=n[V]|0):V===u||V===z?(U<e&&(V=y),U=n[V]|0):U=n[U]|0,p[N]=U):p[N]=K;N+=1;S+=H;J-=F;0<=S&&(S&C)===(S&t)&&0<=J&&(J&D)===(J&A)?(U=E[J&A][S&t],V=a[J&A][S&t],V===y||V===x?(U>=e&&(V=u),U=n[V]|0):V===u||V===z?(U<e&&(V=y),U=n[V]|0):U=n[U]|0,p[N]=U):p[N]=K;N+=1;S+=H;J-=F;0<=S&&(S&C)===(S&t)&&0<=J&&(J&D)===(J&A)?(U=E[J&A][S&t],V=a[J&A][S&t],V===y||V===x?(U>=e&&(V=u),U=n[V]|0):V===u||V===z?(U<e&&(V=y),U=n[V]|0):U=n[U]|0,p[N]=U):p[N]=K;N+=1;S+=H;J-=F;0<=S&&(S&C)===(S&t)&&0<=J&&(J&D)===(J&A)?(U=E[J&
A][S&t],V=a[J&A][S&t],V===y||V===x?(U>=e&&(V=u),U=n[V]|0):V===u||V===z?(U<e&&(V=y),U=n[V]|0):U=n[U]|0,p[N]=U):p[N]=K;N+=1;S+=H;J-=F}L+=F;J=I+=H}f&&this.Rd();(this.qc||this.kd)&&this.Uh()&&this.Hd();E=b;for(a=1;a<B;a+=1)for(b=2<this.i?0===this.K?this.i/this.$*a|0:a<B/2?this.K/this.$*a*2|0:this.K+this.i/this.$*a|0:this.de?1:(this.Sf+1)/this.$*a|0,c+=m,this.Yd(c),F/=this.B,H/=this.B,G*=this.B,r=d,.125>G?d=15:.25>G?d=7:.5>G?d=3:1>G?d=1:(E=this.S,d=0),d!==r&&(E=this.S),t=this.Ab&~d,A=this.Cb&~d,C=~d,D=
~d,I=-(this.J/2*-F+this.H/2*H)+this.Le,L=-(this.J/2*H+this.H/2*F)+this.Ke,N=0,J=I,r=0;r<this.H;r+=1){S=L;for(w=0;w<l;w+=1)0<=S&&(S&C)===(S&t)&&0<=J&&(J&D)===(J&A)&&(U=E[J&A][S&t]|0,U>=b&&(p[N]=n[U])),N+=1,S+=H,J-=F,0<=S&&(S&C)===(S&t)&&0<=J&&(J&D)===(J&A)&&(U=E[J&A][S&t]|0,U>=b&&(p[N]=n[U])),N+=1,S+=H,J-=F,0<=S&&(S&C)===(S&t)&&0<=J&&(J&D)===(J&A)&&(U=E[J&A][S&t]|0,U>=b&&(p[N]=n[U])),N+=1,S+=H,J-=F,0<=S&&(S&C)===(S&t)&&0<=J&&(J&D)===(J&A)&&(U=E[J&A][S&t]|0,U>=b&&(p[N]=n[U])),N+=1,S+=H,J-=F,0<=S&&(S&
C)===(S&t)&&0<=J&&(J&D)===(J&A)&&(U=E[J&A][S&t]|0,U>=b&&(p[N]=n[U])),N+=1,S+=H,J-=F,0<=S&&(S&C)===(S&t)&&0<=J&&(J&D)===(J&A)&&(U=E[J&A][S&t]|0,U>=b&&(p[N]=n[U])),N+=1,S+=H,J-=F,0<=S&&(S&C)===(S&t)&&0<=J&&(J&D)===(J&A)&&(U=E[J&A][S&t]|0,U>=b&&(p[N]=n[U])),N+=1,S+=H,J-=F,0<=S&&(S&C)===(S&t)&&0<=J&&(J&D)===(J&A)&&(U=E[J&A][S&t]|0,U>=b&&(p[N]=n[U])),N+=1,S+=H,J-=F;L+=F;J=I+=H}};q.prototype.II=function(a,b,d,f){var l=this.J>>3,n=this.Se,p=this.yd,r,w,u=ViewConstants.bb[3]+128,y=ViewConstants.bb[4]+128,
z=ViewConstants.bb[5]+128,x=ViewConstants.bb[6]+128,B=1,c=1,m=0,e=this.Pa,t=this.Ab&~d,A=this.Cb&~d,C=b,D=this.oa;1<this.B&&(B=this.$);var E=Math.sin(this.ib/180*Math.PI)/this.oa;var G=Math.cos(this.ib/180*Math.PI)/this.oa;var F=-(this.J/2*-E+this.H/2*G)+this.Le;var H=-(this.J/2*G+this.H/2*E)+this.Ke;1<this.$&&1<this.B&&(m=.4/(this.$-1),c=.6);this.Yd(c);var I=0;var L=F;for(r=0;r<this.H;r+=1){var K=H;for(w=0;w<l;w+=1){var N=C[L&A][K&t];var J=a[L&A][K&t];J===y||J===x?(N>=e&&(J=u),N=n[J]|0):J===u||J===
z?(N<e&&(J=y),N=n[J]|0):N=n[N]|0;p[I]=N;I+=1;K+=G;L-=E;N=C[L&A][K&t];J=a[L&A][K&t];J===y||J===x?(N>=e&&(J=u),N=n[J]|0):J===u||J===z?(N<e&&(J=y),N=n[J]|0):N=n[N]|0;p[I]=N;I+=1;K+=G;L-=E;N=C[L&A][K&t];J=a[L&A][K&t];J===y||J===x?(N>=e&&(J=u),N=n[J]|0):J===u||J===z?(N<e&&(J=y),N=n[J]|0):N=n[N]|0;p[I]=N;I+=1;K+=G;L-=E;N=C[L&A][K&t];J=a[L&A][K&t];J===y||J===x?(N>=e&&(J=u),N=n[J]|0):J===u||J===z?(N<e&&(J=y),N=n[J]|0):N=n[N]|0;p[I]=N;I+=1;K+=G;L-=E;N=C[L&A][K&t];J=a[L&A][K&t];J===y||J===x?(N>=e&&(J=u),N=
n[J]|0):J===u||J===z?(N<e&&(J=y),N=n[J]|0):N=n[N]|0;p[I]=N;I+=1;K+=G;L-=E;N=C[L&A][K&t];J=a[L&A][K&t];J===y||J===x?(N>=e&&(J=u),N=n[J]|0):J===u||J===z?(N<e&&(J=y),N=n[J]|0):N=n[N]|0;p[I]=N;I+=1;K+=G;L-=E;N=C[L&A][K&t];J=a[L&A][K&t];J===y||J===x?(N>=e&&(J=u),N=n[J]|0):J===u||J===z?(N<e&&(J=y),N=n[J]|0):N=n[N]|0;p[I]=N;I+=1;K+=G;L-=E;N=C[L&A][K&t];J=a[L&A][K&t];J===y||J===x?(N>=e&&(J=u),N=n[J]|0):J===u||J===z?(N<e&&(J=y),N=n[J]|0):N=n[N]|0;p[I]=N;I+=1;K+=G;L-=E}H+=E;L=F+=G}f&&this.Rd();(this.qc||this.kd)&&
this.Uh()&&this.Hd();C=b;for(a=1;a<B;a+=1)for(b=2<this.i?0===this.K?this.i/this.$*a|0:a<B/2?this.K/this.$*a*2|0:this.K+this.i/this.$*a|0:this.de?1:(this.Sf+1)/this.$*a|0,c+=m,this.Yd(c),E/=this.B,G/=this.B,D*=this.B,r=d,.125>D?d=15:.25>D?d=7:.5>D?d=3:1>D?d=1:(C=this.S,d=0),d!==r&&(C=this.S),t=this.Ab&~d,A=this.Cb&~d,F=-(this.J/2*-E+this.H/2*G)+this.Le,H=-(this.J/2*G+this.H/2*E)+this.Ke,I=0,L=F,r=0;r<this.H;r+=1){K=H;for(w=0;w<l;w+=1)N=C[L&A][K&t]|0,N>=b&&(p[I]=n[N]),I+=1,K+=G,L-=E,N=C[L&A][K&t]|0,
N>=b&&(p[I]=n[N]),I+=1,K+=G,L-=E,N=C[L&A][K&t]|0,N>=b&&(p[I]=n[N]),I+=1,K+=G,L-=E,N=C[L&A][K&t]|0,N>=b&&(p[I]=n[N]),I+=1,K+=G,L-=E,N=C[L&A][K&t]|0,N>=b&&(p[I]=n[N]),I+=1,K+=G,L-=E,N=C[L&A][K&t]|0,N>=b&&(p[I]=n[N]),I+=1,K+=G,L-=E,N=C[L&A][K&t]|0,N>=b&&(p[I]=n[N]),I+=1,K+=G,L-=E,N=C[L&A][K&t]|0,N>=b&&(p[I]=n[N]),I+=1,K+=G,L-=E;H+=E;L=F+=G}};q.prototype.JI=function(a,b,d,f){var l=this.J>>3,n=this.Se,p=this.yd,r,w=ViewConstants.bb[3]+128,u=ViewConstants.bb[4]+128,y=ViewConstants.bb[5]+128,z=ViewConstants.bb[6]+
128,x=1,B=1,c=0,m=this.Pa,e=this.Ab&~d,t=this.Cb&~d,A=b,C=this.oa;1<this.B&&(x=this.$);var D=1/this.oa;this.P&&(D/=ViewConstants.he);var E=1/this.oa;var G=-(this.H/2*D)+this.Le;var F=-(this.J/2*E)+this.Ke;1<this.$&&1<this.B&&(c=.4/(this.$-1),B=.6);this.Yd(B);var H=0;var I=G;for(r=0;r<this.H;r+=1){var L=A[I&t];var K=a[I&t];var N=F;this.U&&(N+=.5*(I|0));for(I=0;I<l;I+=1){var J=L[N&e];var S=K[N&e];S===u||S===z?(J>=m&&(S=w),J=n[S]|0):S===w||S===y?(J<m&&(S=u),J=n[S]|0):J=n[J]|0;p[H]=J;H+=1;N+=E;J=L[N&
e];S=K[N&e];S===u||S===z?(J>=m&&(S=w),J=n[S]|0):S===w||S===y?(J<m&&(S=u),J=n[S]|0):J=n[J]|0;p[H]=J;H+=1;N+=E;J=L[N&e];S=K[N&e];S===u||S===z?(J>=m&&(S=w),J=n[S]|0):S===w||S===y?(J<m&&(S=u),J=n[S]|0):J=n[J]|0;p[H]=J;H+=1;N+=E;J=L[N&e];S=K[N&e];S===u||S===z?(J>=m&&(S=w),J=n[S]|0):S===w||S===y?(J<m&&(S=u),J=n[S]|0):J=n[J]|0;p[H]=J;H+=1;N+=E;J=L[N&e];S=K[N&e];S===u||S===z?(J>=m&&(S=w),J=n[S]|0):S===w||S===y?(J<m&&(S=u),J=n[S]|0):J=n[J]|0;p[H]=J;H+=1;N+=E;J=L[N&e];S=K[N&e];S===u||S===z?(J>=m&&(S=w),J=n[S]|
0):S===w||S===y?(J<m&&(S=u),J=n[S]|0):J=n[J]|0;p[H]=J;H+=1;N+=E;J=L[N&e];S=K[N&e];S===u||S===z?(J>=m&&(S=w),J=n[S]|0):S===w||S===y?(J<m&&(S=u),J=n[S]|0):J=n[J]|0;p[H]=J;H+=1;N+=E;J=L[N&e];S=K[N&e];S===u||S===z?(J>=m&&(S=w),J=n[S]|0):S===w||S===y?(J<m&&(S=u),J=n[S]|0):J=n[J]|0;p[H]=J;H+=1;N+=E}I=G+=D}f&&this.Rd();(this.qc||this.kd)&&this.Uh()&&this.Hd();A=b;for(a=1;a<x;a+=1)for(b=2<this.i?0===this.K?this.i/this.$*a|0:a<x/2?this.K/this.$*a*2|0:this.K+this.i/this.$*a|0:this.de?1:(this.Sf+1)/this.$*a|
0,B+=c,this.Yd(B),D/=this.B,E/=this.B,C*=this.B,r=d,.125>C?d=15:.25>C?d=7:.5>C?d=3:1>C?d=1:(A=this.S,d=0),d!==r&&(A=this.S),e=this.Ab&~d,t=this.Cb&~d,G=-(this.H/2*D)+this.Le,F=-(this.J/2*E)+this.Ke,H=0,I=G,r=0;r<this.H;r+=1){L=A[I&t];N=F;this.U&&(N+=.5*(I|0));for(I=0;I<l;I+=1)J=L[N&e]|0,J>=b&&(p[H]=n[J]),H+=1,N+=E,J=L[N&e]|0,J>=b&&(p[H]=n[J]),H+=1,N+=E,J=L[N&e]|0,J>=b&&(p[H]=n[J]),H+=1,N+=E,J=L[N&e]|0,J>=b&&(p[H]=n[J]),H+=1,N+=E,J=L[N&e]|0,J>=b&&(p[H]=n[J]),H+=1,N+=E,J=L[N&e]|0,J>=b&&(p[H]=n[J]),
H+=1,N+=E,J=L[N&e]|0,J>=b&&(p[H]=n[J]),H+=1,N+=E,J=L[N&e]|0,J>=b&&(p[H]=n[J]),H+=1,N+=E;I=G+=D}};q.prototype.HI=function(a,b,d,f){var l=this.J>>3,n=this.Se,p=this.yd,r,w=ViewConstants.bb[3]+128,u=ViewConstants.bb[4]+128,y=ViewConstants.bb[5]+128,z=ViewConstants.bb[6]+128,x=1,B=1,c=0,m=this.Pa,e=this.Ab&~d,t=this.Cb&~d,A=~d,C=~d,D=b,E=this.oa;1<this.B&&(x=this.$);var G=1/this.oa;this.P&&(G/=ViewConstants.he);var F=1/this.oa;var H=-(this.H/2*G)+this.Le;var I=-(this.J/2*F)+this.Ke;1<this.$&&1<this.B&&
(c=.4/(this.$-1),B=.6);this.Yd(B);var L=this.width<this.ga||this.height<this.ga?n[0]|0:this.nl|0;var K=0;var N=H;for(r=0;r<this.H;r+=1){if(0<=N&&(N&C)===(N&t)){var J=D[N&t];var S=a[N&t];var U=I;this.U&&(U+=.5*(N|0));for(N=0;N<l;N+=1){if(0<=U&&(U&A)===(U&e)){var V=J[U&e];var P=S[U&e];P===u||P===z?(V>=m&&(P=w),V=n[P]|0):P===w||P===y?(V<m&&(P=u),V=n[P]|0):V=n[V]|0}else V=L;p[K]=V;K+=1;U+=F;0<=U&&(U&A)===(U&e)?(V=J[U&e],P=S[U&e],P===u||P===z?(V>=m&&(P=w),V=n[P]|0):P===w||P===y?(V<m&&(P=u),V=n[P]|0):V=
n[V]|0):V=L;p[K]=V;K+=1;U+=F;0<=U&&(U&A)===(U&e)?(V=J[U&e],P=S[U&e],P===u||P===z?(V>=m&&(P=w),V=n[P]|0):P===w||P===y?(V<m&&(P=u),V=n[P]|0):V=n[V]|0):V=L;p[K]=V;K+=1;U+=F;0<=U&&(U&A)===(U&e)?(V=J[U&e],P=S[U&e],P===u||P===z?(V>=m&&(P=w),V=n[P]|0):P===w||P===y?(V<m&&(P=u),V=n[P]|0):V=n[V]|0):V=L;p[K]=V;K+=1;U+=F;0<=U&&(U&A)===(U&e)?(V=J[U&e],P=S[U&e],P===u||P===z?(V>=m&&(P=w),V=n[P]|0):P===w||P===y?(V<m&&(P=u),V=n[P]|0):V=n[V]|0):V=L;p[K]=V;K+=1;U+=F;0<=U&&(U&A)===(U&e)?(V=J[U&e],P=S[U&e],P===u||P===
z?(V>=m&&(P=w),V=n[P]|0):P===w||P===y?(V<m&&(P=u),V=n[P]|0):V=n[V]|0):V=L;p[K]=V;K+=1;U+=F;0<=U&&(U&A)===(U&e)?(V=J[U&e],P=S[U&e],P===u||P===z?(V>=m&&(P=w),V=n[P]|0):P===w||P===y?(V<m&&(P=u),V=n[P]|0):V=n[V]|0):V=L;p[K]=V;K+=1;U+=F;0<=U&&(U&A)===(U&e)?(V=J[U&e],P=S[U&e],P===u||P===z?(V>=m&&(P=w),V=n[P]|0):P===w||P===y?(V<m&&(P=u),V=n[P]|0):V=n[V]|0):V=L;p[K]=V;K+=1;U+=F}}else p.fill(L,K,K+this.J+1),K+=this.J;N=H+=G}f&&this.Rd();(this.qc||this.kd)&&this.Uh()&&this.Hd();D=b;for(a=1;a<x;a+=1)for(b=2<
this.i?0===this.K?this.i/this.$*a|0:a<x/2?this.K/this.$*a*2|0:this.K+this.i/this.$*a|0:this.de?1:(this.Sf+1)/this.$*a|0,B+=c,this.Yd(B),G/=this.B,F/=this.B,E*=this.B,r=d,.125>E?d=15:.25>E?d=7:.5>E?d=3:1>E?d=1:(D=this.S,d=0),d!==r&&(D=this.S),e=this.Ab&~d,t=this.Cb&~d,A=~d,C=~d,H=-(this.H/2*G)+this.Le,I=-(this.J/2*F)+this.Ke,K=0,N=H,r=0;r<this.H;r+=1){if(0<=N&&(N&C)===(N&t))for(J=D[N&t],U=I,this.U&&(U+=.5*(N|0)),N=0;N<l;N+=1)0<=U&&(U&A)===(U&e)&&(V=J[U&e]|0,V>=b&&(p[K]=n[V])),K+=1,U+=F,0<=U&&(U&A)===
(U&e)&&(V=J[U&e]|0,V>=b&&(p[K]=n[V])),K+=1,U+=F,0<=U&&(U&A)===(U&e)&&(V=J[U&e]|0,V>=b&&(p[K]=n[V])),K+=1,U+=F,0<=U&&(U&A)===(U&e)&&(V=J[U&e]|0,V>=b&&(p[K]=n[V])),K+=1,U+=F,0<=U&&(U&A)===(U&e)&&(V=J[U&e]|0,V>=b&&(p[K]=n[V])),K+=1,U+=F,0<=U&&(U&A)===(U&e)&&(V=J[U&e]|0,V>=b&&(p[K]=n[V])),K+=1,U+=F,0<=U&&(U&A)===(U&e)&&(V=J[U&e]|0,V>=b&&(p[K]=n[V])),K+=1,U+=F,0<=U&&(U&A)===(U&e)&&(V=J[U&e]|0,V>=b&&(p[K]=n[V])),K+=1,U+=F;else K+=l<<3;N=H+=G}};q.prototype.Nh=function(a,b,d,f,l){var n=Math.sin(this.ib/180*
Math.PI)/this.oa,p=Math.cos(this.ib/180*Math.PI)/this.oa,r=this.J,w=this.H,u=-(this.J/2*-n+this.H/2*p)+this.Le,y=-(this.J/2*p+this.H/2*n)+this.Ke,z=u+r*-n,x=y+r*p,B=u+w*p;w=y+w*n;n=B+r*-n;p=w+r*p;r=B;var c=w;p<c&&(c=p);y<c&&(c=y);x<c&&(c=y);p>w&&(w=p);y>w&&(w=y);x>w&&(w=x);n>r&&(r=n);u>r&&(r=u);z>r&&(r=z);n<B&&(B=n);u<B&&(B=u);z<B&&(B=z);0>(c|0)||(w|0)>=this.width||0>(B|0)||(r|0)>=this.height?0===this.ib?this.wh&&1<=this.oa&&1===this.$&&(this.oa|0)!==this.oa?(this.Yd(1),this.width!==this.ga?this.xp(a,
b,c,B,w,r,this.Se[0],f,l):this.xp(a,b,c,B,w,r,this.nl,f,l)):this.HI(a,b,d,f):this.GI(a,b,d,f):0===this.ib?this.wh&&1<=this.oa&&1===this.$&&(this.oa|0)!==this.oa?(this.Yd(1),this.xp(a,b,c,B,w,r,this.Se[0],f,l)):this.JI(a,b,d,f):this.II(a,b,d,f)};q.prototype.Or=function(){var a;if(this.kk){if(!this.Nc.data.buffer){var b=this.Nc.data;var d=this.gl;var f=d.length;for(a=0;a<f;)b[a]=d[a],a+=1,b[a]=d[a],a+=1,b[a]=d[a],a+=1,b[a]=d[a],a+=1}if(0!==this.Na){var l,n;a=this.context.canvas.width;f=this.context.canvas.height;
b=this.yd;d=this.jj;var p=a>>1,r=f>>1;var w=this.Na-1;var u=this.nl,y=(2*w+2)/f;null===this.jj&&(d=this.jj=this.A.R(Uint32,a*f,"Life.tiltBuffer"));var z=-w;for(w=0;w<f;w+=1){var x=w-r;0>=z?l=f:l=x/z+r|0;var B=w*a;if(0>l||l>=f)for(n=0;n<a;n+=1)d[B+n]=u;else{var c=l*a;x=-p/z+p;n=p/z+p;var m=(n-x)/a;for(n=0;n<a;n+=1){var e=x|0;d[B+n]=0>e||e>=a?u:b[c+e];x+=m}}z+=y}b.set(d)}this.context.putImageData(this.Nc,0,0)}};q.prototype.NA=function(a){this.yd.fill(a)};window.LifeConstants=k;window.Life=q}(),function(){function v(h,
g){var q=0,k=0,a=h.length,b=!1,d=!1,f=!1,l=0,n=new Uint32Array(a),p=new Uint16Array(a),r=new Uint32Array(a),w=0,u=0;-1!==h.indexOf("&")&&(h=h.replace(/&amp;/g,"&"),h=h.replace(/&lt;/g,"<"),h=h.replace(/&gt;/g,">"),a=h.length);for(;q<a;){var y=h.charCodeAt(q);switch(y){case 32:case 13:case 9:case 123:case 125:!d&&b&&(n[l]=k,p[l]=q-k,r[l]=(w<<1)+1&u,l+=1,b=!1);break;case 44:g?!d&&b&&(n[l]=k,p[l]=q-k,r[l]=(w<<1)+1&u,l+=1,b=!1):b||(b=!0,u=0,d=!1,k=q);break;case 10:b&&(n[l]=k,p[l]=q-k,r[l]=(w<<1)+1&u,
l+=1,b=!1);d=!1;g&&(0<l&&"\n"!==h[n[l-1]]&&(n[l]=q,p[l]=1,r[l]=0,l+=1),f=!1);break;case 58:case 61:g?d||(b&&(n[l]=k,p[l]=q-k,r[l]=(w<<1)+1&u,l+=1,b=!1),n[l]=q,p[l]=1,r[l]=0,l+=1):b||(b=!0,u=0,d=!1,k=q);break;case 34:g?d||(f=!f,b||(b=!0,k=q)):b||(b=!0,u=0,k=q);break;case 35:g?f||d||(b&&(n[l]=k,p[l]=q-k,r[l]=(w<<1)+1&u,l+=1,b=!1),d=!0):b||(b=!0,u=0,d=!1,k=q);break;default:d||(b?48<=y&&57>=y?(w=10*w+y-48,1073741824<=w&&(u=0)):u=0:(b=!0,k=q,48<=y&&57>=y?(u=-1,w=y-48):u=0))}q+=1}b&&(n[l]=k,p[l]=q-k,r[l]=
(w<<1)+1&u,l+=1);this.B=n.slice(0,l);this.G=p.slice(0,l);this.T=r.slice(0,l);this.current=0;this.source=h}v.prototype.aL=function(h,g){return 0>h||h>=this.B.length||0>g||g>=this.B.length||h>g?"":this.source.substring(this.B[h],this.B[g]+this.G[g])};v.prototype.OH=function(){0<this.current&&--this.current};v.prototype.vn=function(){for(;this.current<this.B.length&&10!==this.source.charCodeAt(this.B[this.current]);)this.current+=1;this.current<this.B.length&&(this.current+=1)};v.prototype.sx=function(){for(;this.current<
this.B.length&&10===this.source.charCodeAt(this.B[this.current]);)this.current+=1};v.prototype.pM=function(){var h=!1;this.current<this.B.length&&10!==this.source.charCodeAt(this.B[this.current])&&(h=!0);return h};v.prototype.rq=function(){var h=!1;this.current<this.B.length&&10===this.source.charCodeAt(this.B[this.current])&&(h=!0);return h};v.prototype.W=function(){var h="";this.current<this.B.length&&(h=this.source.substr(this.B[this.current],this.G[this.current]),this.current+=1);return h};v.prototype.oF=
function(){var h;for(h=this.W();"\n"===h;)h=this.W();return h};v.prototype.Ga=function(){var h="";this.current<this.B.length&&(h=this.source.substr(this.B[this.current],this.G[this.current]));return h};v.prototype.hF=function(){return this.na(Keywords.Xo,-1,!1)};v.prototype.Tp=function(h,g){return this.na(h,g,!0)};v.prototype.na=function(h,g,q){var k=-1,a=this.current;for(-1!==g&&0<=g&&g<this.B.length&&(a=g);a<this.B.length&&-1===k;){if(h.length===this.G[a]){var b=0;for(g=!0;g&&b<h.length;)h[b]!==
this.source[this.B[a]+b]?g=!1:b+=1}else g=!1;g&&(q&&0!==a&&10!==this.source.charCodeAt(this.B[a-1])&&(g=!1),g&&(k=a));a+=1}-1!==k&&(this.current=a);return k};v.prototype.Hm=function(h){return!isNaN(parseFloat(h))&&isFinite(Number(h))};v.prototype.da=function(h){var g=!1,q=h.indexOf("/");-1!==q&&(g=h.substr(0,q),h=h.substr(q+1),g=this.Hm(g)&&this.Hm(h));return g};v.prototype.Qy=function(h){var g=0;if(this.da(h)){var q=h.indexOf("/");var k=h.substr(0,q);h=h.substr(q+1);0!==Number(h)&&(g=Number(k)/Number(h))}else this.Hm(h)&&
(g=parseFloat(h));return g};v.prototype.O=function(){var h=0;this.current<this.B.length&&(0!==this.T[this.current]?(h=this.T[this.current]>>1,this.current+=1):(h=this.W(),h=this.Qy(h)));return h};v.prototype.N=function(){var h=!1;if(this.current<this.B.length)if(this.T[this.current])h=!0;else{var g=this.source.substr(this.B[this.current],this.G[this.current]);this.da(g)?h=!0:h=this.Hm(g)}return h};v.prototype.SK=function(){var h=!1;var g=this.current+1;g<this.B.length&&(this.T[g]?h=!0:(g=this.source.substr(this.B[g],
this.G[g]),this.da(g)?h=!0:h=this.Hm(g)));return h};v.prototype.FK=function(){this.current=this.B.length};window.Script=v}(),function(){function v(b){this.C=b;this.So=this.ci=this.eq=!1;this.qh=a.hB;this.Ok=a.Fq;this.jb=this.jc=-1;this.Na=this.angle=this.y=this.x=0;this.depth=this.$=this.zoom=1;this.Mc=0;this.Hc=60;this.step=1;this.fd=this.nc=0;this.gg="";this.mt=this.Al=this.wx=this.Xt=this.bm=this.am=this.cD=this.RH=this.Et=this.Mm=this.Cn=this.wf=this.Xf=this.Ig=this.Gi=this.Pi=this.ke=this.mi=
this.Sh=this.Qf=this.ig=this.zd=this.xn=this.wi=this.ui=this.si=this.Df=!1}function h(b,d,f,l,n,p,r,w,u,y,z,x,B,c,m,e,t){this.coords=b;this.oA=d;this.zoom=f;this.Xa=l;this.Ib=n;this.hh=p;this.alpha=r;this.size=w;this.vc=u;this.Eh=y;this.Pd=z;this.angle=x;this.dm=B;this.ln=c;this.fg=m;this.rm=e;this.sm=t;-1E3===this.Ib&&-1E3===this.Xa&&(this.Xa=this.zoom/4,this.Ib=4*this.zoom)}function g(b,d,f,l,n,p,r,w,u,y,z,x,B,c,m,e,t,A,C,D){this.hE=b;this.iE=d;this.AI=f;this.BI=l;this.zoom=n;this.Xa=p;this.Ib=
r;this.hh=w;this.alpha=u;this.size=y;this.BF=z;this.vc=x;this.Eh=B;this.Pd=c;this.angle=m;this.dm=e;this.ln=t;this.fg=A;this.rm=C;this.sm=D;-1E3===this.Ib&&-1E3===this.Xa&&(this.Xa=this.zoom/4,this.Ib=4*this.zoom)}function q(b,d,f,l,n,p,r,w,u,y,z,x,B,c,m,e,t,A){this.message="";this.xh=this.Tk=this.Hv=this.Iq=-1;this.x=b;this.y=d;this.zoom=f;this.Xa=l;this.Ib=n;this.hh=p;this.alpha=r;this.size=w;this.sO=u;this.vc=y;this.Eh=z;this.Pd=x;this.angle=B;this.dm=c;this.ln=m;this.fg=e;this.rm=t;this.sm=A;
-1E3===this.Ib&&-1E3===this.Xa&&(this.Xa=this.zoom/4,this.Ib=4*this.zoom)}function k(){this.Ua=[];this.yc=[];this.qf=[];this.Tf=[];this.ag=[];this.current=new v(this);this.ab=new v(this);this.G=new v(this);this.T=!1;this.$i=0;this.$r=this.da=!1}var a={hB:0,play:1,stop:2,Fq:12,aH:0,$G:200};v.prototype.set=function(b){this.eq=b.eq;this.ci=b.ci;this.So=b.So;this.qh=b.qh;this.Ok=b.Ok;this.jc=b.jc;this.jb=b.jb;this.x=b.x;this.y=b.y;this.si=b.si;this.ui=b.ui;this.wi=b.wi;this.Df=b.Df;this.angle=b.angle;
this.Na=b.Na;this.zoom=b.zoom;this.$=b.$;this.depth=b.depth;this.Mc=b.Mc;this.Hc=b.Hc;this.step=b.step;this.nc=b.nc;this.fd=b.fd;this.gg=b.gg;this.xn=b.xn;this.zd=b.zd};v.prototype.B=function(){var b="";switch(this.qh){case a.play:b=Keywords.Gq;break;case a.stop:b=Keywords.Hq}return b};v.prototype.gO=function(b){this.ci?(this.qh!==a.hB&&(b[b.length]=[Keywords.Gq,"overwrites "+this.B()]),this.qh=a.play):b[b.length]=[Keywords.Gq,"only valid at POI"]};v.prototype.kO=function(b){this.ci?(this.qh!==a.hB&&
(b[b.length]=[Keywords.Hq,"overwrites "+this.B()]),this.qh=a.stop):b[b.length]=[Keywords.Hq,"only valid at POI"]};v.prototype.hO=function(b){this.ci?(this.So&&(b[b.length]=[Keywords.gt,"already defined"]),this.So=!0):b[b.length]=[Keywords.gt,"only valid at POI"]};v.prototype.mO=function(b,d){this.ci?(this.Ok!==a.Fq&&(d[d.length]=[Keywords.ht+" "+b,"overwrites "+this.Ok]),this.Ok=b):d[d.length]=[Keywords.ht,"only valid at POI"]};v.prototype.G=function(b,d,f){var l=b.fd+0,n=d.fd+0,p=b.angle+0,r=d.angle+
0,w=1,u=1,y=1,z=1,x=1;f>n&&(f=n);n-l===ViewConstants.rO&&(l=n);n!==l&&(w=Math.round((f-l)/(n-l)*1E6)/1E6,u=this.C.wE(w)+0);d.si||d.Df?y=w:y=u;d.ui||d.Df?z=w:z=u;d.wi||d.Df?x=w:x=u;this.x=b.x+y*(d.x-b.x);this.y=b.y+z*(d.y-b.y);this.zoom=b.zoom*Math.pow(d.zoom/b.zoom,x);180<r-p?p+=360:-180>r-p&&(r+=360);this.angle=(p+u*(r-p))%360;this.Na=b.Na+u*(d.Na-b.Na);this.$=b.$+w*(d.$-b.$)|0;this.depth=b.depth+w*(d.depth-b.depth);this.Mc=d.Mc;this.Hc=d.Hc;this.step=d.step;this.nc=b.nc+w*(d.nc-b.nc)|0;this.fd=
f;this.gg=d.gg;this.Df=d.Df;this.eq=d.eq};k.prototype.eK=function(b,d,f,l,n,p,r,w,u,y,z,x,B,c,m,e,t){return new h(b,d,f,l,n,p,r,w,u,y,z,x,B,c,m,e,t)};k.prototype.Fb=function(){this.ag=[]};k.prototype.dJ=function(b){this.ag[this.ag.length]=b};k.prototype.$J=function(b,d,f,l,n,p,r,w,u,y,z,x,B,c,m,e,t,A,C,D){return new g(b,d,f,l,n,p,r,w,u,y,z,x,B,c,m,e,t,A,C,D)};k.prototype.gb=function(){this.Tf=[]};k.prototype.aJ=function(b){this.Tf[this.Tf.length]=b};k.prototype.cK=function(b,d,f,l,n,p,r,w,u,y,z,x,
B,c,m,e,t,A){return new q(b,d,f,l,n,p,r,w,u,y,z,x,B,c,m,e,t,A)};k.prototype.zb=function(){this.qf=[]};k.prototype.mE=function(b){b.Iq=b.message.indexOf("#P");b.Hv=b.message.indexOf("#G");b.Tk=b.message.indexOf("#H");b.Kl=b.message.indexOf("#I");b.xh=b.message.indexOf("#J");this.qf[this.qf.length]=b};k.prototype.Do=function(){return this.qf.length+this.Tf.length+this.ag.length};k.prototype.DJ=function(){this.zb();this.gb();this.Fb()};k.prototype.QM=function(b){var d="",f="";0<=b&&b<this.ag.length&&
(b=this.ag[b],b.ln&&(f="*"),d=b.oA?"FILL\t":"LINE\t",d+="X1"+f+" "+b.coords[0]+"\tY1"+f+" "+b.coords[1]);return d};k.prototype.RM=function(b){var d="",f="";0<=b&&b<this.ag.length&&(d=this.ag[b],b=d.zoom,0<=b&&1>b&&(b=-1/b),d.dm&&(f="*"),d="Z "+b.toFixed(1)+"\tA"+f+" "+d.angle.toFixed(1));return d};k.prototype.SM=function(b){var d="";0<=b&&b<this.ag.length&&(b=this.ag[b],d="Alpha "+b.alpha.toFixed(1),-1!==b.vc&&(d+="\tT1 "+b.vc+"\tT2 "+b.Eh,0<b.Pd&&(d+="\tFade "+b.Pd)));return d};k.prototype.TM=function(b){var d=
"";0<=b&&b<this.ag.length&&(d=this.ag[b].hh);return d};k.prototype.qJ=function(b){var d="",f="";0<=b&&b<this.Tf.length&&(b=this.Tf[b],b.ln&&(f="*"),d="X1"+f+" "+b.hE+"\tY1"+f+" "+b.iE,d+="\tX2"+f+" "+b.AI+"\tY2"+f+" "+b.BI);return d};k.prototype.rJ=function(b){var d="",f="";0<=b&&b<this.Tf.length&&(d=this.Tf[b],b=d.zoom,0<=b&&1>b&&(b=-1/b),d.dm&&(f="*"),d="Z "+b.toFixed(1)+"\tA"+f+" "+d.angle.toFixed(1));return d};k.prototype.sJ=function(b){var d="";0<=b&&b<this.Tf.length&&(b=this.Tf[b],d="Alpha "+
b.alpha.toFixed(1),-1!==b.vc&&(d+="\tT1 "+b.vc+"\tT2 "+b.Eh,0<b.Pd&&(d+="\tFade "+b.Pd)));return d};k.prototype.Iu=function(b){var d="";0<=b&&b<this.Tf.length&&(d=this.Tf[b].hh);return d};k.prototype.RL=function(b){var d="",f="",l="";if(0<=b&&b<this.qf.length){var n=this.qf[b];b=n.zoom;0<=b&&1>b&&(b=-1/b);n.ln&&(f="*");n.dm&&(l="*");d="X"+f+" "+n.x+"\tY"+f+" "+n.y;d+="\tZ "+b.toFixed(1)+"\tA"+l+" "+n.angle.toFixed(1)}return d};k.prototype.SL=function(b){var d="";0<=b&&b<this.qf.length&&(b=this.qf[b],
d="Alpha "+b.alpha.toFixed(1),-1!==b.vc&&(d+="\tT1 "+b.vc+"\tT2 "+b.Eh,0<b.Pd&&(d+="\tFade "+b.Pd)));return d};k.prototype.TL=function(b){var d="";0<=b&&b<this.qf.length&&(b=this.qf[b],d="Size "+b.size+'\t"'+b.message+'"');return d};k.prototype.UL=function(b){var d="";0<=b&&b<this.qf.length&&(d=this.qf[b].hh);return d};k.prototype.Dc=function(){this.qf.sort(function(b,d){return b.zoom-d.zoom})};k.prototype.uc=function(){this.Tf.sort(function(b,d){return b.zoom-d.zoom})};k.prototype.Nc=function(){this.ag.sort(function(b,
d){return b.zoom-d.zoom})};k.prototype.uO=function(){this.Dc();this.uc();this.Nc()};k.prototype.na=function(b,d){var f,l=b.g,n=l.context,p=l.width/2-l.Ca-l.cc,r=l.height/2-l.va-l.Zb,w=l.zoom*l.Bc,u=l.zoom*l.Bc*(l.P?ViewConstants.he:1),y=l.J/2,z=l.H/2,x=b.g.counter,B=l.U?-(l.height>>2):0,c=0,m=l.Na,e=m-1,t=1,A=0,C=0,D=0,E=0,G=b.Nb/b.Ma;l.U&&(p+=r/2);d&&(n.strokeStyle=ViewConstants.uJ);for(f=0;f<this.Tf.length;f+=1){var F=this.Tf[f];var H=!0;-1!==F.vc&&(x<F.vc||x>F.Eh)&&(H=!1);if(H){var I=F.size*w/
F.zoom;d&&(c=1,24<=I&&(c=2,48<=I&&(c=3)));if(w>=F.Xa&&w<=F.Ib){var L=Math.log(w/F.Xa)/Math.log(F.Ib/F.Xa);L=.25>=L?4*L:.75<=L?4*(1-L):1;var K=1;-1!==F.vc&&0<F.Pd&&(x-F.vc<F.Pd?K=(x-F.vc+1)/F.Pd:F.Eh-x<F.Pd&&(K=(F.Eh-x+1)/F.Pd));H=!0;var N=1;if(-1!==F.fg){var J=b.Uz(F.x,F.y);J>F.fg?H=!1:0<F.fg&&.75<J/F.fg&&(N=4*(1-J/F.fg))}H&&(n.globalAlpha=L*F.alpha*K*N,N=F.iE+r-(b.qb>>1)+.5,L=F.hE+p+B-(b.kb>>1)+.5,F.ln||(L+=l.cc,N+=l.Zb),-1!==F.vc?(L+=F.rm*(G-F.vc),N+=F.sm*(G-F.vc)):(L+=F.rm*G,N+=F.sm*G),0!==l.ib&&
(K=Math.sqrt(L*L+N*N),H=180/Math.PI*Math.atan2(N,L),H+=l.ib,L=K*Math.cos(Math.PI/180*H),N=K*Math.sin(Math.PI/180*H)),l.U&&(L-=N/2),H=N*u+z,J=L*w+y,L=(F.AI-F.hE)*w,K=(F.BI-F.iE)*u,l.U&&(L-=K/2),N=0===F.BF?0:Math.sqrt(L*L+K*K)*F.BF,0!==m&&(t=-e+(2*e+2)/l.H*(l.H-H),H=(H-z)/t+z,J=(J-y)/t+y),0<=t&&(n.save(),n.translate(J,H),n.scale(1/t,1/t),H=F.angle,F.dm||(H+=l.ib),n.rotate(H/180*Math.PI),n.lineWidth=I,d||(n.strokeStyle=F.hh),n.lineCap="round",n.lineJoin="round",0<N&&(F=Math.atan2(K,L),A=Math.cos(.85*
Math.PI+F),C=Math.sin(.85*Math.PI+F),D=Math.cos(.85*-Math.PI+F),E=Math.sin(.85*-Math.PI+F)),0<c&&n.translate(c,c),n.beginPath(),n.moveTo(0,0),n.lineTo(L,K),0<N&&(n.moveTo(L,K),n.lineTo(L+N*A,K+N*C),n.moveTo(L,K),n.lineTo(L+N*D,K+N*E)),n.stroke(),n.restore()))}}}n.globalAlpha=1};k.prototype.Lb=function(b){this.na(b,!0);this.na(b,!1)};k.prototype.Ba=function(b,d){var f,l=b.g,n=l.context,p=l.width/2-l.Ca-l.cc,r=l.height/2-l.va-l.Zb,w=l.zoom*l.Bc,u=l.zoom*l.Bc*(l.P?ViewConstants.he:1),y=l.J/2,z=l.H/2,
x=b.g.counter,B=l.U?-(l.height>>2):0,c=l.Na,m=c-1,e=1,t=0,A=b.Nb/b.Ma;d&&(n.strokeStyle=ViewConstants.cH,n.fillStyle=ViewConstants.cH);l.U&&(p+=r/2);for(f=0;f<this.ag.length;f+=1){var C=this.ag[f];var D=C.coords;var E=D.length;var G=!0;-1!==C.vc&&(x<C.vc||x>C.Eh)&&(G=!1);if(G){var F=C.size*w/C.zoom;d&&(t=1,24<=F&&(t=2,48<=F&&(t=3)));if(w>=C.Xa&&w<=C.Ib){var H=Math.log(w/C.Xa)/Math.log(C.Ib/C.Xa);H=.25>=H?4*H:.75<=H?4*(1-H):1;var I=1;-1!==C.vc&&0<C.Pd&&(x-C.vc<C.Pd?I=(x-C.vc+1)/C.Pd:C.Eh-x<C.Pd&&(I=
(C.Eh-x+1)/C.Pd));G=!0;var L=1;if(-1!==C.fg){var K=b.Uz(C.x,C.y);K>C.fg?G=!1:0<C.fg&&.75<K/C.fg&&(L=4*(1-K/C.fg))}if(G&&(n.globalAlpha=H*C.alpha*I*L,H=0,L=D[H]+p+B-(b.kb>>1)+.5,I=D[H+1]+r-(b.qb>>1)+.5,H+=2,C.ln||(L+=l.cc,I+=l.Zb),-1!==C.vc?(L+=C.rm*(A-C.vc),I+=C.sm*(A-C.vc)):(L+=C.rm*A,I+=C.sm*A),0!==l.ib&&(G=Math.sqrt(L*L+I*I),I=180/Math.PI*Math.atan2(I,L),I+=l.ib,L=G*Math.cos(Math.PI/180*I),I=G*Math.sin(Math.PI/180*I)),l.U&&(L-=I/2),I=I*u+z,K=L*w+y,0!==c&&(e=-m+(2*m+2)/l.H*(l.H-I),I=(I-z)/e+z,K=
(K-y)/e+y),0<=e)){L=(D[H]-D[0])*w/e;G=(D[H+1]-D[1])*u/e;l.U&&(L-=G/2);H+=2;n.save();n.translate(K,I);n.scale(1/e,1/e);I=C.angle;C.dm||(I+=l.ib);n.rotate(I/180*Math.PI);n.lineWidth=F;d||(C.oA?n.fillStyle=C.hh:n.strokeStyle=C.hh);n.lineCap="round";n.lineJoin="round";0<t&&n.translate(t,t);n.beginPath();n.moveTo(0,0);for(n.lineTo(L,G);H<E;)L=(D[H]-D[0])*w/e,G=(D[H+1]-D[1])*u/e,l.U&&(L-=G/2),H+=2,n.lineTo(L,G);C.oA?n.fill():n.stroke();n.restore()}}}}n.globalAlpha=1};k.prototype.ec=function(b){this.Ba(b,
!0);this.Ba(b,!1)};k.prototype.dc=function(b){var d,f=b.g,l=f.context,n=f.width/2-f.Ca-f.cc,p=f.height/2-f.va-f.Zb,r=f.zoom*f.Bc,w=f.zoom*f.Bc*(f.P?ViewConstants.he:1),u=f.J/2,y=f.H/2,z=0,x=ViewConstants.XL,B="px "+ViewConstants.VL,c=b.g.counter,m=f.Na,e=m-1,t=1,A=f.U?-(f.height>>2):0,C=b.Nb/b.Ma;f.U&&(n+=p/2);for(d=0;d<this.qf.length;d+=1){var D=this.qf[d];var E=!0;-1!==D.vc&&(c<D.vc||c>D.Eh)&&(E=!1);if(E){D.sO?z=D.size:z=D.size*r/D.zoom;var G=1;24<=z&&(G=2,48<=z&&(G=3));if(r>=D.Xa&&r<=D.Ib){var F=
Math.log(r/D.Xa)/Math.log(D.Ib/D.Xa);l.font=z+B;F=.25>=F?4*F:.75<=F?4*(1-F):1;var H=1;-1!==D.vc&&0<D.Pd&&(c-D.vc<D.Pd?H=(c-D.vc+1)/D.Pd:D.Eh-c<D.Pd&&(H=(D.Eh-c+1)/D.Pd));E=!0;var I=1;if(-1!==D.fg){var L=b.Uz(D.x,D.y);L>D.fg?E=!1:0<D.fg&&.75<L/D.fg&&(I=4*(1-L/D.fg))}if(E&&(l.globalAlpha=F*D.alpha*H*I,E=D.x+n+A-(b.kb>>1)+.5,I=D.y+p-(b.qb>>1)+.5,D.ln||(E+=f.cc,I+=f.Zb),-1!==D.vc?(E+=D.rm*(C-D.vc),I+=D.sm*(C-D.vc)):(E+=D.rm*C,I+=D.sm*C),0!==f.ib&&(F=Math.sqrt(E*E+I*I),I=180/Math.PI*Math.atan2(I,E),I+=
f.ib,E=F*Math.cos(Math.PI/180*I),I=F*Math.sin(Math.PI/180*I)),f.U&&(E-=I/2),F=D.message,-1!==D.Hv&&(F=F.substr(0,D.Hv)+b.g.counter+F.substr(D.Hv+2),-1!==D.Iq&&(D.Iq=F.indexOf("#P")),-1!==D.Tk&&(D.Tk=F.indexOf("#H")),-1!==D.Kl&&(D.Kl=F.indexOf("#I")),-1!==D.xh&&(D.xh=F.indexOf("#J"))),-1!==D.Iq&&(F=F.substr(0,D.Iq)+b.g.ia+F.substr(D.Iq+2),-1!==D.Tk&&(D.Tk=F.indexOf("#H")),-1!==D.Kl&&(D.Kl=F.indexOf("#I")),-1!==D.xh&&(D.xh=F.indexOf("#J"))),-1!==D.Tk&&(F=b.g.la||b.g.L?F.substr(0,D.Tk)+b.g.af+F.substr(D.Tk+
2):F.substr(0,D.Tk)+b.g.counter+F.substr(D.Tk+2),-1!==D.Kl&&(D.Kl=F.indexOf("#I")),-1!==D.xh&&(D.xh=F.indexOf("#J"))),-1!==D.Kl&&(F=F.substr(0,D.Kl)+(b.g.counter+b.Sg)+F.substr(D.Kl+2),-1!==D.xh&&(D.xh=F.indexOf("#J"))),-1!==D.xh&&(F=b.g.la||b.g.L?F.substr(0,D.xh)+(b.g.af+b.Sg)+F.substr(D.xh+2):F.substr(0,D.xh)+(b.g.counter+b.Sg)+F.substr(D.xh+2)),H=F.indexOf("\\n"),I=I*w+y,E=E*r+u,0!==m&&(t=-e+(2*e+2)/f.H*(f.H-I),I=(I-y)/t+y,E=(E-u)/t+u),0<=t)){l.save();l.translate(E,I);l.scale(1/t,1/t);I=D.angle;
D.dm||(I+=f.ib);l.rotate(I/180*Math.PI);for(I=0;-1!==H;)E=F.substr(0,H),F=F.substr(H+2),H=l.measureText(E).width>>1,l.fillStyle=x,l.fillText(E,-H+G,I+G),l.fillStyle=D.hh,l.fillText(E,-H,I),I+=z,H=F.indexOf("\\n");H=l.measureText(F).width>>1;l.fillStyle=x;l.fillText(F,-H+G,I+G);l.fillStyle=D.hh;l.fillText(F,-H,I);l.restore()}}}}l.globalAlpha=1};k.prototype.Hz=function(b){this.ec(b);this.Lb(b);this.dc(b)};k.prototype.yO=function(b){var d;for(d=this.Ua.length-1;0<=d;--d){var f=this.Ua[d];f.fd>b&&f.mt&&
(this.$i=d,f.mt=!1)}};k.prototype.CN=function(){var b;for(b=0;b<this.Ua.length;b+=1)this.Ua[b].mt=!1;this.$i=0;this.da=!1};k.prototype.Kp=function(){return new v(this)};k.prototype.wE=function(b){return-2*Math.pow(b,3)+3*Math.pow(b,2)+0*b};k.prototype.reset=function(){this.Ua=[];this.yc=[];this.T=!1;this.$i=0};k.prototype.YL=function(){return this.Ua[this.Ua.length-1]};k.prototype.HK=function(b){var d=this.Ka(b),f=this.Ua[d];b>f.nc?b=f.fd+1E3*(b-f.nc)/(f.Hc*f.step):0<d?(d=this.Ua[d-1],b=d.fd+1E3*
(b-d.nc)/(f.Hc*f.step)):b=1E3*b/(f.Hc*f.step);return b};k.prototype.fK=function(b,d,f,l,n,p,r,w,u,y,z,x){var B=this.ab;B.x=b;B.y=d;B.zoom=f;B.angle=l;B.Na=n;B.Hc=u;B.step=y;B.$=p;B.depth=r;B.Mc=w;B.nc=z;this.T&&(x=this.G.fd);B.fd=x-1E3;this.update(null,x,z);this.G.set(this.current);this.G.Df=!1;this.G.fd=x;this.T=!0;return B.fd};k.prototype.Ur=function(){return this.Ua[0]};k.prototype.yM=function(){return this.Ua.length};k.prototype.add=function(b,d){if(b.ci)this.yc[this.yc.length]=b;else{this.Ua[this.Ua.length]=
b;if(b.ig||b.Qf||b.ke||b.Sh||b.mi||b.Df)this.$r=!0;if(b.Xf||b.wf)b.Xf&&!b.wf&&(b.step=ViewConstants.fi),b.wf&&(b.Hc=d.Ma)}};k.prototype.vE=function(b){var d=!1;this.$i>=this.Ua.length-1&&b>=this.Ua[this.$i].fd&&(d=!0);return d};k.prototype.B=function(b){return b===(b|0)?String(b|0):String(b.toFixed(1))};k.prototype.LM=function(b){var d="";0<=b&&b<this.yc.length&&(b=this.yc[b],b.ig&&(d+=" X "+-b.x),b.Qf&&(d+=" Y "+-b.y),b.ke&&(d+=" ZOOM "+this.B(b.zoom)),b.Sh&&(d+=" ANGLE "+b.angle),b.mi&&0!==b.Na&&
(d+=" TILT "+b.Na));return d.substr(1)};k.prototype.ZG=function(b){var d="";0<=b&&b<this.yc.length&&(b=this.yc[b],b.So&&(d+=" POIRESET"),b.qh===a.play?d+=" POIPLAY":b.qh===a.stop&&(d+=" POISTOP"),b.Ok!==a.Fq&&(d+=" POITRANS "+b.Ok));return d.substr(1)};k.prototype.MM=function(b){var d="";0<=b&&b<this.yc.length&&(b=this.yc[b],b.Mm&&(d+=" LOOP "+(-1===b.jb?"OFF":b.jb)),b.Cn&&(d+=" STOP "+(-1===b.jc?"OFF":b.jc)),b.Xf&&(d+=" GPS "+b.Hc),b.wf&&(d+=" STEP "+b.step));return d.substr(1)};k.prototype.ZG=function(b){var d=
"";0<=b&&b<this.yc.length&&(b=this.yc[b],b.So&&(d+=" POIRESET"),b.qh===a.play?d+=" POIPLAY":b.qh===a.stop&&(d+=" POISTOP"),b.Ok!==a.Fq&&(d+=" POITRANS "+b.Ok));return d.substr(1)};k.prototype.PM=function(b){var d="";0<=b&&b<this.yc.length&&(b=this.yc[b],b.Ig&&(d+=" THEME "+b.Mc),b.Gi&&(d+=" DEPTH "+this.B(b.depth)),b.Pi&&(d+=" LAYERS "+b.$));return d.substr(1)};k.prototype.OM=function(b){var d="";0<=b&&b<this.yc.length&&(b=this.yc[b],b.Et&&(d+=" POIT "+b.nc));return d.substr(1)};k.prototype.NM=function(b){var d=
Keywords.Fd,f="";0<=b&&b<this.yc.length&&(b=this.yc[b],""!==b.gg&&(f+=" "+d+b.gg+d));return f.substr(1)};k.prototype.kP=function(b){var d=Keywords.Fd,f="";if(0<=b&&b<this.Ua.length){var l=this.Ua[b];0<b?(b=this.Ua[b-1],f=l.nc===b.nc?"P "+this.B((l.fd-b.fd|0)/1E3):"T "+l.nc,l.Df?f+=" F":(l.x!==b.x&&(f+=" X "+-l.x),l.y!==b.y&&(f+=" Y "+-l.y),l.zoom!==b.zoom&&(f+=" Z "+this.B(l.zoom))),l.angle!==b.angle&&(f+=" A "+l.angle),l.$!==b.$&&(f+=" L "+l.$),l.depth!==b.depth&&(f+=" D "+this.B(l.depth)),l.Mc!==
b.Mc&&(f+=" C "+l.Mc),l.Hc!==b.Hc&&(f+=" G "+l.Hc),l.step!==b.step&&(f+=" S "+l.step),""!==l.gg&&(f+=" "+d+l.gg+d)):f="T "+l.nc+" X "+-l.x+" Y "+-l.y+" Z "+this.B(l.zoom)+" A "+l.angle+" L "+l.$+" D "+this.B(l.depth)+" C "+l.Mc+" G "+l.Hc+" S "+l.step}return f};k.prototype.update=function(b,d,f){var l=this.Ua.length,n=!1,p=this.$i,r=p,w=!1;if(this.T)this.current.G(this.ab,this.G,d),d>=this.G.fd&&(this.T=!1);else{for(;p<l&&!n;){var u=this.Ua[p];u.fd>=d||!u.mt?n=!0:p+=1}n?(this.Ua[p].mt=!0,0<p?(this.Ua[p].Df&&
(this.Ua[p].x=this.current.x,this.Ua[p].y=this.current.y,this.Ua[p].zoom=this.current.zoom),this.current.G(this.Ua[p-1],this.Ua[p],d)):(p=0,this.current.set(this.Ua[p]))):(p=l-1,this.current.set(this.Ua[p]),f>=this.current.nc&&this.da&&(w=!0),this.da=!0);this.$i=p}this.$i!==r&&this.current.eq&&b&&b.j.iJ();return w};k.prototype.Ka=function(b){for(var d=0,f=!1,l=this.Ua,n=this.Ua.length;d<n&&!f;)l[d].nc>=b?f=!0:d+=1;f||(d=n-1);return d};k.prototype.MK=function(b){this.$i=this.Ka(b);var d=this.Ua[this.$i];
var f=this.Ua[this.$i-1];return(d.fd-f.fd)*(b-f.nc)/(d.nc-f.nc)+f.fd};k.prototype.xd=function(b,d,f,l){if(0===this.Ua.length)f[f.length]=[b+" "+Keywords.mc,"no initial waypoint defined"];else switch(b){case Keywords.Pf:d.ig&&(f[f.length]=[b+" "+Keywords.mc,l?"already defined":"overwrites "+-d.x]);d.x=this.Ua[0].x;d.ig=!0;break;case Keywords.Rf:d.Qf&&(f[f.length]=[b+" "+Keywords.mc,l?"already defined":"overwrites "+-d.y]);d.y=this.Ua[0].y;d.Qf=!0;break;case Keywords.le:d.ke&&(f[f.length]=[b+" "+Keywords.mc,
l?"already defined":"overwrites "+this.B(1>d.zoom?-(1/d.zoom):d.zoom)]);d.zoom=this.Ua[0].zoom;d.ke=!0;break;case Keywords.em:d.Sh&&(f[f.length]=[b+" "+Keywords.mc,l?"already defined":"overwrites "+d.angle]);d.angle=this.Ua[0].angle;d.Sh=!0;break;case Keywords.Gn:d.mi&&(f[f.length]=[b+" "+Keywords.mc,l?"already defined":"overwrites "+d.Na]);d.Na=this.Ua[0].Na;d.mi=!0;break;case Keywords.co:d.Gi&&(f[f.length]=[b+" "+Keywords.mc,l?"already defined":"overwrites "+this.B(d.depth)]);d.depth=this.Ua[0].depth;
d.Gi=!0;break;case Keywords.yo:d.Pi&&(f[f.length]=[b+" "+Keywords.mc,l?"already defined":"overwrites "+d.$]);d.$=this.Ua[0].$;d.Pi=!0;break;case Keywords.Xl:d.Ig&&(f[f.length]=[b+" "+Keywords.mc,l?"already defined":"overwrites "+d.Mc]);d.Mc=this.Ua[0].Mc;d.Ig=!0;break;case Keywords.mo:d.Xf&&(f[f.length]=[b+" "+Keywords.mc,l?"already defined":"overwrites "+d.Hc]);d.Hc=this.Ua[0].Hc;d.Xf=!0;break;case Keywords.ep:d.wf&&(f[f.length]=[b+" "+Keywords.mc,l?"already defined":"overwrites "+d.step]);d.step=
this.Ua[0].step;d.wf=!0;break;case Keywords.ak:d.Cn&&(f[f.length]=[b+" "+Keywords.mc,l?"already defined":"overwrites "+(-1===d.jc?"OFF":d.jc)]);d.jc=this.Ua[0].jc;d.Cn=!0;break;case Keywords.Hj:d.Mm&&(f[f.length]=[b+" "+Keywords.mc,l?"already defined":"overwrites "+(-1===d.jb?"OFF":d.jb)]);d.jb=this.Ua[0].jb;d.Mm=!0;break;default:f[f.length]=[b+" "+Keywords.mc,"illegal command before "+Keywords.mc]}};k.prototype.QJ=function(b,d){this.xd(Keywords.Pf,b,d,!1);this.xd(Keywords.Rf,b,d,!1);this.xd(Keywords.le,
b,d,!1);this.xd(Keywords.em,b,d,!1);this.xd(Keywords.Gn,b,d,!1);this.xd(Keywords.yo,b,d,!1);this.xd(Keywords.co,b,d,!1);this.xd(Keywords.Xl,b,d,!1);this.xd(Keywords.mo,b,d,!1);this.xd(Keywords.ep,b,d,!1);this.xd(Keywords.Hj,b,d,!1);this.xd(Keywords.ak,b,d,!1)};k.prototype.VM=function(b,d){var f,l=this.Ua,n=this.Ua.length;for(f=1;f<n;f+=1){var p=l[f-1];var r=l[f];r.ig||(r.x=p.x);r.Qf||(r.y=p.y);r.am||(r.si=p.si);r.bm||(r.ui=p.ui);r.Xt||(r.wi=p.wi);r.Sh||(r.angle=p.angle);r.mi||(r.Na=p.Na);r.ke||(r.zoom=
p.zoom);r.Pi||(r.$=p.$);r.Gi||(r.depth=p.depth);r.Ig||(r.Mc=p.Mc);r.Xf||(r.Hc=p.Hc);r.wf||(r.step=p.step);if(r.Xf||r.wf)r.Xf&&!r.wf&&(r.step=ViewConstants.fi),r.wf&&(r.Hc=d.Ma);r.Et?r.nc<=p.nc&&(b[b.length]=[Keywords.Dt+" "+r.nc,"target generation must be later than previous ("+p.nc+")"]):r.nc=p.nc;r.fd=r.RH?1E3*r.fd+p.fd:p.fd+1E3*(r.nc-p.nc)/(r.Hc*r.step);r.wx||(r.xn=p.xn);r.Al||(r.zd=p.zd)}};window.Waypoint=v;window.WaypointManager=k;window.WaypointConstants=a}(),function(){function v(h,g){var q=
this,k=h.getElementsByTagName("div")[0];this.Lx=!1;this.Xh=-1;this.Of=1;this.zI=h;this.view=g;this.j=g.j;this.top=this.left=0;""!==h.style.left&&(this.left=parseInt(h.style.left,10));""!==h.style.top&&(this.top=parseInt(h.style.top,10));this.Tc=this.eo=!1;this.Mj=this.Lj=-1;this.oC=0;registerEvent(k,"mousedown",function(a){q.G(q,a)},!1);registerEvent(document,"mousemove",function(a){q.T(q,a)},!1);registerEvent(document,"mouseup",function(a){q.da(q,a)},!1);registerEvent(k,"touchstart",function(a){q.B(q,
a)},!1);registerEvent(k,"touchmove",function(a){q.B(q,a)},!1);registerEvent(k,"touchend",function(a){q.B(q,a)},!1);registerEvent(window,"resize",function(){q.tH(q)},!1)}v.prototype.Sp=function(h,g){for(var q=null,k=0;null===q&&k<h.length;)h[k].identifier===g?q=h[k]:k+=1;return q};v.prototype.reset=function(){this.Tc=!1;this.Xh=-1};v.prototype.B=function(h,g){var q=g.changedTouches;this.Lx=!0;switch(g.type){case "touchstart":-1===h.Xh&&(q=q[0],h.Xh=q.identifier,h.ct(h,q.pageX,q.pageY));break;case "touchend":q=
h.Sp(q,h.Xh);null!==q&&(h.et(h,q.pageX,q.pageY),h.Xh=-1);break;case "touchmove":q=h.Sp(q,h.Xh),null!==q&&h.dt(h,q.pageX,q.pageY)}g.stopPropagation&&g.stopPropagation();g.cancelable&&g.preventDefault()};v.prototype.tH=function(h){var g=this.view;g.J=g.Ym;g.H=g.Xm;g.BH();g.Nr.style.transform="scale("+g.Of+","+g.Of+")";g.Nr.style.transformOrigin="top left";g.Kw&&(this.j.cg(!0),g.resize());h.JH(h.left+h.oC,h.top,h.zI);h.oC=0};v.prototype.RO=function(h,g){this.JH(this.left+h,this.top+g,this.zI)};v.prototype.JH=
function(h,g,q){var k=window.innerWidth-q.clientWidth*this.Of,a=window.innerHeight-q.clientHeight*this.Of;k-=(window.innerWidth-document.body.clientWidth)*this.Of;h>k&&(h=k);g>a&&(g=a);0>h&&(h=0);0>g&&(g=0);q.style.left=h+"px";q.style.top=g+"px";q.style.position="fixed";this.left=h;this.top=g};v.prototype.ct=function(h,g,q){h.gr(h,g,q);h.Tc=!0;h.j.Ko=!0};v.prototype.et=function(h,g,q){h.gr(h,g,q);h.Tc=!1;h.j.Ko=!1};v.prototype.dt=function(h,g,q){h.Tc&&h.RO(g-h.Lj,q-h.Mj);h.Lj=g;h.Mj=q};v.prototype.G=
function(h,g){if(!h.Lx){if(g.pageX||g.pageY){var q=g.pageX;var k=g.pageY}else q=g.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,k=g.clientY+document.body.scrollTop+document.documentElement.scrollTop;h.ct(h,q,k)}g.stopPropagation&&g.stopPropagation();g.preventDefault()};v.prototype.da=function(h,g){if(!h.Lx&&h.eo&&h.Tc){if(g.pageX||g.pageY){var q=g.pageX;var k=g.pageY}else q=g.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,k=g.clientY+document.body.scrollTop+
document.documentElement.scrollTop;h.et(h,q,k)}g.stopPropagation&&g.stopPropagation();g.preventDefault()};v.prototype.T=function(h,g){if(!h.Lx&&h.eo&&h.Tc){if(g.pageX||g.pageY){var q=g.pageX;g=g.pageY}else q=g.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,g=g.clientY+document.body.scrollTop+document.documentElement.scrollTop;h.dt(h,q,g)}};v.prototype.gr=function(h,g,q){h.Lj=g|0;h.Mj=q|0};window.PopupWindow=v}(),function(){function v(){this.key=new Uint8Array(256);this.G=this.B=
0}v.prototype.Ff=function(h){var g,q,k=this.key;for(g=0;256>g;g+=1)k[g]=g;for(g=q=0;256>g;g+=1){q=q+k[g]+h.charCodeAt(g%h.length)&255;var a=k[g];k[g]=k[q];k[q]=a}this.G=this.B=0};v.prototype.random=function(){var h,g=0,q=1,k=this.key,a=this.B,b=this.G;for(h=0;8>h;h+=1){a=a+1&255;b=b+k[a]&255;var d=k[a];k[a]=k[b];k[b]=d;g+=k[k[a]+k[b]&255]*q;q*=256}this.B=a;this.G=b;return g/1.8446744073709552E19};window.Random=v}(),function(){function v(h,g){this.Bw=h;this.x=g.R(Float32,0,"Stars.x");this.y=g.R(Float32,
0,"Stars.y");this.z=g.R(Float32,0,"Stars.z");this.blue=this.green=this.red=255;this.$b=new Random;this.$b.Ff(Date.now().toString());this.sin=g.R(Float32,0,"Stars.sin");this.cos=g.R(Float32,0,"Stars.cos");this.B=Math.PI/180;this.T=180/Math.PI;this.A=g;this.G=!1}v.prototype.Ff=function(h,g,q){var k,a=this.Bw,b=h*h+g*g;this.x=this.A.R(Float32,a,"Stars.x");this.y=this.A.R(Float32,a,"Stars.y");this.z=this.A.R(Float32,a,"Stars.z");for(k=0;k<a;k+=1){var d=k/a*(k/a)*(k/a)*(k/a)*q+1;do{var f=3*(this.$b.random()*
h-h/2);var l=3*(this.$b.random()*g-g/2)}while(f*f+l*l>b);this.x[k]=f;this.y[k]=l;this.z[k]=d}this.sin=this.A.R(Float32,2880,"Stars.sin");this.cos=this.A.R(Float32,2880,"Stars.cos");for(k=0;2880>k;)this.sin[k]=Math.sin(k/8*this.B),this.cos[k]=Math.cos(k/8*this.B),k+=1};v.prototype.iN=function(h,g,q,k,a,b,d,f){var l=a>>1,n=b>>1,p=a-1,r=b-1;this.G||(this.Ff(8192,8192,1024),this.G=!0);if(littleEndian){var w=f>>16&255;var u=f>>8&255;var y=f&255}else y=f>>24&255,u=f>>16&255,w=f>>8&255;var z=this.red-y;
var x=this.green-u;var B=this.blue-w;for(b=0;b<this.Bw;b+=1){var c=this.x[b]+h;var m=this.y[b]+g;if(0!==k){var e=Math.sqrt(c*c+m*m);m=Math.atan2(m,c)*this.T;m+=k;0>m?m+=360:360<=m&&(m-=360);m*=8;m|=0;c=e*this.cos[m];m=e*this.sin[m]}e=this.z[b]/q*2;c=l+c/e|0;m=n+m/e|0;if(0<c&&c<p&&0<m&&m<r){c+=m*a;e=1536/e|0;255<e&&(e=255);e/=255;if(d[c]===f){m=y+z*e;var t=u+x*e;var A=w+B*e;m=littleEndian?-16777216|A<<16|t<<8|m:m<<24|A<<16|t<<8|255;d[c]=m}e/=2;m=y+z*e;t=u+x*e;A=w+B*e;m=littleEndian?-16777216|A<<16|
t<<8|m:m<<24|A<<16|t<<8|255;--c;d[c]===f&&(d[c]=m);c+=2;d[c]===f&&(d[c]=m);--c;c-=a;d[c]===f&&(d[c]=m);c+=a+a;d[c]===f&&(d[c]=m)}}};window.Stars=v}(),function(){window.ScriptParser={lE:"",Wx:0,so:function(v){switch(v){case Keywords.Pz:case Keywords.OB:case Keywords.lA:case Keywords.gB:case Keywords.pC:case Keywords.bD:case Keywords.Oz:case Keywords.HC:case Keywords.JC:case Keywords.Qz:case Keywords.IC:case Keywords.fB:case Keywords.di:case Keywords.rj:case Keywords.FP:case Keywords.aA:case Keywords.ux:case Keywords.Uy:case Keywords.iC:case Keywords.fC:case Keywords.hC:case Keywords.cC:case Keywords.bC:case Keywords.dC:case Keywords.gC:case Keywords.Qw:case Keywords.Pw:case Keywords.Ww:case Keywords.Dz:case Keywords.Iw:case Keywords.cr:case Keywords.SB:case Keywords.Jw:case Keywords.QB:case Keywords.TB:case Keywords.UB:case Keywords.RB:case Keywords.BP:case Keywords.VB:case Keywords.WB:case Keywords.nr:case Keywords.Iy:case Keywords.Ky:case Keywords.Ly:case Keywords.Jy:case Keywords.Oy:case Keywords.My:case Keywords.Ny:case Keywords.zs:case Keywords.wA:case Keywords.yA:case Keywords.zA:case Keywords.xA:case Keywords.CA:case Keywords.AA:case Keywords.BA:case Keywords.bB:case Keywords.dB:case Keywords.cB:case Keywords.fA:case Keywords.Nt:case Keywords.Zz:case Keywords.gt:case Keywords.Hq:case Keywords.Gq:case Keywords.Hw:case Keywords.ht:case Keywords.PB:case Keywords.mc:case Keywords.Mg:case Keywords.Jb:case Keywords.TC:case Keywords.rp:case Keywords.Mt:case Keywords.Iv:case Keywords.Aw:case Keywords.Wz:case Keywords.Xz:case Keywords.At:case Keywords.MA:case Keywords.Lu:case Keywords.gA:case Keywords.es:case Keywords.kr:case Keywords.Dt:case Keywords.ep:case Keywords.KB:case Keywords.Yr:case Keywords.Xr:case Keywords.$B:case Keywords.XC:case Keywords.Ra:case Keywords.cz:case Keywords.Pf:case Keywords.Rf:case Keywords.Qx:case Keywords.Rx:case Keywords.le:case Keywords.Fy:case Keywords.GF:case Keywords.Hj:case Keywords.Ut:case Keywords.Gn:case Keywords.aB:case Keywords.$A:case Keywords.pD:case Keywords.kD:case Keywords.iD:case Keywords.mD:case Keywords.oD:case Keywords.Mu:case Keywords.RC:case Keywords.Xo:case Keywords.Uq:case Keywords.em:case Keywords.Xl:case Keywords.mo:case Keywords.ak:case Keywords.yo:case Keywords.co:case Keywords.hr:case Keywords.Xp:case Keywords.jt:case Keywords.it:case Keywords.vA:case Keywords.Nq:case Keywords.To:case Keywords.zq:case Keywords.Rr:case Keywords.Xs:case Keywords.lB:case Keywords.BB:case Keywords.HB:case Keywords.tB:case Keywords.oB:case Keywords.DB:case Keywords.pB:case Keywords.GB:case Keywords.FB:case Keywords.AB:case Keywords.wB:case Keywords.CB:case Keywords.yB:case Keywords.qB:case Keywords.xB:case Keywords.rB:case Keywords.vB:case Keywords.zB:case Keywords.uB:v=
!0;break;default:v=!1}return v},Co:function(v,h,g,q,k){var a=v.Ga();""===a||this.so(a)?h[h.length]=[g,q+" missing"]:(h[h.length]=[g+" "+a,q+" must be "+k],v.W())},rc:function(v,h,g,q,k){var a=!0,b=0,d=0,f=0,l=h.W();if(h.N()){b=h.O()|0;if(0>b||255<b)g[g.length]=[k+" "+l+" "+b,"RED out of range"];if(h.N()){d=h.O();if(0>d||255<d)g[g.length]=[k+" "+l+" "+b+" "+d,"GREEN out of range"];h.N()?(f=h.O(),0>f||255<f?g[g.length]=[k+" "+l+" "+b+" "+d+" "+f,"BLUE out of range"]:a=!1):this.Co(h,g,k+" "+l+" "+b+
" "+d,"BLUE","numeric")}else this.Co(h,g,k+" "+l+" "+b,"GREEN","numeric")}else{var n=h.Ga();var p=ColourManager.Og[n.toLowerCase()];void 0!==p?(h.W(),b=p[1],d=p[2],f=p[3],a=!1):""===n||this.so(n)?g[g.length]=[k+" "+l,"name missing"]:(g[g.length]=[k+" "+l+" "+n,"name not known"],h.W())}if(!a)switch(-1!==v.sa[q]&&q!==ViewConstants.Er&&q!==ViewConstants.Ar&&q!==ViewConstants.Fr&&(g[g.length]=[k+" "+l+" "+b+" "+d+" "+f,"overwrites "+(v.sa[q]>>16)+" "+(v.sa[q]>>8&255)+" "+(v.sa[q]&255)]),v.sa[q]=b<<16|
d<<8|f,q){case ViewConstants.Cr:v.VE=v.sa[q];v.Zh=!0;break;case ViewConstants.Dr:v.WE=v.sa[q];v.Zh=!0;break;case ViewConstants.pv:v.Ul.red=b;v.Ul.green=d;v.Ul.blue=f;break;case ViewConstants.qv:v.Yh=[b,d,f];break;case ViewConstants.jv:v.ql=[b,d,f];v.yj="rgb("+b+","+d+","+f+")";break;case ViewConstants.Er:v.oz="rgb("+b+","+d+","+f+")";break;case ViewConstants.Ar:v.nz="rgb("+b+","+d+","+f+")";break;case ViewConstants.Fr:v.pz="rgb("+b+","+d+","+f+")";break;case ViewConstants.gv:v.lm=[b,d,f];v.g.nl=v.g.ae?
-16777216|f<<16|d<<8|b:b<<24|d<<16|f<<8|255;break;case ViewConstants.rz:v.mm=[b,d,f];v.g.fm=v.g.ae?-16777216|f<<16|d<<8|b:b<<24|d<<16|f<<8|255;break;case ViewConstants.vz:v.pm=[b,d,f];v.g.DC="rgb("+b+","+d+","+f+")";break;case ViewConstants.uz:v.om=[b,d,f];v.g.kB="rgb("+b+","+d+","+f+")";break;case ViewConstants.qz:v.km=[b,d,f];v.g.Du="rgb("+b+","+d+","+f+")";break;case ViewConstants.mv:v.g.Bj=[b,d,f];break;case ViewConstants.lv:v.g.Aj=[b,d,f];break;case ViewConstants.kv:v.g.zj=[b,d,f];break;case ViewConstants.nv:v.g.Cj=
[b,d,f];break;case ViewConstants.ov:v.g.Dj=[b,d,f];break;case ViewConstants.Ir:case ViewConstants.Gr:case ViewConstants.Jr:case ViewConstants.Lr:case ViewConstants.Kr:case ViewConstants.Hr:break;default:v.Zh=!0}},pO:function(v){var h=v.g.mb[v.g.rf],g=v.sa;h.Am=v.g.Ef;-1===g[ViewConstants.wj]&&(v=g[ViewConstants.Fi],-1!==v?g[ViewConstants.wj]=16777215-v:(v=g[ViewConstants.lh],g[ViewConstants.wj]=-1!==v?16777215-v:16777215));-1===g[ViewConstants.lh]&&-1===g[ViewConstants.Fi]&&(g[ViewConstants.lh]=16777215-
g[ViewConstants.wj]);v=g[ViewConstants.lh];-1===v&&(v=g[ViewConstants.Fi]);h.rb.red=v>>16;h.rb.green=v>>8&255;h.rb.blue=v&255;v=g[ViewConstants.wj];h.Bb.aa.red=v>>16;h.Bb.aa.green=v>>8&255;h.Bb.aa.blue=v&255;v=g[ViewConstants.fv];-1===v&&(v=g[ViewConstants.wj]);h.Bb.ca.red=v>>16;h.Bb.ca.green=v>>8&255;h.Bb.ca.blue=v&255;v=g[ViewConstants.Fi];-1===v&&(v=g[ViewConstants.lh]);h.ob.ca.red=v>>16;h.ob.ca.green=v>>8&255;h.ob.ca.blue=v&255;v=g[ViewConstants.Br];-1===v&&(v=g[ViewConstants.Fi],-1===v&&(v=g[ViewConstants.lh]));
h.ob.aa.red=v>>16;h.ob.aa.green=v>>8&255;h.ob.aa.blue=v&255;v=g[ViewConstants.lh];-1===v&&(v=g[ViewConstants.Fi]);h.dj.red=v>>16;h.dj.green=v>>8&255;h.dj.blue=v&255;v=g[ViewConstants.wj];h.Lg.red=v>>16;h.Lg.green=v>>8&255;h.Lg.blue=v&255;v=g[ViewConstants.Fi];-1===v&&(v=g[ViewConstants.lh]);h.Qc.ca.red=v>>16;h.Qc.ca.green=v>>8&255;h.Qc.ca.blue=v&255;v=g[ViewConstants.Br];-1===v&&(v=g[ViewConstants.Fi],-1===v&&(v=g[ViewConstants.lh]));h.Qc.aa.red=v>>16;h.Qc.aa.green=v>>8&255;h.Qc.aa.blue=v&255;v=g[ViewConstants.hv];
-1===v?h.tm=!0:(h.tm=!1,h.fc.ca.red=v>>16,h.fc.ca.green=v>>8&255,h.fc.ca.blue=v&255);v=g[ViewConstants.sz];-1===v&&(v=g[ViewConstants.hv],-1===v&&(v=g[ViewConstants.lh]));h.fc.aa.red=v>>16;h.fc.aa.green=v>>8&255;h.fc.aa.blue=v&255;h.dO(g[ViewConstants.Cr],g[ViewConstants.Dr])},qx:function(v,h){var g=v;v.length>h&&(g=v.substr(0,h-1)+"...");return g},hI:function(v,h,g,q){var k=v.indexOf("\\n");-1!==k&&(g?h[h.length]=[Keywords.cr+" "+Keywords.Fd+this.qx(v,23)+Keywords.Fd,"only one line allowed"]:(k=
v.substr(k+2).indexOf("\\n"),-1===k||q||(h[h.length]=[Keywords.Fd+this.qx(v,23),"only two lines allowed"])))},aC:function(v,h,g,q){var k=Keywords.Xl+" ",a="overwrites ";k=g>=v.g.rf?k+Keywords.br:k+g;a=q>=v.g.rf?a+Keywords.br:a+q;h[h.length]=[k,a]},Lp:function(v,h,g,q,k,a,b){var d=0,f=0,l=0;if(h.N())if(d=h.O()|0,0>d||255<d)g[g.length]=[k+" "+b+" "+d,"RED out of range"],a=!0;else if(h.N())if(f=h.O()|0,0>f||255<f)g[g.length]=[k+" "+b+" "+d+" "+f,"GREEN out of range"],a=!0;else if(h.N()){if(l=h.O()|0,
0>l||255<l)g[g.length]=[k+" "+b+" "+d+" "+f+" "+l,"BLUE out of range"],a=!0}else this.Co(h,g,k+" "+b+" "+d+" "+f,"BLUE","numeric"),a=!0;else this.Co(h,g,k+" "+b+" "+d,"GREEN","numeric"),a=!0;else{var n=h.Ga();var p=ColourManager.Og[n.toLowerCase()];void 0!==p?(h.W(),d=p[1],f=p[2],l=p[3]):(a=!0,""===n||this.so(n)?g[g.length]=[k+" "+b,"name missing"]:(g[g.length]=[k+" "+b+" "+n,"name not known"],h.W()))}a||(-1!==v.kc[q]&&(g[g.length]=[k+" "+b+" "+d+" "+f+" "+l,"overwrites "+(v.kc[q]>>16)+" "+(v.kc[q]>>
8&255)+" "+(v.kc[q]&255)]),v.kc[q]=d<<16|f<<8|l)},cl:function(v,h){var g=Keywords.Be+String(h);v=v.j.bL(h);-1!==v&&(g=v.toFixed(1));return g},ar:function(v,h){var g="",q=h.indexOf(Keywords.Be);if(-1===q)g=h;else{for(;-1!==q;)if(g+=h.substr(0,q),q+1<h.length){var k=h[q+1];h=h.substr(q+2);switch(k){case "B":g+=ViewConstants.Mx;break;case "N":g+=v.Aq;break;case "R":g+=v.Kb;break;case "A":g=""===v.rd?g+v.Kb:g+v.rd;break;case "O":g+=v.Zs;break;case "T":g+=ViewConstants.Sr;break;case "0":g+=this.cl(v,0);
break;case "1":g+=this.cl(v,1);break;case "2":g+=this.cl(v,2);break;case "3":g+=this.cl(v,3);break;case "4":g+=this.cl(v,4);break;case "5":g+=this.cl(v,5);break;case "6":g+=this.cl(v,6);break;case "7":g+=this.cl(v,7);break;case "8":g+=this.cl(v,8);break;case "9":g+=this.cl(v,9);break;case Keywords.Be:g+=Keywords.Be;break;default:g+=Keywords.Be+k}q=h.indexOf(Keywords.Be)}else h=h.substr(q+1),q=-1;g+=h}return g},Ri:function(v,h,g,q){q[q.length]=v?h===Keywords.di?[h+" "+g,"already defined"]:[h+" "+g,
"overwrites "+Keywords.di]:h===Keywords.di?[h+" "+g,"overwrites "+Keywords.rj]:[h+" "+g,"already defined"]},bj:function(v,h){var g="";v===(v|0)?g=String(v):g=v.toFixed(h);return g},aP:function(v){var h=v.substr(0,1);v=v.substr(1);var g=!1;if("B"===h||"S"===h){this.lE=h;h=0;for(g=!0;g&&h<v.length;)"0"<=v[h]&&"9">=v[h]?h+=1:g=!1;g&&(this.Wx=Number(v))}return g},UN:function(v,h){if("B"===this.lE){var g=v.ii.length;v.ii[g]=this.Wx;v.ii[g+1]=h}else g=v.Qj.length,v.Qj[g]=this.Wx,v.Qj[g+1]=h},DM:function(v,
h,g){var q=new Script(h,!1),k=!1,a=!1,b="",d="",f="",l="",n=!1,p="",r=0,w=!1,u=!1,y=v.Ed,z=null,x=0,B=0,c="",m=!1,e=v.X.Kp(),t=null,A=!1,C=!1,D=null,E=1,G=ViewConstants.uE,F=-1,H=-1,I=0,L=0,K=!1,N=!1,J=-1,S=-1E3,U=-1E3,V=0,P=0,sa=null,X=1,ja=ViewConstants.uE,na=ViewConstants.tJ,ha=-1,Y=-1,ea=0,da=0,qa=!1,ma=!1,T=-1,Q=0,W=0,ia=-1E3,la=-1E3,ba=null,M=1,O=ViewConstants.WL,oa=!1,Z=-1,R=-1,pa=0,ya=0,wa=!1,va=!1,ka=-1,aa=0,fa=0,ca=-1E3,ta=-1E3,ua=!1,xa=!1,ra="numeric",za=-1,Ea=-1,Da=-1,Ia=-1,Ha=-1,Ka=-1,
Fa=0,Ja=0,La=0,Ma=0,Aa=0,Ba=0,Ca=0,fb=0,gb=0,Oa=[],Ga=0,hb=new Pattern("decode",v.C),Ta=!1,Ua=!1,Va=!1,Wa=!1,Xa=!1,Ya=!1,Za=!1,Pa=!1,$a=!1,ab=!1,Qa=!1,Ra=!1,bb=!1,cb=!1,db=!1,eb=!1;v.X.$r=!1;v.Fo=0;v.iB=0;v.ev=!1;v.Zh=!1;v.sa[ViewConstants.lh]=-1;v.sa[ViewConstants.wj]=-1;v.sa[ViewConstants.fv]=-1;v.sa[ViewConstants.Fi]=-1;v.sa[ViewConstants.Br]=-1;v.sa[ViewConstants.Cr]=-1;v.sa[ViewConstants.Dr]=-1;v.sa[ViewConstants.pv]=-1;v.sa[ViewConstants.qv]=-1;v.sa[ViewConstants.gv]=-1;v.sa[ViewConstants.mv]=
-1;v.sa[ViewConstants.lv]=-1;v.sa[ViewConstants.kv]=-1;v.sa[ViewConstants.nv]=-1;v.sa[ViewConstants.ov]=-1;v.sa[ViewConstants.jv]=-1;v.sa[ViewConstants.Er]=-1;v.sa[ViewConstants.Ir]=-1;v.sa[ViewConstants.Gr]=-1;v.sa[ViewConstants.Jr]=-1;v.sa[ViewConstants.Lr]=-1;v.sa[ViewConstants.Kr]=-1;v.sa[ViewConstants.Hr]=-1;v.sa[ViewConstants.Ar]=-1;v.sa[ViewConstants.Fr]=-1;v.kc=null;if(-1!==q.hF()){v.kc=v.g.A.R(Int32,256,"View.customColours");v.kc.fill(-1);for(b=q.W();""!==b;){ra="numeric";if(n)b[b.length-
1]===Keywords.Fd?(p=p+" "+b.substr(0,b.length-1),n=!1,this.hI(p,y,a,ua),a?(""!==v.ej&&(y[y.length]=[Keywords.cr+" "+Keywords.Fd+this.qx(p,20)+Keywords.Fd,"overwrites "+Keywords.Fd+v.ej+Keywords.Fd]),v.ej=p,a=!1):ua?(ba.message=this.ar(v,p),ua=!1,v.X.mE(ba)):(e.gg=this.ar(v,p),e.cD=!0)):p=p+" "+b;else if(b[0]===Keywords.Fd)p=b.substr(1),n=!0,b[b.length-1]===Keywords.Fd&&(n=!1,p=p.substr(0,p.length-1),this.hI(p,y,a,ua),a?(""!==v.ej&&(y[y.length]=[Keywords.cr+" "+Keywords.Fd+this.qx(p,20)+Keywords.Fd,
"overwrites "+Keywords.Fd+v.ej+Keywords.Fd]),v.ej=p,a=!1):ua?(ba.message=this.ar(v,p),ua=!1,v.X.mE(ba)):(e.gg=this.ar(v,p),e.cD=!0));else{w=u=!1;v.Fo+=1;switch(b){case Keywords.cr:w=a=!0;break;case Keywords.TB:q.N()&&(u=!0,r=q.O(),r>=ViewConstants.sw&&r<=ViewConstants.lw&&(G=r,w=!0));break;case Keywords.VB:q.N()?(u=!0,r=q.O(),r>=ViewConstants.ph&&r<=ViewConstants.oh&&(Aa=r,u=!1,q.N()&&(u=!0,r=q.O(),r>=ViewConstants.ph&&r<=ViewConstants.oh&&(V=Aa,P=r,w=!0)))):(d=q.Ga(),d===Keywords.Md&&(d=q.W(),P=
V=0,w=!0));break;case Keywords.WB:q.N()?(u=!0,r=q.O(),0<=r&&r<=v.g.ga/2&&(J=r,w=!0)):(d=q.Ga(),d===Keywords.Jb&&(d=q.W(),J=-1,w=!0));break;case Keywords.RB:q.N()&&(u=!0,r=q.O(),0<=r&&360>r&&(L=r,K=!1,d=q.Ga(),d===Keywords.Md&&(d=q.W(),K=!0),w=!0));break;case Keywords.UB:q.N()?(u=!0,r=q.O()|0,0<=r&&(Aa=r,q.N()?(r=q.O()|0,r>=Aa?(Ba=r,q.N()?(r=q.O()|0,0<=r&&r<=Ba-Aa>>1?(F=Aa,H=Ba,I=r,w=!0):(w=!0,y[y.length]=[b+" "+Aa+" "+Ba+" "+r,"third argument must from 0 to "+(Ba-Aa>>1)])):u=!1):(w=!0,y[y.length]=
[b+" "+Aa+" "+r,"second argument must be >= first"])):u=!1)):(d=q.Ga(),d===Keywords.Mg?(d=q.W(),H=F=-1,I=0,w=!0):u=!1);break;case Keywords.QB:q.N()&&(u=!0,r=q.O(),0<=r&&1>=r&&(E=r,w=!0));break;case Keywords.SB:case Keywords.Jw:Oa=[];w=!0;for(Ca=-1E3;w&&q.N();)Aa=q.O(),q.N()?(Ba=q.O(),Aa>=-v.g.ga&&Aa<2*v.g.ga&&Ba>=-v.g.ga&&Ba<2*v.g.ga?(Oa[Oa.length]=Aa,Oa[Oa.length]=Ba):(y[y.length]=[b+" "+Aa+" "+Ba,"coordinate out of range"],Ca=0,w=!1)):Aa>=ViewConstants.Xa&&Aa<=ViewConstants.Ib?Ca=Aa:Aa>=ViewConstants.Ks&&
Aa<=ViewConstants.Is?Ca=-(1/Aa):(y[y.length]=[b+" "+Aa,"zoom out of range"],Ca=0,w=!1);w&&4>Oa.length&&(y[y.length]=[b,"requires at least 2 coordinate pairs"],w=!1);w&&-1E3===Ca&&(w=!1);w&&(d=q.Ga(),N=!1,d===Keywords.Md&&(d=q.W(),N=!0,d=q.Ga()),D=v.X.eK(Oa,b===Keywords.Jw,Ca,S,U,v.pz,E,G,F,H,I,L,K,N,J,V,P),v.X.dJ(D));break;case Keywords.Ky:q.N()&&(u=!0,r=q.O(),r>=ViewConstants.sw&&r<=ViewConstants.lw&&(Aa=r,u=!1,q.N()&&(u=!0,r=q.O(),0<=r&&1>=r&&(na=r,ja=Aa,w=!0))));break;case Keywords.My:q.N()?(u=
!0,r=q.O(),r>=ViewConstants.ph&&r<=ViewConstants.oh&&(Aa=r,u=!1,q.N()&&(u=!0,r=q.O(),r>=ViewConstants.ph&&r<=ViewConstants.oh&&(Q=Aa,W=r,w=!0)))):(d=q.Ga(),d===Keywords.Md&&(d=q.W(),W=Q=0,w=!0));break;case Keywords.Ny:q.N()?(u=!0,r=q.O(),0<=r&&r<=v.g.ga/2&&(T=r,w=!0)):(d=q.Ga(),d===Keywords.Jb&&(d=q.W(),T=-1,w=!0));break;case Keywords.Jy:q.N()&&(u=!0,r=q.O(),0<=r&&360>r&&(da=r,qa=!1,d=q.Ga(),d===Keywords.Md&&(d=q.W(),qa=!0),w=!0));break;case Keywords.Ly:q.N()?(u=!0,r=q.O()|0,0<=r&&(Aa=r,q.N()?(r=
q.O()|0,r>=Aa?(Ba=r,q.N()?(r=q.O()|0,0<=r&&r<=Ba-Aa>>1?(ha=Aa,Y=Ba,ea=r,w=!0):(w=!0,y[y.length]=[b+" "+Aa+" "+Ba+" "+r,"third argument must from 0 to "+(Ba-Aa>>1)])):u=!1):(w=!0,y[y.length]=[b+" "+Aa+" "+r,"second argument must be >= first"])):u=!1)):(d=q.Ga(),d===Keywords.Mg?(d=q.W(),Y=ha=-1,ea=0,w=!0):u=!1);break;case Keywords.Iy:q.N()&&(u=!0,r=q.O(),0<=r&&1>=r&&(X=r,w=!0));break;case Keywords.nr:q.N()&&(u=!0,r=q.O(),r>=-v.g.ga&&r<2*v.g.ga&&(u=!1,Aa=r,q.N()&&(u=!0,r=q.O(),r>=-v.g.ga&&r<2*v.g.ga&&
(u=!1,Ba=r,q.N()&&(u=!0,r=q.O(),r>=-v.g.ga&&r<2*v.g.ga&&(u=!1,fb=r,q.N()&&(u=!0,r=q.O(),r>=-v.g.ga&&r<2*v.g.ga&&(u=!1,gb=r,q.N()&&(u=!0,r=q.O(),Ca=-1E3,r>=ViewConstants.Xa&&r<=ViewConstants.Ib?Ca=r:r>=ViewConstants.Ks&&r<=ViewConstants.Is&&(Ca=-(1/r)),-1E3!==Ca&&(d=q.Ga(),ma=!1,d===Keywords.Md&&(d=q.W(),ma=!0,d=q.Ga()),sa=v.X.$J(Aa,Ba,fb,gb,Ca,ia,la,v.nz,X,ja,na,ha,Y,ea,da,qa,ma,T,Q,W),v.X.aJ(sa),w=!0))))))))));break;case Keywords.yA:q.N()&&(u=!0,r=q.O(),r>=ViewConstants.jG&&r<=ViewConstants.bG&&
(O=r,w=!0,d=q.Ga(),d===Keywords.Md?(d=q.W(),oa=!0):oa=!1));break;case Keywords.AA:q.N()?(u=!0,r=q.O(),r>=ViewConstants.ph&&r<=ViewConstants.oh&&(Aa=r,u=!1,q.N()&&(u=!0,r=q.O(),r>=ViewConstants.ph&&r<=ViewConstants.oh&&(aa=Aa,fa=r,w=!0)))):(d=q.Ga(),d===Keywords.Md&&(d=q.W(),fa=aa=0,w=!0));break;case Keywords.BA:q.N()?(u=!0,r=q.O(),0<=r&&r<=v.g.ga/2&&(ka=r,w=!0)):(d=q.Ga(),d===Keywords.Jb&&(d=q.W(),ka=-1,w=!0));break;case Keywords.xA:q.N()&&(u=!0,r=q.O(),0<=r&&360>r&&(ya=r,wa=!1,d=q.Ga(),d===Keywords.Md&&
(d=q.W(),wa=!0),w=!0));break;case Keywords.zA:q.N()?(u=!0,r=q.O()|0,0<=r&&(Aa=r,q.N()?(r=q.O()|0,r>=Aa?(Ba=r,q.N()?(r=q.O()|0,0<=r&&r<=Ba-Aa>>1?(Z=Aa,R=Ba,pa=r,w=!0):(w=!0,y[y.length]=[b+" "+Aa+" "+Ba+" "+r,"third argument must from 0 to "+(Ba-Aa>>1)])):u=!1):(w=!0,y[y.length]=[b+" "+Aa+" "+r,"second argument must be >= first"])):u=!1)):(d=q.Ga(),d===Keywords.Mg?(d=q.W(),R=Z=-1,pa=0,w=!0):u=!1);break;case Keywords.wA:q.N()&&(u=!0,r=q.O(),0<=r&&1>=r&&(M=r,w=!0));break;case Keywords.eH:q.N()?(u=!0,
r=q.O(),Aa=-1E3,r>=ViewConstants.pq&&r<=ViewConstants.nq?Aa=r:r>=ViewConstants.oq&&r<=ViewConstants.mq&&(Aa=-(1/r)),-1E3!==Aa&&q.N()&&(u=!0,r=q.O(),Ba=-1E3,r>=ViewConstants.pq&&r<=ViewConstants.nq?Ba=r:r>=ViewConstants.oq&&r<=ViewConstants.mq&&(Ba=-(1/r)),-1E3!==Ba&&Ba<Aa&&(Ba=-1E3),-1E3!==Ba&&(S=Aa,U=Ba,w=!0))):(d=q.Ga(),d===Keywords.Jb&&(d=q.W(),U=S=-1E3,w=!0));break;case Keywords.Oy:q.N()?(u=!0,r=q.O(),Aa=-1E3,r>=ViewConstants.pq&&r<=ViewConstants.nq?Aa=r:r>=ViewConstants.oq&&r<=ViewConstants.mq&&
(Aa=-(1/r)),-1E3!==Aa&&q.N()&&(u=!0,r=q.O(),Ba=-1E3,r>=ViewConstants.pq&&r<=ViewConstants.nq?Ba=r:r>=ViewConstants.oq&&r<=ViewConstants.mq&&(Ba=-(1/r)),-1E3!==Ba&&Ba<Aa&&(Ba=-1E3),-1E3!==Ba&&(ia=Aa,la=Ba,w=!0))):(d=q.Ga(),d===Keywords.Jb&&(d=q.W(),la=ia=-1E3,w=!0));break;case Keywords.CA:q.N()?(u=!0,r=q.O(),Aa=-1E3,r>=ViewConstants.pq&&r<=ViewConstants.nq?Aa=r:r>=ViewConstants.oq&&r<=ViewConstants.mq&&(Aa=-(1/r)),-1E3!==Aa&&q.N()&&(u=!0,r=q.O(),Ba=-1E3,r>=ViewConstants.pq&&r<=ViewConstants.nq?Ba=
r:r>=ViewConstants.oq&&r<=ViewConstants.mq&&(Ba=-(1/r)),-1E3!==Ba&&Ba<Aa&&(Ba=-1E3),-1E3!==Ba&&(ca=Aa,ta=Ba,w=!0))):(d=q.Ga(),d===Keywords.Jb&&(d=q.W(),ta=ca=-1E3,w=!0));break;case Keywords.zs:q.N()&&(u=!0,r=q.O(),r>=-v.g.ga&&r<2*v.g.ga&&(u=!1,Aa=r,q.N()&&(u=!0,r=q.O(),r>=-v.g.ga&&r<2*v.g.ga&&(u=!1,Ba=r,q.N()&&(u=!0,r=q.O(),Ca=-1E3,r>=ViewConstants.Xa&&r<=ViewConstants.Ib?Ca=r:r>=ViewConstants.Ks&&r<=ViewConstants.Is&&(Ca=-(1/r)),-1E3!==Ca&&(u=!1,d=q.Ga(),va=!1,d===Keywords.Md&&(d=q.W(),va=!0,d=q.Ga()),
d[0]===Keywords.Fd?(ba=v.X.cK(Aa,Ba,Ca,ca,ta,v.oz,M,O,oa,Z,R,pa,ya,wa,va,ka,aa,fa),w=ua=!0):ra="a string"))))));break;case Keywords.$B:w=v.g.wh=!0;break;case Keywords.vA:w=v.g.uj=!0;break;case Keywords.Nq:w=!1;d=q.W();if(""!==d){for(v.Mq=[];q.N();)r=q.O(),v.Mq[v.Mq.length]=r;v.cJ(y,d,v.Mq);v.Mq=[];w=!0}break;case Keywords.To:w=!1;d=q.W();if(""!==d&&(f=q.Ga(),""!==f)){q.W();for(l=q.Ga();""!==l&&!this.so(l)&&!q.N()&&-1!==v.C.Mp(hb,l,!1,v.g.A);)q.W(),f+=l,l=q.Ga();Ba=Aa=0;q.N()&&(u=!0,Aa=q.O());q.N()&&
(u=!0,Ba=q.O());Ca=-1;l=q.Ga();if(""!==l){switch(l){case Keywords.FD:Ca=ViewConstants.Ot;break;case Keywords.CD:Ca=ViewConstants.vD;break;case Keywords.DD:Ca=ViewConstants.wD;break;case Keywords.ED:Ca=ViewConstants.xD;break;case Keywords.ID:Ca=ViewConstants.AD;break;case Keywords.JD:Ca=ViewConstants.BD;break;case Keywords.HD:Ca=ViewConstants.zD;break;case Keywords.GD:Ca=ViewConstants.yD}-1!==Ca&&q.W()}-1===Ca&&(Ca=ViewConstants.Ot);v.bJ(y,d,f,Aa,Ba,Ca);w=!0}break;case Keywords.zq:f=q.Ga();if(""!==
f){q.W();for(l=q.Ga();""!==l&&!this.so(l)&&!q.N()&&-1!==v.C.Mp(hb,l,!1,v.g.A);)q.W(),f+=l,l=q.Ga();Ba=Aa=0;q.N()&&(u=!0,Aa=q.O());q.N()&&(u=!0,Ba=q.O());Ca=-1;l=q.Ga();if(""!==l){switch(l){case Keywords.FD:Ca=ViewConstants.Ot;break;case Keywords.CD:Ca=ViewConstants.vD;break;case Keywords.DD:Ca=ViewConstants.wD;break;case Keywords.ED:Ca=ViewConstants.xD;break;case Keywords.ID:Ca=ViewConstants.AD;break;case Keywords.JD:Ca=ViewConstants.BD;break;case Keywords.HD:Ca=ViewConstants.zD;break;case Keywords.GD:Ca=
ViewConstants.yD}-1!==Ca&&q.W()}-1===Ca&&(Ca=ViewConstants.Ot);v.fJ(v.xq,v.Us,v.wq,v.Vs,v.cd,v.mB,v.nB,f,Aa,Ba,Ca)||(y[y.length]=[Keywords.zq+" "+f,"invalid name or rle"]);w=!0}break;case Keywords.lB:q.N()&&(u=!0,r=q.O(),-4096<=r&&4096>=r&&(v.mB=r,u=!1,q.N()&&(u=!0,r=q.O(),-4096<=r&&4096>=r&&(v.nB=r,w=!0))));break;case Keywords.Xs:if(q.N()){if(u=!0,r=q.O(),0<=r){v.xq=r;v.Vs=0;v.Us=-1;v.wq=[];for(k=!0;k;)q.N()?(r=q.O(),v.wq[v.wq.length]=r):(d=q.Ga(),v.gJ(d,v.wq)?q.W():k=!1);w=!0}}else d=q.Ga(),d===
Keywords.Rr&&(d=q.W(),q.N()&&(u=!0,r=q.O(),1<=r&&(v.Vs=r,v.xq=0,v.Us=-1,q.N()?(r=q.O(),0<=r&&(v.xq=r,q.N()?(r=q.O(),r>=v.xq+v.Vs&&(v.Us=r,w=!0)):w=!0)):w=!0)));break;case Keywords.SH:w=e.eq=!0;break;case Keywords.OB:w=v.rx=!0;break;case Keywords.BB:w=!0;u=!1;ra="paste mode";d=q.Ga();switch(d){case Keywords.HB:v.cd=ViewConstants.MG;break;case Keywords.tB:v.cd=ViewConstants.sB;break;case Keywords.oB:v.cd=ViewConstants.AG;break;case Keywords.DB:v.cd=ViewConstants.JG;break;case Keywords.pB:v.cd=ViewConstants.BG;
break;case Keywords.GB:v.cd=ViewConstants.LG;break;case Keywords.FB:v.cd=ViewConstants.EB;break;case Keywords.AB:v.cd=ViewConstants.Ws;break;case Keywords.wB:v.cd=ViewConstants.FG;break;case Keywords.CB:v.cd=ViewConstants.KG;break;case Keywords.yB:v.cd=ViewConstants.HG;break;case Keywords.qB:v.cd=ViewConstants.CG;break;case Keywords.xB:v.cd=ViewConstants.GG;break;case Keywords.rB:v.cd=ViewConstants.DG;break;case Keywords.vB:v.cd=ViewConstants.EG;break;case Keywords.zB:v.cd=ViewConstants.IG;break;
case Keywords.uB:v.cd=ViewConstants.Dw;break;default:if(4===d.length){for(Ga=r=0;4>Ga&&w;){r<<=1;switch(d.substr(Ga,1)){case "1":r|=1;break;case "0":break;default:w=!1}Ga+=1}w&&(v.cd=r)}else q.N()?(u=!0,r=q.O()|0,0<=r&&15>=r?v.cd=r:w=!1):w=!1}w&&!u&&q.W();break;case Keywords.fA:w=v.Li=!0;break;case Keywords.cB:v.Oj=!1;w=!0;break;case Keywords.bB:w=v.ce=!0;break;case Keywords.dB:v.yl=!1;w=!0;break;case Keywords.MA:q.N()&&(u=!0,r=q.O()|0,r>=ViewConstants.iG&&r<=ViewConstants.aG&&(v.g.ga=1<<r,w=!0));
break;case Keywords.At:d=q.Ga();d===Keywords.Jb?(d=q.W(),e.xn=!1):e.xn=!0;w=e.wx=!0;break;case Keywords.Lu:d=q.Ga();d===Keywords.Jb?(d=q.W(),e.Df=!1):e.Df=!0;w=!0;break;case Keywords.es:q.N()&&(u=!0,r=q.O()|0,0<=r&&r<=v.Hs&&(v.K=r,w=!0));break;case Keywords.kr:q.N()&&(u=!0,r=q.O()|0,0<=r&&r<=v.Hs&&(v.zi=r,w=!0));break;case Keywords.gA:d=q.Ga();d===Keywords.Jb?(d=q.W(),v.Mi=!1):v.Mi=!0;w=!0;break;case Keywords.Yr:d=q.Ga();d===Keywords.Jb?(d=q.W(),e.zd=!1):e.zd=!0;w=e.Al=!0;break;case Keywords.Xr:q.N()&&
(u=!0,r=q.O()|0,r>=ViewConstants.gM&&r<=ViewConstants.bM&&(v.g.Ef=r,w=v.ev=!0));break;case Keywords.Ra:case Keywords.cz:c=b;xa=!1;if(q.N()){B=q.O()|0;if(0>B||255<B)y[y.length]=[b+" "+B,"STATE out of range"],xa=!0;this.Lp(v,q,y,B,b,xa,B)}else switch(d=q.Ga(),d){case Keywords.uG:this.rc(v,q,y,ViewConstants.lh,c);break;case Keywords.vG:this.rc(v,q,y,ViewConstants.wj,c);break;case Keywords.CF:this.rc(v,q,y,ViewConstants.Fi,c);break;case Keywords.RF:d=q.W();this.Lp(v,q,y,ViewConstants.SF,b,!1,d);break;
case Keywords.VF:d=q.W();this.Lp(v,q,y,ViewConstants.WF,b,!1,d);break;case Keywords.TF:d=q.W();this.Lp(v,q,y,ViewConstants.UF,b,!1,d);break;case Keywords.JF:d=q.W();this.Lp(v,q,y,ViewConstants.KF,b,!1,d);break;case Keywords.Ax:this.rc(v,q,y,ViewConstants.lh,c);break;case Keywords.zx:this.rc(v,q,y,ViewConstants.wj,c);break;case Keywords.dD:this.rc(v,q,y,ViewConstants.fv,c);break;case Keywords.Cx:this.rc(v,q,y,ViewConstants.Fi,c);break;case Keywords.Bx:this.rc(v,q,y,ViewConstants.Br,c);break;case Keywords.fD:this.rc(v,
q,y,ViewConstants.hv,c);break;case Keywords.eD:this.rc(v,q,y,ViewConstants.sz,c);break;case Keywords.Yr:this.rc(v,q,y,ViewConstants.Cr,c);break;case Keywords.Xr:this.rc(v,q,y,ViewConstants.Dr,c);break;case Keywords.At:this.rc(v,q,y,ViewConstants.pv,c);break;case Keywords.bD:this.rc(v,q,y,ViewConstants.qv,c);break;case Keywords.Oz:this.rc(v,q,y,ViewConstants.jv,c);break;case Keywords.zs:this.rc(v,q,y,ViewConstants.Er,c);break;case Keywords.nr:this.rc(v,q,y,ViewConstants.Ar,c);break;case Keywords.dH:this.rc(v,
q,y,ViewConstants.Fr,c);break;case Keywords.xE:this.rc(v,q,y,ViewConstants.gv,c);break;case Keywords.zE:this.rc(v,q,y,ViewConstants.rz,c);break;case Keywords.GH:this.rc(v,q,y,ViewConstants.vz,c);break;case Keywords.zq:this.rc(v,q,y,ViewConstants.uz,c);break;case Keywords.pE:this.rc(v,q,y,ViewConstants.qz,c);break;case Keywords.sF:this.rc(v,q,y,ViewConstants.mv,c);break;case Keywords.rF:this.rc(v,q,y,ViewConstants.lv,c);break;case Keywords.qF:this.rc(v,q,y,ViewConstants.kv,c);break;case Keywords.tF:this.rc(v,
q,y,ViewConstants.nv,c);break;case Keywords.uF:this.rc(v,q,y,ViewConstants.ov,c);break;case Keywords.$H:this.rc(v,q,y,ViewConstants.Ir,c);break;case Keywords.YH:this.rc(v,q,y,ViewConstants.Gr,c);break;case Keywords.aI:this.rc(v,q,y,ViewConstants.Jr,c);break;case Keywords.dI:this.rc(v,q,y,ViewConstants.Lr,c);break;case Keywords.bI:this.rc(v,q,y,ViewConstants.Kr,c);break;case Keywords.ZH:this.rc(v,q,y,ViewConstants.Hr,c);break;default:if('"'===d.charAt(0)){d=q.W();do f=q.W(),d+=" "+f;while(""!==f&&
'"'!==f.charAt(f.length-1))}else d=q.W();B=v.$K(d);-1!==B&&this.Lp(v,q,y,B,b,xa,d);-1===B&&(y[y.length]=[b+" "+d,"illegal element"],d=q.W())}w=!0;break;case Keywords.Uq:-1===q.hF()&&q.FK();w=!0;--v.Fo;break;case Keywords.Ut:w=v.Va=!0;break;case Keywords.fB:w=v.eB=!0;break;case Keywords.pC:w=v.ix=!0;break;case Keywords.gB:v.gm=!1;w=!0;break;case Keywords.Pz:w=v.Dv=!0;break;case Keywords.lA:w=v.os=!0;break;case Keywords.aB:v.Zc=!0;w=v.zw=!0;break;case Keywords.$A:w=v.Gl=!0;break;case Keywords.XC:w=
eb=db=cb=bb=Ra=Qa=ab=$a=Pa=Za=Ya=Xa=Wa=Va=Ua=Ta=!0;break;case Keywords.Jb:y[y.length]=[Keywords.Jb,"must follow LOOP or STOP"];w=!0;break;case Keywords.Mg:d=q.Ga();d===Keywords.mc?(d=q.W(),e.ci?(v.X.QJ(e,y),v.fO()):y[y.length]=[Keywords.Mg+" "+Keywords.mc,"only valid at a POI"]):y[y.length]=[Keywords.Mg,"must be followed by INITIAL"];w=!0;break;case Keywords.mc:y[y.length]=[Keywords.mc,"must follow POI, ALL or a POI setting"];w=!0;break;case Keywords.RC:q.N()&&(u=!0,r=q.O()|0,0<=r&&r<=ViewConstants.fG&&
(v.Gg=r,w=!0));break;case Keywords.Mu:d=q.Ga();d===Keywords.Jb?(d=q.W(),v.Af=!1):v.Ha&&(v.Af=!0);w=!0;break;case Keywords.Hw:q.N()&&(u=!0,r=q.O()|0,0<=r&&(e.ci?(e.nc=r,e.Et=!0):y[y.length]=[Keywords.Hw+" "+r,"only valid at a POI"],w=!0));break;case Keywords.Gq:e.gO(y);w=!0;break;case Keywords.Hq:e.kO(y);w=!0;break;case Keywords.gt:e.hO(y);w=!0;break;case Keywords.ht:q.N()&&(u=!0,r=q.O(),r>=WaypointConstants.aH&&r<=WaypointConstants.$G&&(e.mO(r,y),w=!0));break;case Keywords.PB:w=m=!0;break;case Keywords.Zz:w=
v.Ov=!0;break;case Keywords.TC:d=q.Ga();d===Keywords.Jb?(d=q.W(),v.Yi=!1):v.Yi=!0;w=!0;break;case Keywords.Nt:q.N()&&(u=!0,r=q.O(),r>=ViewConstants.ph&&r<=ViewConstants.oh&&(Ha=r,u=!1,b+=" "+r,q.N()&&(u=!0,r=q.O(),r>=ViewConstants.ph&&r<=ViewConstants.oh&&(Ka=r,w=!0,v.Ae&&(y[y.length]=[Keywords.Nt+" "+Ha+" "+Ka,"overwrites "+Ea+" "+Da]),Ea=Ha,Da=Ka,v.Ae=!0))));break;case Keywords.Mt:q.N()&&(u=!0,r=q.O()|0,0<r&&(Ia=r,u=!1,b+=" "+r,q.N()&&(u=!0,r=q.O(),r>=ViewConstants.ph&&r<=ViewConstants.oh&&(Ha=
r,u=!1,b+=" "+r,q.N()&&(u=!0,r=q.O(),r>=ViewConstants.ph&&r<=ViewConstants.oh&&(Ka=r,w=!0,v.sp&&(y[y.length]=[Keywords.Mt+" "+Ia+" "+Ha+" "+Ka,"overwrites "+za+" "+Ea+" "+Da]),za=Ia,Ea=Ha,Da=Ka,v.sp=!0,v.Ae=!0))))));break;case Keywords.rp:q.N()&&(u=!0,r=q.O(),r>=ViewConstants.ph&&r<=ViewConstants.oh&&(La=r,u=!1,b+=" "+r,q.N()&&(u=!0,r=q.O(),r>=ViewConstants.ph&&r<=ViewConstants.oh&&(Ja=r,u=!1,b+=" "+r,q.N()&&(u=!0,r=q.O(),r>=ViewConstants.ph&&r<=ViewConstants.oh&&(Ma=r,u=!1,b+=" "+r,q.N()&&(u=!0,
r=q.O(),r>=ViewConstants.ph&&r<=ViewConstants.oh&&(Fa=r,w=!0,Ma>La?y[y.length]=[Keywords.rp+" W "+this.bj(Ma,2)+" E "+this.bj(La,2),"W is greater than E"]:Fa>Ja?y[y.length]=[Keywords.rp+" N "+this.bj(Fa,2)+" S "+this.bj(Ja,2),"N is greater than S"]:(v.op&&(y[y.length]=[Keywords.rp+" "+this.bj(La,2)+" "+this.bj(Ja,2)+" "+this.bj(Ma,2)+" "+this.bj(Fa,2),"overwrites "+this.bj(v.In,2)+" "+this.bj(v.Jn,2)+" "+this.bj(v.qp,2)+" "+this.bj(v.pp,2)]),v.op=!0,v.Ae=!0,v.pp=Fa,v.In=La,v.Jn=Ja,v.qp=Ma)))))))));
break;case Keywords.ak:t=e;!e.ci&&0<v.X.yM&&(e=v.X.Ur());q.N()?(u=!0,r=q.O()|0,0<r&&(!e.Cn||v.Gm||Ra||(y[y.length]=-1===e.jc?[Keywords.ak+" "+r,"overwrites "+Keywords.Jb]:[Keywords.ak+" "+r,"overwrites "+e.jc]),e.jc=r,e.Cn=!0,Ra=v.Gm=!1,w=!0)):(d=q.Ga(),d===Keywords.Jb?(d=q.W(),!e.Cn||v.Gm||Ra||(y[y.length]=-1!==e.jc||v.Gm?[Keywords.ak+" "+Keywords.Jb,"overwrites "+e.jc]:[Keywords.ak+" "+Keywords.Jb,"overwrites "+Keywords.Jb]),e.jc=-1,e.Cn=!0,Ra=v.Gm=!1,w=!0):d===Keywords.mc&&(d=q.W(),v.X.xd(Keywords.ak,
e,y,v.Gm),w=v.Gm=!0));e=t;break;case Keywords.Hj:t=e;!e.ci&&0<v.X.Ua.length&&(e=v.X.Ur());q.N()?(u=!0,r=q.O()|0,0<r&&(!e.Mm||v.po||Qa||(y[y.length]=-1===e.jb?[Keywords.Hj+" "+r,"overwrites "+Keywords.Jb]:[Keywords.Hj+" "+r,"overwrites "+e.jb]),e.jb=r,e.Mm=!0,Qa=v.po=!1,w=!0)):(d=q.Ga(),d===Keywords.Jb?(d=q.W(),!e.Mm||v.po||Qa||(y[y.length]=-1===e.jb?[Keywords.Hj+" "+Keywords.Jb,"overwrites "+Keywords.Jb]:[Keywords.Hj+" "+Keywords.Jb,"overwrites "+e.jb]),e.jb=-1,e.Mm=!0,Qa=v.po=!1,w=!0):d===Keywords.mc&&
(d=q.W(),v.X.xd(Keywords.Hj,e,y,v.po),w=v.po=!0));e=t;break;case Keywords.Gn:q.N()?(u=!0,r=q.O(),r>=ViewConstants.uw&&r<=ViewConstants.nw&&(!e.mi||v.ws||Xa||(y[y.length]=[Keywords.Gn+" "+r,"overwrites "+e.Na]),e.Na=r,e.mi=!0,Xa=v.ws=!1,w=!0)):(d=q.Ga(),d===Keywords.mc&&(d=q.W(),v.X.xd(Keywords.Gn,e,y,v.ws),w=v.ws=!0));break;case Keywords.em:q.N()?(u=!0,r=q.O()|0,0<=r&&359>=r&&(!e.Sh||v.rs||Wa||(y[y.length]=[Keywords.em+" "+r,"overwrites "+e.angle]),e.angle=r,e.Sh=!0,Wa=v.rs=!1,w=!0)):(d=q.Ga(),d===
Keywords.mc&&(d=q.W(),v.X.xd(Keywords.em,e,y,v.rs),w=v.rs=!0));break;case Keywords.yo:q.N()?(u=!0,r=q.O()|0,r>=ViewConstants.rw&&r<=ViewConstants.kw&&(!e.Pi||v.us||Ya||(y[y.length]=[Keywords.yo+" "+r,"overwrites "+e.$]),e.$=r,e.Pi=!0,Ya=v.us=!1,w=!0)):(d=q.Ga(),d===Keywords.mc&&(d=q.W(),v.X.xd(Keywords.yo,e,y,v.us),w=v.us=!0));break;case Keywords.co:q.N()?(u=!0,r=q.O(),r>=ViewConstants.qw&&r<=ViewConstants.$F&&(!e.Gi||v.ss||Za||(y[y.length]=[Keywords.co+" "+r,"overwrites "+e.depth]),e.depth=r,e.Gi=
!0,Za=v.ss=!1,w=!0)):(d=q.Ga(),d===Keywords.mc&&(d=q.W(),v.X.xd(Keywords.co,e,y,v.ss),w=v.ss=!0));break;case Keywords.Qx:q.N()&&(u=!0,r=q.O(),r>=-v.g.ga/2&&r<=v.g.ga/2&&(v.Qb=r,w=!0));break;case Keywords.Rx:q.N()&&(u=!0,r=q.O(),r>=-v.g.ga/2&&r<=v.g.ga/2&&(v.Rb=r,w=!0));break;case Keywords.Pf:q.N()?(u=!0,r=q.O(),r>=-v.g.ga/2&&r<=v.g.ga/2&&(!e.ig||v.xs||Ta||(y[y.length]=[Keywords.Pf+" "+r,"overwrites "+-e.x]),e.x=-r,e.ig=!0,Ta=v.xs=!1,w=!0)):(d=q.Ga(),d===Keywords.mc&&(d=q.W(),v.X.xd(Keywords.Pf,e,
y,v.xs),w=v.xs=!0));break;case Keywords.Rf:q.N()?(u=!0,r=q.O(),r>=-v.g.ga/2&&r<=v.g.ga/2&&(!e.Qf||v.ys||Ua||(y[y.length]=[Keywords.Rf+" "+r,"overwrites "+-e.y]),e.y=-r,e.Qf=!0,Ua=v.ys=!1,w=!0)):(d=q.Ga(),d===Keywords.mc&&(d=q.W(),v.X.xd(Keywords.Rf,e,y,v.ys),w=v.ys=!0));break;case Keywords.GF:w=v.FF=!0;break;case Keywords.oD:q.N()&&(u=!0,r=q.O(),r>=ViewConstants.Xa&&r<=ViewConstants.Ib?(v.Ex=!0,v.nD=r,w=!0):r>=ViewConstants.Ks&&r<=ViewConstants.Is&&(v.Ex=!0,v.nD=-(1/r),w=!0));break;case Keywords.Fy:case Keywords.le:q.N()?
(u=!0,r=q.O(),r>=ViewConstants.Xa&&r<=ViewConstants.Ib?(!e.ke||v.qo||Va||(y[y.length]=1>e.zoom?[Keywords.le+" "+r,"overwrites "+-(1/e.zoom)]:[Keywords.le+" "+r,"overwrites "+e.zoom]),e.zoom=r,e.ke=!0,Va=v.qo=!1,w=!0):r>=ViewConstants.Ks&&r<=ViewConstants.Is&&(e.ke&&!v.qo&&(y[y.length]=1>e.zoom?[Keywords.le+" "+r,"overwrites "+-(1/e.zoom)]:[Keywords.le+" "+r,"overwrites "+e.zoom]),e.zoom=-(1/r),e.ke=!0,v.qo=!1,w=!0)):(d=q.Ga(),d===Keywords.mc&&(d=q.W(),v.X.xd(Keywords.le,e,y,v.qo),w=v.qo=!0));break;
case Keywords.mo:q.N()?(u=!0,r=q.O()|0,r>=ViewConstants.Qi&&(!e.Xf||v.ts||$a||(y[y.length]=[Keywords.mo+" "+r,"overwrites "+e.Hc]),r>v.Ma&&(r=v.Ma),e.Hc=r,e.Xf=!0,$a=v.ts=!1,v.OC=!1,w=!0)):(d=q.Ga(),d===Keywords.mc&&(d=q.W(),v.X.xd(Keywords.mo,e,y,v.ts),w=v.ts=!0));break;case Keywords.pD:d=q.Ga();d===Keywords.Jb?(d=q.W(),v.Nd||(v.wb=!1,v.Yl=!1)):v.Nd||(v.wb=!0,v.Yl=!0);w=!0;break;case Keywords.mD:w=v.lD=!0;break;case Keywords.iD:d=q.Ga();d===Keywords.Jb?(d=q.W(),v.Nd||(v.wb=!1,v.Yl=!1,v.ck=!1,v.j.ck=
!1)):v.Nd||(v.wb=!0,v.Yl=!0,v.ck=!0,v.j.ck=!0);w=!0;break;case Keywords.kD:q.N()&&(u=!0,r=q.O()|0,r>=ViewConstants.nG&&r<=ViewConstants.gG&&(v.Ve=r,w=!0));break;case Keywords.Xl:q.N()?(u=!0,r=q.O()|0,0<=r&&r<v.g.rf&&(!e.Ig||v.Dl||Pa||this.aC(v,y,r,e.Mc),e.Mc=r,e.Ig=!0,Pa=v.Dl=!1,w=!0)):(d=q.Ga(),d===Keywords.br?(d=q.W(),v.Zh?(e.Ig&&!v.Dl&&this.aC(v,y,v.g.rf,e.Mc),e.Mc=v.g.rf,e.Ig=!0,v.Dl=!1):y[y.length]=[Keywords.Xl+" "+Keywords.br,"no custom THEME defined"],w=!0):(r=v.FO(d),-1!==r?(d=q.W(),!e.Ig||
v.Dl||Pa||this.aC(v,y,r,e.Mc),e.Mc=r,e.Ig=!0,Pa=v.Dl=!1,w=!0):d===Keywords.mc&&(d=q.W(),v.X.xd(Keywords.Xl,e,y,v.Dl),w=v.Dl=!0)),w||(w=!0,y[y.length]=[b,"invalid specification"]));break;case Keywords.kH:w=v.g.de=!0;break;case Keywords.Xo:y[y.length]=[b,"already in a script block"];w=!0;break;case Keywords.IC:v.nd=!v.nd;w=!0;break;case Keywords.JC:v.Up.current=v.Mn([!0],!0,v);w=!0;break;case Keywords.Qz:v.Jt.current=v.bE([!0],!0,v);w=!0;break;case Keywords.HC:v.Ox([!0],!0,v);v.jf&&(v.jf.current=[v.Ch],
v.j.hg=!0);w=!0;break;case Keywords.Dz:q.N()&&(u=!0,r=q.O()|0,r>=ViewConstants.hG&&r<=ViewConstants.ZF&&(w=!0,v.g.qt=r));break;case Keywords.Aw:w=v.Ac=!0;break;case Keywords.Iv:w=v.sd=!0;break;case Keywords.Wz:q.N()&&(u=!0,r=q.O(),0<=r&&1>=r&&(w=!0,v.Dd=r));break;case Keywords.Xz:v.uh=!1;w=!0;break;case Keywords.XH:v.g.P&&(v.g.sc=!1);w=!0;break;case Keywords.aA:v.g.U&&(v.g.sc=!1);w=!0;break;case Keywords.ux:w=v.g.sc=!0;break;case Keywords.Uy:w=v.g.kd=!0;break;case Keywords.hC:q.N()&&(u=!0,r=q.O()|
0,r>=ViewConstants.mG&&r<=ViewConstants.eG&&(v.Zw=r,w=!0));break;case Keywords.cC:q.N()&&(u=!0,r=q.O()|0,r>=ViewConstants.lG&&r<=ViewConstants.dG&&(v.Uw=r,w=!0));break;case Keywords.bC:q.N()&&(u=!0,r=q.O()|0,r>=ViewConstants.tw&&r<=ViewConstants.mw&&(v.Sw=r,w=!0));break;case Keywords.dC:w=v.Vw=!0;break;case Keywords.gC:w=v.Yw=!0;break;case Keywords.Qw:d=q.Ga();switch(d){case Keywords.Md:d=q.W();w=!0;v.pt=!0;break;case Keywords.Mg:d=q.W();q.N()&&(u=!0,r=q.O()|0,0<=r&&100>=r&&(v.Hl=r,w=!0));break;case Keywords.Pw:d=
q.W();q.N()&&(u=!0,r=q.O()|0,0<=r&&100>=r&&(v.Il=r,w=!0));break;case Keywords.Ww:d=q.W();q.N()&&(u=!0,r=q.O()|0,0<=r&&100>=r&&(v.mn=r,w=!0));break;default:this.aP(d)&&(d=q.W(),q.N()&&(u=!0,r=q.O()|0,0<=r&&100>=r&&(this.UN(v,r),w=!0)))}break;case Keywords.iC:w=v.$w=!0;break;case Keywords.fC:v.Xw=q.W();w=v.eC=!0;break;case Keywords.di:d=q.Ga();switch(d){case Keywords.Pf:e.am&&this.Ri(e.si,Keywords.di,Keywords.Pf,y);e.si=!0;e.am=!0;d=q.W();break;case Keywords.Rf:e.bm&&this.Ri(e.ui,Keywords.di,Keywords.Rf,
y);e.ui=!0;e.bm=!0;d=q.W();break;case Keywords.le:e.kE&&this.Ri(e.wi,Keywords.di,Keywords.le,y);e.wi=!0;e.Xt=!0;d=q.W();break;case Keywords.Mg:e.am&&this.Ri(e.si,Keywords.di,Keywords.Pf,y);e.bm&&this.Ri(e.ui,Keywords.di,Keywords.Rf,y);e.kE&&this.Ri(e.wi,Keywords.di,Keywords.le,y);e.si=!0;e.am=!0;e.ui=!0;e.bm=!0;e.wi=!0;e.Xt=!0;d=q.W();break;default:this.Co(q,y,Keywords.di,"argument",Keywords.Mg+", "+Keywords.Pf+", "+Keywords.Rf+" or "+Keywords.le)}w=!0;break;case Keywords.rj:d=q.Ga();switch(d){case Keywords.Pf:e.am&&
this.Ri(e.si,Keywords.rj,Keywords.Pf,y);e.si=!1;e.am=!0;d=q.W();break;case Keywords.Rf:e.bm&&this.Ri(e.ui,Keywords.rj,Keywords.Rf,y);e.ui=!1;e.bm=!0;d=q.W();break;case Keywords.le:e.kE&&this.Ri(e.wi,Keywords.rj,Keywords.le,y);e.wi=!1;e.Xt=!0;d=q.W();break;case Keywords.Mg:e.am&&this.Ri(e.si,Keywords.rj,Keywords.Pf,y);e.bm&&this.Ri(e.ui,Keywords.rj,Keywords.Rf,y);e.kE&&this.Ri(e.wi,Keywords.rj,Keywords.le,y);e.si=!1;e.am=!0;e.ui=!1;e.bm=!0;e.wi=!1;e.Xt=!0;d=q.W();break;default:this.Co(q,y,Keywords.rj,
"argument",Keywords.Mg+", "+Keywords.Pf+", "+Keywords.Rf+" or "+Keywords.le)}w=!0;break;case Keywords.Iw:C=!0;v.X.add(e,v);e=v.X.Kp();e.ci=!0;d=q.Ga();d===Keywords.mc&&(d=q.W(),-1!==v.ao&&(y[y.length]=[Keywords.Iw+" "+Keywords.mc,"overrides previous initial POI"]),v.ao=v.X.yc.length);v.EJ();w=!0;break;case Keywords.Dt:q.N()&&(u=!0,r=q.O()|0,0<=r&&(A=!0,0<r&&(v.X.add(e,v),e=v.X.Kp()),e.nc=r,w=e.Et=!0));break;case Keywords.ep:q.N()?(u=!0,r=q.O()|0,r>=ViewConstants.fi&&r<=ViewConstants.ug&&(!e.wf||v.vs||
ab||(y[y.length]=[Keywords.ep+" "+r,"overwrites "+e.step]),e.step=r,e.wf=!0,ab=v.vs=!1,v.PC=!1,w=!0)):(d=q.Ga(),d===Keywords.mc&&(d=q.W(),v.X.xd(Keywords.ep,e,y,v.vs),w=v.vs=!0));break;case Keywords.KB:q.N()&&(u=!0,r=q.O(),0<=r&&(A=!0,v.X.add(e,v),e=v.X.Kp(),r<ViewConstants.LH&&(r=ViewConstants.LH),e.fd=r,w=e.RH=!0));break;case Keywords.hr:q.N()&&(u=!0,r=q.O()|0,v.Nd||(-1===v.sf||bb||(y[y.length]=[Keywords.hr+" "+r,"overwrites "+v.sf]),v.sf=r),bb=!1,w=!0);break;case Keywords.Xp:q.N()&&(u=!0,r=q.O()|
0,v.Nd||(-1===v.yh||cb||(y[y.length]=[Keywords.Xp+" "+r,"overwrites "+v.yh]),v.yh=r),cb=!1,w=!0);break;case Keywords.jt:q.N()&&(u=!0,r=q.O()|0,-1===v.bg||db||(y[y.length]=[Keywords.jt+" "+r,"overwrites "+v.bg]),v.bg=r,db=!1,w=!0);break;case Keywords.it:q.N()&&(u=!0,r=q.O()|0,-1===v.Ti||eb||(y[y.length]=[Keywords.it+" "+r,"overwrites "+v.Ti]),v.Ti=r,eb=!1,w=!0);break;default:y[y.length]=[b,"unknown or misspelt command"],w=!0}w||(u?y[y.length]=[b+" "+r,"argument out of range"]:this.Co(q,y,b,"argument",
ra))}""!==b&&(b=q.W())}n&&(y[y.length]=[Keywords.Fd+p,"unterminated string"]);A&&v.Ae&&(z=v.op?Keywords.rp:v.sp?Keywords.Mt:Keywords.Nt,y[y.length]=[z,"can not be used with Waypoints"],v.Ae=!1,v.op=!1,v.sp=!1);v.op||!v.Ae&&!v.sp||(v.sp&&(0<v.g.Ef&&(za*=v.g.Ef),e.jb=za),v.pp=Da,v.In=Ea,v.Jn=Da,v.qp=Ea);if(A||C){v.X.add(e,v);e=v.X.Ur();A?v.Wc=!0:-1!==v.ao&&(v.jh=v.ao,t=v.X.yc[v.ao],t.ig&&(e.ig=t.ig,e.x=t.x),t.Qf&&(e.Qf=t.Qf,e.y=t.y),t.ke&&(e.ke=t.ke,e.zoom=t.zoom),t.Sh&&(e.Sh=t.Sh,e.angle=t.angle),
t.mi&&(e.mi=t.mi,e.Na=t.Na),t.Gi&&(e.Gi=t.Gi,e.depth=t.depth),t.Pi&&(e.Pi=t.Pi,e.$=t.$),t.Ig&&(e.Ig=t.Ig,e.Mc=t.Mc),t.Xf&&(e.Xf=t.Xf,e.Hc=t.Hc),t.wf&&(e.wf=t.wf,e.step=t.step),t.PH&&(e.PH=t.PH,e.stop=t.stop),t.PF&&(e.PF=t.PF,e.loop=t.loop));if(A){for(Ga=0;Ga<v.X.Ua.length;Ga+=1)e=v.X.Ua[Ga],e.Df&&(e.ig||e.Qf||e.ke)&&(p="",e.ig?(p="X "+e.x,e.Qf?p=e.ke?p+(", Y "+e.y+" and ZOOM "+e.zoom):p+(" and Y "+e.y):e.ke&&(p+=" and ZOOM "+e.zoom)):e.Qf?(p="Y "+e.y,e.ke&&(p+=" and ZOOM "+e.zoom)):e.ke&&(p="ZOOM "+
e.zoom),y[y.length]=[Keywords.Lu,"overwrites "+p]);e=v.X.Ur()}C&&e.qh===WaypointConstants.play&&v.Ha&&(v.Af=!0)}e.Df&&(v.Ec=!0);e.Qf&&(v.g.va=v.g.height/2-e.y);e.ig&&(v.g.Ca=v.g.width/2-e.x,v.g.U&&(v.g.Ca-=v.g.va/2));e.ke&&(v.g.zoom=e.zoom);v.g.P||v.g.U||v.g.Fa||(e.Sh&&(v.g.angle=e.angle),e.mi&&(v.g.Na=e.Na),e.Gi&&(v.g.Oe=e.depth/ViewConstants.bo+ViewConstants.qw),e.Pi&&(v.g.$=e.$));e.Ig&&(v.gD=e.Mc);e.Xf&&(v.lc=e.Hc,v.tb=ViewConstants.fi);e.wf&&(v.tb=e.step,1<v.tb&&(v.lc=v.Ma));e.cD&&v.j.notification.notify(e.gg,
15,1E3,15,!1);v.jc=e.jc;v.jb=e.jb;e.ke&&(v.Cz=!0);e.ig&&(v.Az=!0);e.Qf&&(v.Bz=!0);e.Al&&(v.g.qc=e.zd);e.wx&&(v.Xi=e.xn);for(Ga=0;Ga<g;Ga+=1)-1!==v.kc[Ga]&&(x+=1);if(0<x){v.Eu=!0;for(Ga=0;Ga<g;Ga+=1)v.C.cp[Ga]?-1===v.kc[Ga]?(v.Eu=!1,v.$n[Ga]=ViewConstants.NH):v.$n[Ga]=ViewConstants.MH:v.$n[Ga]=ViewConstants.UC;v.yr=v.Eu?"(custom)":v.yr+" (custom*)"}else v.kc=null;v.Zh&&(this.pO(v),v.GO&&(v.GO.upper=v.g.rf));v.Va&&(z="not possible due to "+Keywords.Ut,v.Af&&(y[y.length]=[Keywords.Mu,z],v.Af=!1),-1!==
v.jc&&(y[y.length]=[Keywords.ak+" "+v.jc,z]),-1!==v.jb&&(y[y.length]=[Keywords.Hj+" "+v.jb,z]));0!==v.Qb&&v.kb+ViewConstants.ug+2*Math.abs(v.Qb)>=v.g.ga&&(y[y.length]=[Keywords.Qx+" "+v.Qb,"pattern does not fit on grid at view offset"],v.Qb=0);0!==v.Rb&&v.qb+ViewConstants.ug+2*Math.abs(v.Rb)>=v.g.ga&&(y[y.length]=[Keywords.Rx+" "+v.Rb,"pattern does not fit on grid at view offset"],v.Rb=0);v.iB=y.length}""!==v.ej&&(v.ej=this.ar(v,v.ej));v.Ec&&(v.Ku=!0);v.sd&&v.Ac&&(y[y.length]=[Keywords.Iv,"not valid with "+
Keywords.Aw],v.sd=!1);var Na=0,Sa=!1;-1!==v.sf&&(Na=ViewConstants.Sc,v.sf>=ViewConstants.kG&&v.sf<Na&&(v.sf=Na),v.Zc&&(Na=ViewConstants.iM),v.sf<Na||v.sf>v.Ik)&&(y[y.length]=[Keywords.hr+" "+v.sf,"argument out of range"],Sa=!0);-1!==v.yh&&(Na=ViewConstants.Kj,v.Zc&&(Na=ViewConstants.hM),v.yh<Na||v.yh>ViewConstants.ow)&&(y[y.length]=[Keywords.Xp+" "+v.yh,"argument out of range"],Sa=!0);v.Nd&&(-1!==v.bg&&(v.bg>=ViewConstants.kG&&v.bg<ViewConstants.Sc&&(v.bg=ViewConstants.Sc),v.bg<ViewConstants.Sc||
v.bg>v.Ik)&&(y[y.length]=[Keywords.jt+" "+v.bg,"argument out of range"],v.bg=-1,Sa=!0),-1!==v.Ti&&(v.Ti<ViewConstants.Kj||v.Ti>ViewConstants.ow)&&(y[y.length]=[Keywords.it+" "+v.Ti,"argument out of range"],v.Ti=-1,Sa=!0));if(Sa||y.length)-1!==v.sf&&v.sf<ViewConstants.Sc&&(v.sf=ViewConstants.Sc),-1!==v.yh&&v.yh<ViewConstants.Pm&&(v.yh=ViewConstants.Pm),v.Zc=!1;v.o.m=v.Zc;v.j.Zc=v.Zc;v.j.Gl=v.Gl;v.Zc&&(v.Af=!1,v.wb=!1,v.ck=!1,v.sd=!1,v.Mn([!1],!0,v),v.bE([!1],!0,v),v.Ox([!1],!0,v),v.nd=!1,v.Li=!1);
v.eB&&(v.element.style="display:none",v.element.parentNode&&v.element.parentNode.parentNode&&v.element.parentNode.parentNode.className===DocConfig.xv&&(v.element.parentNode.parentNode.style="display:none;"));m&&v.dK();v.X.uO()}}}(),function(){function v(c,m,e,t,A){this.name=c;this.pattern=m;this.LN=e;this.width=t;this.height=A}function h(c){var m;this.rx=!1;this.xo=0;this.PC=this.OC=!0;this.Ma=60;this.zo=x.PA;this.wo=this.Sz=0;this.MF="";this.Gg=-1;this.li=[];this.yw=this.Pr=this.ix=this.lD=this.os=
this.Dv=!1;this.C=new PatternManager;this.Ui=this.oo=!1;this.HA="";this.sg=!1;this.fw=this.dw=this.iq=this.Ds=this.Cs=this.gq=this.ew=this.As=this.kq=this.jq=this.Bs=this.Ob=this.hq="";this.Hb=!1;this.ms=this.gs=this.Xv=this.ks=this.ls=this.$v=this.Yv=this.Wv=this.Vv=this.js=this.ns=this.gj=this.jk=this.lj=this.kk=this.kj=this.ik=this.hk=this.mj=this.jj=this.hj=this.ij=this.gf=this.hs=null;this.Of=1;this.Uw=this.Zw=x.Kq;this.Sw=50;this.Yw=this.Vw=this.pt=!1;this.mn=this.Il=this.Hl=-1;this.ii=[];this.Qj=
[];this.eE=!1;this.Nr=this.cA=this.Xy=this.nA=this.Gy=null;this.bs=18;this.Yp="18px "+x.kF;this.Dm="18px "+x.SD;this.devicePixelRatio=window.devicePixelRatio?window.devicePixelRatio:1;this.gm=!0;this.yx=this.Wh=this.Rl=this.Pl=this.Sl=this.Ql=this.Xk=!1;this.$f=[];for(m=0;10>m;m+=1)this.$f[m]=null;this.Ld=!1;this.Jf=this.Kf=this.Pg=0;this.Yg=x.yq;this.Qh=this.tr=!1;this.Db=null;this.od=!1;this.Rp=new BoundingBox(0,0,0,0);this.Pb=new BoundingBox(0,0,0,0);this.ei=new BoundingBox(0,0,0,0);this.$b=new Random;
this.$b.Ff(Date.now().toString());this.Rj=50;this.FH=this.EH=0;this.Ak=this.ub=!1;this.an=2;this.pg=[];this.Eo=this.zc=0;this.Zn=[];this.ld=0;this.Hd=[];this.vd=0;this.Ba=[];this.Ba[x.Ot]=[1,0,0,1];this.Ba[x.vD]=[-1,0,0,-1];this.Ba[x.wD]=[-1,0,0,1];this.Ba[x.xD]=[1,0,0,-1];this.Ba[x.AD]=[0,1,1,0];this.Ba[x.BD]=[0,-1,-1,0];this.Ba[x.zD]=[0,-1,1,0];this.Ba[x.yD]=[0,1,-1,0];this.Rk=[];this.Mq=[];this.Sj=[];this.Xg=[];this.cd=x.Ws;this.xq=0;this.Us=-1;this.wq=[];this.nB=this.mB=this.Vs=0;this.Gj=!1;this.Jk=
0;this.cw=!1;this.gd=this.dn=this.Zm=this.cn=this.$m=0;this.bw=!1;this.Z=null;this.Ix=0;this.ol=!0;this.dg=0;this.ef=1;this.tn=this.rA=this.Nk=this.ft=!1;this.Vg=7;this.$o=!0;this.wk=this.vk=0;this.um=!1;this.zi=this.XF=this.K=this.Hs=63;this.po=this.Gm=this.ts=this.vs=this.Dl=this.us=this.ss=this.ws=this.rs=this.qo=this.ys=this.xs=this.eB=!1;this.Nb=0;this.Ka=null;this.Lc=this.Kc=0;this.dE=!1;this.ao=this.Zk=this.$k=-1;this.Xw=Date.now().toString();this.$w=this.eC=!1;this.Ek=x.ri;this.Wi=!0;this.sd=
!1;this.uh=!0;this.Dd=x.bF;this.FF=this.Ac=!1;this.element=c;this.nd=!1;this.qp=this.In=this.Jn=this.pp=this.cv=this.$u=this.bv=this.av=0;this.Mf=this.sp=this.Ae=this.op=!1;this.yl=!0;this.zl=!1;this.Sg=0;this.xl=!1;this.kn=this.jn=0;this.vh=!1;this.D="";this.Rb=this.Qb=0;this.Nz=this.Mz=this.Qp=this.Qr=this.ko=this.jo=this.vl=this.SC=this.QC=this.zn=this.yn=this.bp=this.Bn=this.An=this.jh=-1;this.iw=this.vv=!1;this.Ft=this.Dh=-1;this.wr=this.Xn=!1;this.Yu=-1;this.fp=this.Wl=null;this.CH=0;this.Gt=
"";this.gp=this.al=0;this.EO=32768;this.Wu=!1;this.fz=this.hz=0;this.ez=!0;this.Ku=this.Ec=this.qk=!1;this.On=0;this.xJ=.01;this.Yi=this.Mi=!1;this.ql=this.Yh=null;this.yj=x.yj;this.lm=[96,96,96];this.mm=[128,128,128];this.pm=[0,255,0];this.om=[255,0,0];this.km=[255,255,0];this.Fx=null;this.ej="";this.Oj=!0;this.Xi=this.Ha=this.ce=!1;this.Ul=null;this.Nd=!1;this.ea=1;this.Mk=0;this.Kd=this.sA=!1;this.X=new WaypointManager;this.Es="";this.IA=-1;this.tg=this.Wc=!1;this.tb=1;this.Ev=this.iB=this.Fo=
0;this.Ik=x.eM;this.Ti=this.bg=this.yh=this.sf=this.ng=-1;this.Zs=this.Aq="";this.$s=this.fn=this.qb=this.kb=0;this.Cq=null;this.en=this.rd=this.Kb=this.Nj="";this.ev=this.Zh=!1;this.sa=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1];this.WE=this.VE=-1;this.oz=x.LF;this.nz=x.Iu;this.pz=x.bH;this.yr="";this.HJ=0;this.Og=[];this.Eu=!1;this.kc=null;this.$n=[];this.Ed=[];this.pc=1;this.ha=0;this.yt=!1;this.sq=100;this.qd=10;this.ba=[64,200,290,530,700];this.eh=
!1;this.ma=[];this.Qv=[];this.Rv=[];this.jc=-1;this.xf=!1;this.jb=-1;this.Ov=this.Ng=this.Af=this.Bd=this.Gl=this.zw=this.Zc=this.Ai=this.Li=this.Va=this.Xe=this.Xc=!1;this.WC=this.Ez=this.LC=this.MC=this.NB=-1;this.g=null;this.elapsedTime=0;this.lK=512;this.jK=256;this.J=640;this.H=512;this.Ym=640;this.Xm=512;this.Kw=!1;this.mk=640;this.Dq=!0;this.Ch=this.KC=this.Si=this.cb=this.Eq=!1;this.sn=this.Fn=this.aj=this.Uc=this.Jp=this.Qo=this.ek=this.Vl=null;this.G=[];this.B=this.Od=this.$q=this.Wq=this.at=
this.hi=this.ab=this.Td=this.pf=this.vg=this.Hf=this.Gf=this.xg=this.zg=this.Fe=this.Ee=this.wg=this.Wd=this.ne=this.Mo=this.Qk=this.Dc=this.T=this.Lo=this.pd=this.Eb=this.yg=this.qm=this.ad=this.uk=this.tk=this.hn=this.jd=this.on=this.gk=this.io=this.Id=this.qg=this.lo=this.Jt=this.Up=this.Ms=this.lt=this.Xq=this.aq=this.Hk=this.Mr=this.Ys=this.Sd=this.qj=this.oi=this.ti=this.jl=this.ll=this.pi=this.bq=this.Mh=this.Lq=this.nk=this.gl=this.hl=this.il=this.ps=this.cq=this.vi=this.fj=this.zm=this.Ep=
this.Fj=this.Jq=this.Nn=this.Cp=this.Dp=this.Ls=this.kt=this.to=this.Km=this.da=this.Eg=this.wm=this.wn=this.tl=this.Rd=this.Pn=this.hm=this.Ud=this.Vd=this.Ag=this.xr=this.El=this.Ji=this.pj=this.na=this.Ce=this.hd=this.Ge=this.He=this.ff=this.Ie=this.bf=this.Je=this.Nh=this.dh=this.Fh=this.Ph=this.Dk=this.Dn=this.Nm=this.Gh=this.Qn=this.Fb=this.dc=this.Lb=this.zb=this.Jh=this.Lh=this.Kh=this.xi=this.lk=this.gb=this.hf=this.uc=this.nf=this.ec=this.lf=this.lq=this.uq=this.Jl=this.nt=this.Oq=this.jf=
this.ue=this.md=this.Cc=this.We=this.Xd=this.Oh=this.Jm=this.Om=this.Im=this.Lm=null;this.Oi=this.vo=-1;this.wheelDelta=0;this.Jc=this.Rc=this.nn=null;this.lc=60;this.o=this.j=null;this.xj=this.df=this.Pp=this.Np=0;this.sv=this.eF=1;this.aF=60;this.Op=this.cF=1;this.zz=.1;this.gD=-1;this.Wj=this.tf=this.yC=0;this.Tq=1;this.Yl=this.wb=this.Bz=this.Az=this.Cz=!1;this.Ve=x.dF;this.Vm=this.gn=this.jD=this.Wm=0;this.Ex=this.ck=!1;this.Wo=this.nD=0;this.se=this.ah=!1;this.bt=-1}function g(c,m,e,t,A){var C,
D=m.parentNode,E=null;for(C=0;C<B.Qd.length&&!E;)B.Qd[C][0].tabIndex===m.tabIndex?E=B.Qd[C][1]:C+=1;E||(E=new h(A),E.Nd=t,z.Fs&&!t&&(E.Ik=e&-8,E.Ik<x.Sc&&(E.Ik=x.Sc)),m.tabIndex=B.Qd.length+1,E.Uo(m),"none"===D.style.display&&(B.Lw=new PopupWindow(D,E)),B.Qd[B.Qd.length]=[m,E,B.Lw]);t||E.ki(c,!1)}function q(c){c=c.parentNode;for(var m=!1;!m;)"div"!==c.localName||c.className!==z.wv&&c.className!==z.xv||(m=!0),m||(c=c.parentNode);return c}function k(){var c=B.vx(),m=c[1],e=c[2];c[0].parentNode.style.display=
"none";e.eo=!1;m.cb&&(m.Eb.current=m.Gd(x.Qe,!0,m))}function a(c){k();c.stopPropagation&&c.stopPropagation();c.preventDefault();return!1}function b(c){c=c.innerHTML.replace(/&lt;/gi,"<").replace(/&gt;/gi,">").replace(/<br *\/>/gi,"\n").replace(/<br>/gi,"\n").replace(/&nbsp;/gi," ").replace(/<span class="posthilit">/gi,"").replace(/<\/span>/gi,"").trim();c=c.replace(/\n[ ]+/g,"\n");c=c.replace(/\n\t+/g,"\n");""===c&&(c="!");return c}function d(c){var m=q(c).getElementsByTagName(z.Bq)[0];c=B.Qd[0];
m.value&&(m.innerHTML=m.value);m=b(m);c[1].$D(c[1]);c[1].j.notification.clear(!0,!0);c[1].j.notification.clear(!1,!0);c[1].ki(m,!1)}function f(c){var m=28,e=18,t=B.vx()[2];c.Nr.style.transform="scale("+c.Of+","+c.Of+")";c.Nr.style.transformOrigin="top left";c.resize();t.eo=!0;t.tH(t);1!==c.o.Ih&&(m=m*c.o.Ih|0,e=e*c.o.Ih|0,c.Gy.style.height=m+"px",c.Gy.style.fontSize=e+"px",c.cA.style.height=m+"px",c.cA.style.fontSize=e+"px",c.Xy.style.height=m+"px",c.Xy.style.fontSize=e+"px",c.nA.style.height=m+"px",
c.nA.style.lineHeight=m+"px");c.Jc.canvas.focus();c.Jc.canvas.blur();return c.yw=!1}function l(c){var m=q(c);m=m.getElementsByTagName(z.Bq)[0];c=b(m);var e=B.vx(),t;if(e)(t=e[2])&&t.reset(),t=e[1],t.element=m,t.$D(t);else{e=document.createElement("canvas");e.width=x.Sc;e.height=x.Pm+80;e.style.display="block";e.contentEditable="false";var A=document.createElement("a");A.setAttribute("href","#");A.innerHTML="&nbsp;X&nbsp;";A.style.textDecoration="none";A.style.fontFamily="Lucida Grande,Verdana,Helvetica,Arial,sans-serif";
A.style.color="#FFFFFF";A.style.backgroundColor="#C75050";A.style.cssFloat="right";A.style.height="28px";A.style.fontSize="18px";var C=document.createElement("a");C.innerHTML="&nbsp;X&nbsp;";C.style.textDecoration="none";C.style.fontFamily="Lucida Grande,Verdana,Helvetica,Arial,sans-serif";C.style.visibility="hidden";C.style.cssFloat="left";C.style.height="28px";C.style.fontSize="18px";var D=document.createElement("div");D.style.textAlign="center";D.style.color="rgb(83,100,130)";D.style.fontFamily=
"Arial, Verdana, Helvetica, sans-serif";D.style.fontSize="18px";D.style.height="28px";var E=document.createTextNode(x.Sr);D.style.cursor="default";D.appendChild(E);registerEvent(A,"click",a,!1);registerEvent(A,"touchend",a,!1);var G=document.createElement("div");G.style.display="none";G.style.position="fixed";G.style.border="1px solid rgb(128,128,128)";G.style.zIndex="101";G.style.left="2048px";G.style.top="0px";G.style.textAlign="right";G.style.boxShadow="0px 0px 3px 3px rgba(0,0,0,.3), 12px 12px 8px rgba(0,0,0,.5)";
G.style.margin="1px";var F=document.createElement("div");F.className=z.xv;F.style.backgroundColor="#FFFFFF";F.style.height="28px";F.style.lineHeight="28px";F.style.margin="0px";F.style.border="0px";F.appendChild(C);F.appendChild(A);F.appendChild(D);G.appendChild(F);G.appendChild(e);document.body.appendChild(G);g(c,e,x.Sc,!0,m);B.NC=B.Qd.length-1;e=B.vx();t=e[1];t.Fx=E;t.Gy=A;t.cA=C;t.Xy=D;t.nA=F;t.Nr=G}m=e[0].parentNode;""!==m.style.display&&(m.style.display="");t.J=x.Sc;t.H=x.Pm+80;t.resize();t.j.notification.clear(!0,
!0);t.j.notification.clear(!1,!0);t.yw=!0;t.ki(c,!0);t.yw||f(t)}function n(c,m,e){c=c.getElementsByTagName("a")[0];var t=document.createElement("a"),A=null;t.setAttribute("href","#");t.innerHTML="Show Pattern Error";registerEvent(t,"click",function(C){C.stopPropagation&&C.stopPropagation();C.preventDefault();alert(e)},!1);c?(A=document.createTextNode(" / "),c.parentNode.appendChild(A),c.parentNode.appendChild(t)):m.parentNode.appendChild(t)}function p(c,m){var e=m[0],t=m[1];m=m[2];if(c&&c.Pe&&!c.Jg){if(null!==
t){t=t.getElementsByTagName("a")[0];var A=document.createElement("a");A.setAttribute("href","#");A.innerHTML="Show in Viewer";registerEvent(A,"click",u,!1);t?(m=document.createTextNode(" / "),t.parentNode.appendChild(m),t.parentNode.appendChild(A)):m.parentNode.appendChild(A)}z.Ya&&(B.Re[B.Re.length]=new v(c.name,e,c.I+c.Fp,c.width,c.height))}}function r(c,m){var e=m[1];m=m[2];c&&null!==e&&n(e,m,c.I+" - "+c.wG)}function w(c,m,e,t,A){m=e.create("",c,m,p,r,[c,t,A],!1,null);e.jw||p(m,[c,t,A])}function u(c){l(this);
c.stopPropagation&&c.stopPropagation();c.preventDefault();return!1}function y(){var c=document.getElementsByTagName("div"),m,e;var t=new Allocator;var A=new PatternManager;var C=document.getElementsByTagName("meta");for(m=0;m<C.length;m+=1){var D=C[m];if(D.name===z.tagName&&(z.dA=!1,z.Fs=!1,D=D.content,(e=D.match(/\S+/g))&&2<=e.length&&7>=e.length))for(z.wv=e[0],z.Bq=e[1],D=2;D<e.length;D+=1)switch(e[D]){case z.DL:z.dA=!0;break;case z.$L:z.Fs=!0;break;case z.rM:z.Ya=!0;break;case z.VK:z.fullScreen=
!0;break;default:if("/"===e[D][0])z.mC=e[D];else if("."===e[D][0]||"?"===e[D][0])z.zH=e[D];else{var E=e[D];!isNaN(parseFloat(E))&&isFinite(Number(E))&&(z.Fw=parseFloat(E)|0)}}}AliasManager.Ff();for(C=0;C<c.length;C+=1)(D=c[C],D.className===z.wv)?(m=D.getElementsByTagName(z.Bq)[0],D=D.getElementsByTagName("canvas")[0],(e=m.getElementsByTagName(z.Bq)[0])&&(m=e),typedArrays&&m&&(e=b(m),z.Ya&&w(e,t,A,null,null),D&&D.getContext?(-1<z.Fw&&m.clientHeight>z.Fw&&(m.style.height=z.Fw+"px"),D.contentEditable=
"false",g(e,D,m.offsetWidth,!1,m)):z.dA&&D&&(D.style.display="none"))):typedArrays&&D.className===z.xv&&D.parentNode.className!==z.wv&&(m=D.getElementsByTagName(z.Bq)[0])&&(e=b(m),w(e,t,A,D,m));c=document.getElementsByTagName("a");for(C=0;C<c.length;C+=1)t=c[C],""!==t.accessKey&&-1!==x.nJ.indexOf(t.accessKey)&&(t.accessKey="")}var z={tagName:"LifeViewer",VK:"fullscreen",DL:"hide",rM:"multi",$L:"limit",wv:"rle",Bq:"code",Fw:37,dA:!0,fullScreen:!1,Fs:!1,Ya:!1,xv:"codebox",mC:"",zH:"",Re:[]},x={nJ:"0123456789rtyopasghjklxcbn",
PA:18,OA:10,fG:1048576,Ck:0,Gv:1,iF:2,Kq:64,mG:1,eG:2048,lG:1,dG:2048,tw:1,mw:100,HO:[0,0,0,0,0,1,1,1,1,1,2,2,2,2,2,3,3,3,3,3,3],It:[1,10,11,17,18,2,3,4,5,7,12,13,14,15,16,0,6,8,9,19,20],yq:0,PG:1,QG:2,NG:3,TG:4,SG:5,UG:6,VG:7,OG:8,tG:9,FM:"Top Left;Top;Top Right;Right;Bottom Right;Bottom;Bottom Left;Left;Middle".split(";"),Bv:15,xM:5,rk:1E8,Ot:0,vD:1,wD:2,xD:3,AD:4,BD:5,zD:6,yD:7,MG:0,sB:1,AG:2,JG:3,BG:4,LG:5,EB:6,Ws:7,FG:8,KG:9,HG:10,CG:11,GG:12,DG:13,EG:14,IG:15,Dw:3,cI:[1,3,7,6],vO:[0,1],wO:[0,
1],FL:[0,1,0,1,0,1,0],GL:[0,1,2,3,4,5,6],CO:[0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1],BO:[0,1,2,3,4,5,6,3,4,1,0,1,0,1,2,1,2,1,2,1,2,1,2,1,2,1],he:Math.sqrt(3),VJ:65536,XJ:500,YJ:17,xF:13750737,yF:15066597,Lv:7368816,Mv:5263440,LH:.016,rO:16,sG:16384,bF:.7,Bw:16384,$N:"Script errors",ph:-8,oh:8,nG:2,gG:4,dF:4,fI:16.7,iG:9,aG:14,kK:13,fs:null,hG:1,ZF:16,$E:3,lh:0,wj:1,fv:2,Fi:3,Br:4,Cr:5,Dr:6,pv:7,qv:8,gv:9,mv:10,lv:11,kv:12,nv:13,ov:14,jv:15,Er:16,hv:17,sz:18,Ir:19,Gr:20,Jr:21,Lr:22,Kr:23,
Hr:24,Ar:25,Fr:26,rz:27,vz:28,uz:29,qz:30,AM:0,BM:1,EL:2,SF:3,WF:4,UF:5,KF:6,bb:[0,6,2,5,3,4,1],li:"dead alive history mark1 markOff mark2 kill".split(" "),DP:"OFF ON HISTORY MARK1 MARKOFF MARK2 KILL".split(" "),JM:0,IM:160,XG:10,sP:!1,Cv:1800,Sr:"LifeViewer",AC:"LifeViewer Image",Mx:700,iI:"Chris Rowett",rw:1,kw:10,YA:0,qq:1,Qe:2,Kk:3,Qm:0,Sm:1,Rm:2,Sx:1.25,KL:.99,qw:0,$F:10,bo:10,YF:32,Xa:.03125,Ib:64,uw:0,nw:5,Ks:-32,Is:-1,oq:-2048,mq:-1,pq:1/2048,nq:2048,Qi:1,fi:1,ug:64,YE:.1,kF:"Courier",SD:"Arial",
Bh:"18px Arial",Ah:"14px Arial",tx:"9px Arial",Iu:"rgb(240,255,255)",uJ:"rgb(0,0,0)",bH:"rgb(240,255,255)",cH:"rgb(0,0,0)",uE:2,sw:1,lw:64,tJ:.2,LF:"rgb(240,255,255)",XL:"rgb(0,0,0)",WL:18,jG:4,bG:128,VL:"Arial",Zp:"rgb(32,255,255)",cs:"#000000",yj:"rgb(255,96,96)",Jv:"rgb(128,128,128)",iM:64,hM:64,kG:480,Sc:600,eM:4096,zL:80,Kj:240,ow:4096,Pm:480,fH:560,Zt:172,Tx:292,UC:0,MH:1,NH:2,gM:0,bM:16,ri:0,uA:1,BC:2,aw:3,hD:4,dz:5,Ey:6,QA:7,Hy:8},B={A:new Allocator,Qd:[],NC:-1,Lw:null,Re:[],vx:function(){var c=
null;-1!==this.NC&&(c=this.Qd[this.NC]);return c},cL:function(c){var m=null;0<=c&&c<this.Qd.length&&(m=this.Qd[c][1]);return m},zP:function(){return this.Qd.length},jP:function(){var c=0,m;for(m=0;m<this.Qd.length;m+=1){var e=this.Qd[m][1];e.cb&&(c+=1)}return c},zN:function(){var c,m=0;for(c=0;c<this.Qd.length;c+=1){var e=this.Qd[c][1];e.Eb.current=e.Gd(x.YA,!0,e);e.j.cg(!0);m+=1}return m},zO:function(){var c,m=0;for(c=0;c<this.Qd.length;c+=1){var e=this.Qd[c][1];e.cb&&!e.os&&(e.Eb.current=e.Gd(x.Qe,
!0,e),m+=1)}return m},QH:function(c){var m,e=0;for(m=0;m<this.Qd.length;m+=1){var t=this.Qd[m][1];t!==c&&t.cb&&!t.os&&(t.Eb.current=t.Gd(x.Qe,!0,t),e+=1)}return e}};h.prototype.Zu=function(){var c,m=this.$f,e=this.Pg,t=[];for(c=0;10>c;c+=1){var A=c===e?"current ":"activate ";A+="clipboard";null!==m[c]?(A+=" ("+m[c].width+" x "+m[c].height+", "+m[c].count+" cell",1!==m[c].count&&(A+="s"),A+=")"):A+=" (empty)";t[c]=A+" [Alt "+c+"]"}this.xr.F=t};h.prototype.OF=function(c){window.confirm("Open last saved pattern?")&&
d(c.element)};h.prototype.Nc=function(){var c=1<<x.Bv,m=this.ld>>x.Bv;m===this.Zn.length&&(this.Zn[m]=this.g.A.R(Int16,c,"View.currentEdit"+m));return this.Zn[m]};h.prototype.ed=function(c,m,e){var t=this.g.getState(c,m,!1),A=this.ld,C=x.Bv;var D=A>>C;var E=1<<C,G=E-1,F=this.Zn,H=(this.g.width>>1)-(this.kb>>1),I=(this.g.height>>1)-(this.qb>>1);var L=this.g.i;var K=2<L&&!(this.g.Fa||this.g.L||this.g.fa||this.g.V),N=!1;0<t&&K&&(t=L-t);-1===L&&(L=this.g.ta?7:2);0>e?e=0:e>=L&&(e=L-1);if(e!==t){if(!this.ce){D>=
F.length&&this.Nc();L=F[D];A&=G;K=e<<8|t;if(0<A)if(4<=A){var J=L[A-1];16384<=J?L[A-3]===K&&L[A-2]===m-I&&L[A-4]===c-H-(J-16384)-2&&(L[A-1]+=1,N=!0):L[A-2]===K&&L[A-1]===m-I&&L[A-3]===c-H-1&&(L[A]=16384,A+=1,this.ld+=1,A===E&&this.Nc(),N=!0)}else D=this.ld,J=F[D-1>>C][D-1&G],16384<=J?L[D-3>>C][D-3&G]===K&&L[D-2>>C][D-2&G]===m-I&&L[D-4>>C][D-4&G]===c-H-(J-16384)-2&&(L[D-1>>C][D-1&G]+=1,N=!0):F[D-2>>C][D-2&G]===K&&F[D-1>>C][D-1&G]===m-I&&F[D-3>>C][D-3&G]===c-H-1&&(L[A]=16384,A+=1,this.ld+=1,A===E&&(L=
this.Nc()),N=!0);N||(L[A]=c-H,A+=1,this.ld+=1,A===E&&(L=this.Nc(),A=0),L[A]=e<<8|t,A+=1,this.ld+=1,A===E&&(L=this.Nc(),A=0),L[A]=m-I,this.ld+=1,A+1===E&&this.Nc())}this.ng=-1;return this.g.Xj(c,m,e,!0)}return 0};h.prototype.IB=function(c,m){var e=0,t=(this.g.width>>1)-(this.kb>>1),A=(this.g.height>>1)-(this.qb>>1),C=0;if(c)if(m)for(e=c.length;0<e;){var D=c[e-1];16384<=D&&--e;e-=3;m=c[e]+t;var E=c[e+1]&255;var G=c[e+2]+A;C|=this.g.Xj(m,G,E,!0);if(16384<=D)for(D-=16384;0<=D;)m+=1,C|=this.g.Xj(m,G,E,
!0),--D}else for(;e<c.length;)if(m=c[e]+t,E=c[e+1]>>8,G=c[e+2]+A,C|=this.g.Xj(m,G,E,!0),e+=3,D=c[e],16384<=D)for(e+=1,D-=16384;0<=D;)m+=1,C|=this.g.Xj(m,G,E,!0),--D;this.g.ta&&C&&this.g.Lf()};h.prototype.px=function(c){for(var m=this.zc-1,e=this.Pb,t=!1;0<=m&&!t;)this.pg[m].$h<=c?("advance outside"===this.pg[m].action&&--m,t=!0):--m;t&&(this.zc=m+1,c=this.zc>=this.Eo?this.pg[this.zc-1]:this.pg[this.zc],c.selection?(e.l=c.selection.l,e.s=c.selection.s,e.u=c.selection.u,e.v=c.selection.v,this.ub=!0):
this.ub=!1,this.Qh=!1,this.yi())};h.prototype.yi=function(){var c=this.zc,m=this.Eo,e=this.pg;if(1<c){var t="undo ";var A=e[c-1];if(null===A.ho){var C=A.$h;1<c&&(C=e[c-2].$h);this.g.counter===C?t+=A.action:(t=1<this.g.counter-C?t+"play":t+"step",t+=" from "+C)}else t=""===A.action?t+"edit":t+A.action;"undo "===t&&(t="undo");this.ek.F=t+" [Ctrl Z]"}c<m&&(t="redo ",A=e[c],null===A.ho?(C=A.$h,C===this.g.counter?t+=A.action:(t=1<C-this.g.counter?t+"play":t+"step",t+=" to "+C)):t=""===A.action?t+"edit":
t+A.action,"redo "===t&&(t="redo"),this.Qo.F=t+" [Ctrl Y]")};h.prototype.ir=function(c){var m=this.ub?this.Pb:null;return null===c&&null===m?!0:null===c&&null!==m||null!==c&&null===m?!1:c.l===m.l&&c.s===m.s&&c.u===m.u&&c.v===m.v?!0:!1};h.prototype.vm=function(c,m,e,t){var A=!1;if(0<this.zc){var C=this.pg[this.zc-1];C.$h===c&&null===m&&""===e&&this.ir(C.selection)&&(A=!0)}A||(this.pg[this.zc]={$h:c,ho:m,action:e,selection:t},this.zc+=1)};h.prototype.nb=function(c){var m=this.g.counter,e=null,t=null,
A=this.Pb,C=null,D=x.Bv,E=1<<D,G=E-1;D=this.ld>>D;if(!this.ce){this.cb&&(0<this.zc&&(C=this.pg[this.zc-1]),C&&C.selection&&(t=new BoundingBox(C.selection.l,C.selection.s,C.selection.u,C.selection.v)),this.vm(m,e,"",t),t=null);this.ub&&(t=new BoundingBox(A.l,A.s,A.u,A.v));if(0<this.ld){e=this.g.A.R(Int16,this.ld,"View.editCells"+this.zc);for(C=A=0;A<D;)e.set(this.Zn[A].slice(),C),A+=1,C+=E;this.ld&G&&e.set(this.Zn[A].slice(0,this.ld&G),C);this.ld=0}this.vm(m,e,c,t);this.Eo=this.zc;this.yi()}};h.prototype.MD=
function(c){var m=c.g.counter,e=c.zc,t=c.Pb,A=1,C=!1;if(!c.ce){this.cb&&(c.Eb.current=c.Gd(x.Qe,!0,c),e=c.zc);if(0<e)for(;0<A;){var D=c.pg[e-1];var E=D.$h;var G=D.selection;C||"advance outside"!==D.action||(C=!0,A=3);null===D.ho&&1<e&&(E=c.pg[e-2].$h);1<e&&(G=c.pg[e-2].selection);E<m?(0===E?c.reset(c):c.st(E),m=c.g.counter):c.IB(D.ho,!0);G?(t.l=G.l,t.s=G.s,t.u=G.u,t.v=G.v,c.ub=!0):c.ub=!1;c.Qh=!1;"reverse playback"===D.action&&(c.g.ud=!0);--e;c.zc=e;--A}else 0<m&&c.reset(c);this.yi();this.g.mh();
this.g.ta&&this.g.Lf()}};h.prototype.kC=function(c){var m=c.g.counter,e=c.Pb,t=1,A=!1;if(!c.ce){for(;0<t&&c.zc<c.Eo;){var C=c.pg[c.zc];A||"advance outside"!==C.action||(A=!0,t=3);C.$h===m&&null===C.ho&&""===C.action&&(c.zc+=1);C.$h>m?(c.TN(C.$h),m=c.g.counter):c.IB(C.ho,!1);C.selection?(e.l=C.selection.l,e.s=C.selection.s,e.u=C.selection.u,e.v=C.selection.v,c.ub=!0):c.ub=!1;c.Qh=!1;"reverse playback"===C.action&&(c.g.ud=!0);c.zc+=1;--t}this.yi();this.g.mh();this.g.ta&&this.g.Lf()}};h.prototype.Cm=
function(c,m,e,t){var A=[],C,D=this.g.i,E=this.Ba[t];t=E[0];var G=E[1],F=E[2];E=E[3];var H=new Pattern("rleToCellList",this.C),I=2<D&&!(this.g.Fa||this.g.L||this.g.fa||this.g.V);c+=" ";if(-1!==this.C.Mp(H,c,!1,this.g.A)){if(-1!==this.C.Mp(H,c,!0,this.g.A))for(C=0;C<H.height;C+=1){var L=H.rh[C];for(c=0;c<H.width;c+=1){var K=L[c];I&&0<K&&(K=D-K);A[A.length]=m+c*t+C*G;A[A.length]=e+c*F+C*E;A[A.length]=K}}}else A[0]="error";return A};h.prototype.iu=function(c){var m=0,e=c.indexOf("["),t=c.indexOf("]");
if(-1!==e&&-1!==t&&e<t&&t===c.length-1){for(e+=1;e<t&&0<=m;){var A=c.charCodeAt(e)-48;0>A||9<A?m=-1:(m=10*m+A,e+=1)}0<m&&(this.cw=!0)}return m};h.prototype.KJ=function(c){var m=0>this.$m?-this.$m:this.$m,e=0>this.cn?-this.cn:this.cn;m=2*(m<e?e:m);c<m&&(c=m);return c};h.prototype.JJ=function(c){var m=0>this.Zm?-this.Zm:this.Zm,e=0>this.dn?-this.dn:this.dn;m=2*(m<e?e:m);c<m&&(c=m);return c};h.prototype.gJ=function(c,m){var e,t=!1;for(e=0;!t&&e<this.Rk.length;)c===this.Rk[e].name?t=!0:e+=1;if(t)for(c=
this.Rk[e].nK,e=0;e<c.length;e+=1)m[m.length]=c[e];return t};h.prototype.cJ=function(c,m,e){var t,A=!1;if(ScriptParser.so(m))c[c.length]=[Keywords.Nq+" "+m,"name is reserved word"];else{for(t=0;!A&&t<this.Rk.length;)m===this.Rk[t].name?A=!0:t+=1;if(A)c[c.length]=[Keywords.Nq+" "+m,"name already defined"];else{A=!1;for(t=0;!A&&t<e.length;)1>e[t]?A=!0:t+=1;A?c[c.length]=[Keywords.Nq+" "+m+" "+e[t],"invalid delta"]:(c=e.slice(),this.Rk[this.Rk.length]={name:m,nK:c})}}};h.prototype.bJ=function(c,m,e,
t,A,C){var D,E=!1;if(ScriptParser.so(m))c[c.length]=[Keywords.To+" "+m,"name is reserved word"];else if(-1!==m.indexOf("["))c[c.length]=[Keywords.To+" "+m,"name can not contain ["];else{for(D=0;!E&&D<this.Sj.length;)m===this.Sj[D].name?E=!0:D+=1;E?c[c.length]=[Keywords.To+" "+m,"name already defined"]:(e=this.Cm(e,t,A,C),"error"!==e[0]?this.Sj[this.Sj.length]={name:m,cells:e}:c[c.length]=[Keywords.To+" "+m,"invalid RLE"])}};h.prototype.fJ=function(c,m,e,t,A,C,D,E,G,F,H){var I=0,L=!1,K=[],N=this.Ba[H],
J=N[0],S=N[1],U=N[2],V=N[3];N=x.rk;var P=-x.rk,sa=x.rk,X=-x.rk,ja=E.indexOf("["),na=E,ha=0,Y=[];-1!==ja&&(na=E.substr(0,ja),ha=this.iu(E));for(;I<this.Sj.length&&!L;)this.Sj[I].name===na?(L=!0,K=this.Sj[I].cells.slice()):I+=1;if(L)for(I=0;I<K.length;)E=K[I],H=K[I+1],K[I]=G+E*J+H*S,K[I+1]=F+E*U+H*V,I+=3;else K=this.Cm(E,G,F,H),"error"!==K[0]&&(L=!0);-1===ha&&(L=!1);if(L&&0<K.length){for(I=0;I<K.length;)G=K[I],F=K[I+1],G<N&&(N=G),G>P&&(P=G),F<sa&&(sa=F),F>X&&(X=F),I+=3;G<this.$m&&(this.$m=G);G>this.cn&&
(this.cn=G);F<this.Zm&&(this.Zm=F);F>this.dn&&(this.dn=F);J=Array.ka(Uint8,X-sa+1,P-N+1,0,this.g.A,"View.rle"+this.Xg.length);for(I=0;I<K.length;)G=K[I],F=K[I+1],J[F-sa][G-N]=K[I+2],I+=3;Y[0]=c;for(I=0;I<e.length;I+=1)Y[Y.length]=Y[Y.length-1]+e[I];this.Xg[this.Xg.length]={Ii:Y,end:m,every:t,mode:A,cells:K,map:J,l:N,s:sa,width:P-N+1,height:X-sa+1,JK:ha,deltaX:C,deltaY:D};0<t&&(this.Gj=!0);Y[Y.length-1]>this.Jk&&(this.Jk=Y[Y.length-1])}return L};h.prototype.XM=function(){var c,m,e=this.g.width,t,A=
this.g.M;for(c=0;c<this.Xg.length;c+=1){var C=this.Xg[c];var D=C.JK;if(0<D){var E=C.cells;var G=(e>>1)-(C.width>>1);var F=(e>>1)-(C.height>>1);var H=0;A.l=G;A.u=G+C.width-1;A.s=F;A.v=F+C.height-1;for(this.g.counter=0;H<E.length;)this.g.Xj(G+E[H]-C.l,F+E[H+1]-C.s,E[H+2],!0),H+=3;for(;0<D;)this.g.we(!1,!0,!0,this.Hb,this),this.g.re(),--D;E=[];H=0;var I=t=x.rk;for(m=A.s;m<=A.v;m+=1)for(D=A.l;D<=A.u;D+=1){var L=this.g.getState(D,m,!1);0!==L&&(E[H]=D-G+C.l,E[H+1]=m-F+C.s,E[H+2]=L,E[H]<t&&(t=E[H]),E[H+
1]<I&&(I=E[H+1]),H+=3)}C.cells=E.slice();C.width=A.u-A.l+1;C.height=A.v-A.s+1;C.s=I;C.l=t;C.map=Array.ka(Uint8,C.height,C.width,0,this.g.A,"View.rle"+c);for(H=0;H<E.length;)D=E[H],m=E[H+1],C.map[m-C.s][D-C.l]=E[H+2],H+=3;this.g.ur(!1)}}this.cw&&this.g.ur(!1)};h.prototype.ym=function(c){var m=!1,e=this.g.counter;var t=!1;if(this.g.la||this.g.L)e=this.g.af;0!==c.every&&(this.g.la||this.g.L)&&null!==this.g.Yc&&e<this.g.Ij&&(m=!1,t=!0);if(!t)if(0!==c.every&&e>=c.Ii[0]&&0===(e-c.Ii[0])%c.every)-1!==c.end&&
e>c.end||(m=!0);else for(t=0;t<c.Ii.length&&!m;)e===c.Ii[t]?m=!0:t+=1;return m};h.prototype.oJ=function(){for(var c=!1,m=0,e=this.Xg.length;m<e&&!c;)c=this.ym(this.Xg[m]),m+=1;return c};h.prototype.gi=function(){var c,m=this.g.counter;var e=0;var t=this.g.width,A=this.g.height,C=this.g.i-1;-2==C&&(C=this.g.ta?6:1);for(c=0;c<this.Xg.length;c+=1){var D=this.Xg[c];if(this.ym(D)){var E=D.mode;var G=(t>>1)-(this.kb>>1);var F=(A>>1)-(this.qb>>1);var H=D.map;if(0!==D.every&&(0!==D.deltaX||0!==D.deltaY)){var I=
(m-D.Ii[0])/D.every;G+=D.deltaX*I;F+=D.deltaY*I}G+=D.l;F+=D.s;for(D=0;D<H.length;D+=1){var L=H[D];if(this.g.L||this.g.fa)for(I=0;I<L.length;I+=1){var K=L[I];var N=this.g.getState(G+I,F+D,!1);switch(E){case x.MG:e=0;break;case x.sB:e=K&N;break;case x.AG:e=K&C-N;break;case x.JG:e=K;break;case x.BG:e=C-K&N;break;case x.LG:e=N;break;case x.EB:e=K^N;break;case x.Ws:e=K|N;break;case x.FG:e=C-(K|N);break;case x.KG:e=C-(K^N);break;case x.HG:e=C-N;break;case x.CG:e=K|C-N;break;case x.GG:e=C-K;break;case x.DG:e=
C-K|N;break;case x.EG:e=C-(K&N);break;case x.IG:e=1}0>e?e=0:e>=C&&(e=C-1);this.g.Xj(G+I,F+D,e,!0)}else if(this.g.ta||this.g.V)for(I=0;I<L.length;I+=1)K=L[I],E===x.Dw?e=K:(e=K&1,N=this.g.getState(G+I,F+D,!1),N&=1,e=0===(E&8>>(e+e|N))?0:1),this.g.Xj(G+I,F+D,e,!0);else for(I=0;I<L.length;I+=1)K=L[I],e=0===K?0:1,N=this.g.getState(G+I,F+D,!1),N=0===N?0:1,e=0===(E&8>>(e+e|N))?0:1,this.g.Xj(G+I,F+D,e,!0)}}}if(this.Gj||m<=this.Jk)this.g.Y=1;this.zG()};h.prototype.zG=function(){var c,m=this.g.counter;for(c=
0;c<this.zc;c+=1)this.pg[c].$h===m&&this.IB(this.pg[c].ho,!1);this.g.mh()};h.prototype.Fm=function(c){this.po=this.Gm=this.ts=this.vs=this.Dl=this.us=this.ss=this.ws=this.rs=this.qo=this.ys=this.xs=c};h.prototype.EJ=function(){this.Fm(!1)};h.prototype.fO=function(){this.Fm(!0)};h.prototype.GE=function(){this.Qv=[];this.Rv=[]};h.prototype.AJ=function(c){var m=c.Rc.toDataURL("image/png"),e;(e=document.getElementById("screenshot"))?e.src=m:(e=window.open("",x.AC))?(e.width=c.J+20,e.height=c.H+20,e.document.open(),
e.document.write('<!DOCTYPE html>\n<html>\n\t<head>\n\t\t<meta charset="UTF-8">\n\t\t<title>'+x.AC+'</title>\n\t</head>\n\t<body>\n\t\t<img width="'+c.J+'" height="'+c.H+'" src="'+m+'" alt="'+x.AC+'"/>\n\t</body>\n</html>\n'),e.document.close(),c.j.notification.notify("Image Captured",15,300,15,!0)):c.j.notification.notify("Could not open Image window!",15,x.Cv,15,!0)};h.prototype.TJ=function(c){var m=this.g.hb,e=this.g.S,t=this.g.Ja,A=this.g.hc,C=c.width,D=c.height,E=this.Kc,G=this.Lc,F=this.g.Ab,
H=this.g.Ab>>4,I=this.g.Cb,L=null,K=C,N=D;var J=Math.round(-this.g.Aa/2);var S=Math.floor((this.g.Aa-1)/2);var U=Math.round(-this.g.wa/2);var V=Math.floor((this.g.wa-1)/2);var P=E-(this.g.width>>1);var sa=P+C-1;var X=G-(this.g.height>>1),ja=X+D-1;D=this.g.i;var na=!0;C=2===D&&this.g.pa;-1!==this.g.xa&&(0!==this.g.Aa&&(P<J||sa>S)&&(na=!1),0!==this.g.wa&&(X<U||ja>V)&&(na=!1),na||(this.dE=!0,0!==this.g.Aa?(E=Math.round(this.g.width/2)+J,K>S-J+1&&(K=S-J+1)):E=Math.round(this.g.width/2),0!==this.g.wa?
(G=Math.round(this.g.height/2)+U,N>V-U+1&&(N=V-U+1)):G=Math.round(this.g.height/2)));c.P&&(0!==(E&1)&&(E+=1),0!==(G&1)&&(G+=1));c.la&&(0===(E&1)&&--E,0===(G&1)&&--G);for(S=0;S<N;S+=1){P=c.Pe[S];sa=m[S+G&I];if(this.Bd||this.g.L||this.g.fa||this.g.V)for(U=c.rh[S],L=e[S+G&I],J=0;J<K;J+=1)V=U[J],0<V&&(V+=this.K),L[J+E&F]=V;else if(2<D)for(U=c.rh[S],L=e[S+G&I],J=0;J<K;J+=1)V=U[J],0<V&&!this.g.Fa&&(V=D+this.K-V),L[J+E&F]=V;C&&(L=e[S+G&I]);for(J=0;J<K;J+=1)0!==(P[J>>4]&1<<(~J&15))&&(sa[J+E>>4&H]|=1<<(~(J+
E)&15),C&&(L[J+E&F]=LifeConstants.Pa))}if(A)for(S=0;S<N;S+=1)for(U=c.rh[S],m=A[S+G&I],J=0;J<K;J+=1)(V=U[J])&&(m[J+E&F]=x.bb[V]+128);(this.g.L||this.g.fa||this.g.V)&&t.Wa.set(e.Wa)};h.prototype.Fv=function(){var c=!1;-1!==this.g.xa&&0!==this.g.Aa&&0!==this.g.wa&&(c=!0);return c};h.prototype.lu=function(){var c=!1;-1===this.g.xa||0!==this.g.Aa&&0!==this.g.wa||(c=!0);return c};h.prototype.Nx=function(c,m,e){c=c[0];m&&(e.Dd=c);return[c,100*c]};h.prototype.ZD=function(c,m,e){m&&(e.Yg=c[0]);return[e.Yg,
x.FM[e.Yg+.5|0]]};h.prototype.gK=function(c){c.Va||(c.Yg=(c.Yg+.5|0)+1,c.Yg>=x.tG&&(c.Yg=0),c.Mo.current=c.ZD([c.Yg,c.Yg],!0,c))};h.prototype.vI=function(c,m,e){m&&(e.Rj=c[0],e.Rj<x.tw&&(e.Rj=x.tw),e.Rj>x.mw&&(e.Rj=x.mw));return[e.Rj,e.Rj]};h.prototype.ul=function(c,m,e){m&&(e.dg=(e.g.i-e.Vg)*c[0]|0);c[1]="";0<e.dg&&(c[1]="<");c[1]+=e.dg+"-"+(e.dg+e.Vg-1);e.dg+e.Vg<e.g.i&&(c[1]+=">");return c};h.prototype.fl=function(c,m,e){var t=c[0],A=0;m?(e.tg=!0,e.g.zoom=x.Xa*Math.pow(x.Ib/x.Xa,c[0])/e.g.Bc):
(t=Math.log(e.g.zoom*e.g.Bc/x.Xa)/Math.log(x.Ib/x.Xa),0>t?t=0:1<t&&(t=1));this.Ae&&!this.Mf?A=e.g.zoom*e.g.Bc:A=e.g.zoom;A<x.Xa?A=x.Xa:A>x.Ib&&(A=x.Ib);1>A&&(A=-1/A);return[t,A]};h.prototype.vJ=function(c){var m=c/6E4|0;c=c%6E4/1E3;var e="";0<m&&(e=m+":",10>c&&(e+="0"));return e+=c.toFixed(2)};h.prototype.Rg=function(c,m,e){var t=this.g.zoom,A=this.g.Ca,C=this.g.va,D=6,E=this.ei,G=this.Pb;var F=(this.g.width>>1)-(this.kb>>1)+(this.Qb<<1);var H=(this.g.height>>1)-(this.qb>>1)+(this.Rb<<1);e===x.Gv&&
(E.l=G.l+F,E.u=G.u+F,E.l>E.u&&(F=E.u,E.u=E.l,E.l=F),E.s=G.s+H,E.v=G.v+H,E.s>E.v&&(F=E.v,E.v=E.s,E.s=F));this.wb?(e=this.g.Rg(e,E,this.J*this.Ve,this.H*this.Ve,x.Xa,x.Ib,x.Sx,this.kb,this.qb,this.Va&&this.Bd,this.Mi,this.Yi,this.Ec),e[0]/=this.Ve):(G=x.zL,this.Zc&&(G=0),e=this.g.Rg(e,E,this.J,this.H-G,x.Xa,x.Ib,x.Sx,this.kb,this.qb,this.Va&&this.Bd,this.Mi,this.Yi,this.Ec));this.Ec&&!c?(24<this.g.zoom&&(D=3),1<this.tb&&(D=1),this.g.zoom=(this.g.zoom*(D-1)+e[0])/D,this.g.Ca=(this.g.Ca*(D-1)+e[1])/D,
this.g.va=(this.g.va*(D-1)+e[2])/D,c=this.g.zoom>t?this.g.zoom/t-1:t/this.g.zoom-1,A=this.g.Ca>A?this.g.Ca-A:A-this.g.Ca,C=this.g.va>C?this.g.va-C:C-this.g.va,this.On=c,A>this.On&&(this.On=A),C>this.On&&(this.On=C),.01>=this.On&&(this.g.zoom=e[0],this.g.Ca=e[1],this.g.va=e[2])):(this.An=this.g.width/2-this.g.Ca,this.Bn=this.g.height/2-this.g.va,this.bp=this.g.zoom,this.yn=this.g.angle,this.zn=this.g.Na,this.vl=this.g.width/2-e[1],this.jo=this.g.height/2-e[2],this.ko=e[0],this.Qr=this.yn,this.Qp=this.zn,
this.Ft=WaypointConstants.Fq,m?this.Dh=0:(this.Dh=WaypointConstants.Fq,this.ND()));this.Cc&&(this.Cc.current=this.fl([this.g.zoom,this.g.zoom],!1,this));this.Xd&&(this.Xd.current=this.St([this.g.angle,this.g.angle],!1,this));this.We&&(this.We.current=this.Vt([this.g.Na,this.g.Na],!1,this))};h.prototype.LJ=function(c,m){-1!==this.g.xa&&this.vh?(this.Kc=(this.g.width>>1)+this.Qb,this.Lc=(this.g.height>>1)+this.Rb):(this.Kc=Math.round((this.g.width-c)/2)+this.Qb,this.Lc=Math.round((this.g.height-m)/
2)+this.Rb);!this.Va&&this.g.ta||!this.C.wl||-1===this.g.i||(this.Va=this.Bd=!0)};h.prototype.xt=function(c){var m=c;0>c&&(c=-c);var e=c+String();1E9<=c?e="1B+":1E8<=c?e=(c/1E6|0)+"M":1E7<=c?e=(Math.floor(Number(c/1E5))/10).toFixed(1)+"M":1E6<=c?e=(Math.floor(Number(c/1E4))/100).toFixed(2)+"M":1E5<=c&&(e=(c/1E3|0)+"K");0>m&&(e="-"+e);return e};h.prototype.jr=function(c,m){var e=this.j.Lj,t=this.j.Mj;m=c+m;var A=-this.g.angle,C=Math.sin(A/180*Math.PI);A=Math.cos(A/180*Math.PI);0>m?m=0:1<m&&(m=1);c=
x.Xa*Math.pow(x.Ib/x.Xa,c);m=x.Xa*Math.pow(x.Ib/x.Xa,m);m<x.Xa?m=x.Xa:m>x.Ib&&(m=x.Ib);e-=this.J/2;t-=this.H/2;e=(e-m/c*e)/m;c=(t-m/c*t)/m;this.g.Ca-=e*A+c*-C;this.g.va-=e*C+c*A;m=Math.log(m/x.Xa)/Math.log(x.Ib/x.Xa);this.Cc.current=this.fl([m,m],!0,this)};h.prototype.Ru=function(c,m){var e=x.ug;c.g.pa&&(e=4*c.g.za.fh+1,-1!==c.g.xa&&(e+=2*c.g.za.fh),c.g.za.type===this.C.Nf&&(e=-1!==c.g.xa?e+c.g.wa/2:e+2*c.g.za.fh),e<x.ug&&(e=x.ug));c.g.CJ(c,m,e)};h.prototype.FE=function(c){var m=!1,e=c.Pb,t=c.ei,
A=(c.g.width>>1)-(c.kb>>1)+(c.Qb<<1),C=(c.g.height>>1)-(c.qb>>1)+(c.Rb<<1);t.l=e.l+A;t.s=e.s+C;t.u=e.u+A;t.v=e.v+C;c.Ru(c,t);A=(c.g.width>>1)-(c.kb>>1);C=(c.g.height>>1)-(c.qb>>1);0>e.l+A&&(e.l=-A,m=!0);e.l+A>=c.g.width&&(e.l=c.g.width-1-A,m=!0);0>e.u+A&&(e.u=-A,m=!0);e.u+A>=c.g.width&&(e.u=c.g.width-1-A,m=!0);0>e.s+C&&(e.s=-C,m=!0);e.s+C>=c.g.height&&(e.s=c.g.height-1-C,m=!0);0>e.v+C&&(e.v=-C,m=!0);e.v+C>=c.g.height&&(e.v=c.g.height-1-C,m=!0);return m};h.prototype.VO=function(c){c.yg.current=c.g.counter/
c.Gg*100;c.yg.m=!1;c.jf.oe=0};h.prototype.TO=function(c){c.yg.current=c.al/c.gp*100;c.yg.m=!1;c.jf.oe=0};h.prototype.UO=function(c,m){c.yg.current=c.g.counter/m*100;c.yg.m=!1;c.jf.oe=0};h.prototype.SO=function(c){var m=!1,e=!1,t=0;c.Xc||-1===c.jb||(m=!0);!c.Xe&&c.Wc&&(e=!0);if(m||e){var A=!1;if(e&&m)t=c.elapsedTime/c.X.HK(c.jb);else if(e){if(m=c.X.YL().fd)t=c.elapsedTime/m,1<t&&(A=!0)}else 0<c.jb&&(t=c.g.counter/c.jb);1<t&&(t=1);c.yg.current=100*t}else A=!0;(c.yg.m=A)?c.jf.oe=c.o.oe:c.jf.oe=0};h.prototype.BK=
function(){this.Ul.iN(this.g.width/2-this.g.Ke,this.g.height/2-this.g.Le,this.g.oa,this.g.ib,this.g.J,this.g.H,this.g.yd,this.g.Se[0])};h.prototype.lH=function(){var c=this.o.If-this.J/2,m=this.o.Wg-this.H/2,e=this.Lc-this.g.va,t=this.Kc-this.g.Ca-(this.g.U?this.g.va/2:0),A=this.g.zoom;var C=this.g.zoom*(this.g.P?x.he:1);var D=-1;-1!==this.o.If&&(0!==this.g.ib&&(D=Math.sqrt(c*c+m*m),m=180/Math.PI*Math.atan2(m,c),m-=this.g.ib,c=D*Math.cos(Math.PI/180*m),m=D*Math.sin(Math.PI/180*m)),C=m/C-e+this.g.Zb,
c=c/A+(this.g.U?e/2+C/2:0)-t+this.g.cc,this.g.P&&(c-=this.g.zoom/32*.2),t=c-Math.floor(c),e=C-Math.floor(C),c-=t,C-=e,this.g.P&&(0===(c+this.Kc+C+this.Lc&1)?1<t+e&&(c+=1):1>1-t+e&&(c+=1)),D=this.g.getState(c+this.Kc,C+this.Lc,this.Bd&&this.Va));return D};h.prototype.Jx=function(c,m){var e=c-this.J/2,t=m-this.H/2;m=this.Lc-this.g.va;var A=this.Kc-this.g.Ca-(this.g.U?this.g.va/2:0),C=0,D=0,E=0,G=0,F=this.g.zoom,H=this.g.zoom*(this.g.P?x.he:1);-1!==c&&(0!==this.g.ib&&(c=Math.sqrt(e*e+t*t),t=180/Math.PI*
Math.atan2(t,e),t-=this.g.ib,e=c*Math.cos(Math.PI/180*t),t=c*Math.sin(Math.PI/180*t)),C=t/H-m+this.g.Zb,D=e/F+(this.g.U?m/2+C/2:0)-A+this.g.cc,this.g.P&&(D-=this.g.zoom/32*.2),G=D-Math.floor(D),E=C-Math.floor(C),D-=G,C-=E);this.g.P&&(0===(D+this.Kc+C+this.Lc&1)?1<G+E&&(D+=1):1>1-G+E&&(D+=1));this.vk=D+this.Kc;this.wk=C+this.Lc};h.prototype.fu=function(c,m,e,t,A){var C=Math.abs(e-c),D=Math.abs(t-m),E=c<e?1:-1,G=m<t?1:-1,F=C-D,H=this.g.width,I=this.g.height,L;for(L=this.ed(c,m,A);H!==this.g.width||
I!==this.g.height;)H!==this.g.width&&(H<<=1,c+=H>>2,e+=H>>2,this.df+=H>>2,this.tf+=H>>2,this.g.U&&(this.df-=I>>3,this.tf-=I>>3),this.Kc+=H>>2),I!==this.g.height&&(I<<=1,m+=I>>2,t+=I>>2,this.xj+=I>>2,this.Wj+=I>>2,this.Lc+=I>>2);for(;c!==e||m!==t;){var K=F+F;K>-D&&(F-=D,c+=E);K<C&&(F+=C,m+=G);for(L|=this.ed(c,m,A);H!==this.g.width||I!==this.g.height;)H!==this.g.width&&(H<<=1,c+=H>>2,e+=H>>2,this.df+=H>>2,this.tf+=H>>2,this.g.U&&(this.df-=I>>3,this.tf-=I>>3),this.Kc+=H>>2),I!==this.g.height&&(I<<=1,
m+=I>>2,t+=I>>2,this.xj+=I>>2,this.Wj+=I>>2,this.Lc+=I>>2)}return L};h.prototype.iO=function(){var c=170,m=this.gf.$C,e=this.gf.Sk,t=this.ns.Sk;this.hs.setPosition(Menu.qa,0,c-48);this.vi.UI(c-48);this.gf.setPosition(Menu.qa,e,c);this.ns.setPosition(Menu.qa,t,c);c+=m;this.ij.setPosition(Menu.qa,e,c);this.js.setPosition(Menu.qa,t,c);c+=m;"Oscillator"!==this.Ob||this.sg||(this.gj.setPosition(Menu.qa,e,c),this.gs.setPosition(Menu.qa,t,c),c+=m);this.hj.setPosition(Menu.qa,e,c);this.Vv.setPosition(Menu.qa,
t,c);c+=m;"Spaceship"!==this.Ob||this.g.U||this.g.P||(this.jj.setPosition(Menu.qa,e,c),this.Wv.setPosition(Menu.qa,t,c),c+=m);"Still Life"!==this.Ob&&(this.mj.setPosition(Menu.qa,e,c),this.Yv.setPosition(Menu.qa,t,c),c+=m,this.sg||this.g.U||this.g.P||(this.lj.setPosition(Menu.qa,e,c),this.Xv.setPosition(Menu.qa,t,c),c+=m));"Spaceship"===this.Ob&&(this.g.U||this.g.P||(this.hk.setPosition(Menu.qa,e,c),this.$v.setPosition(Menu.qa,t,c),c+=m),this.ik.setPosition(Menu.qa,e,c),this.ls.setPosition(Menu.qa,
t,c),c+=m);"Still Life"===this.Ob||this.g.la||this.g.oc||(this.kj.setPosition(Menu.qa,e,c),this.ks.setPosition(Menu.qa,t,c),c+=m);"Oscillator"!==this.Ob||this.sg||(this.jk.setPosition(Menu.qa,e,c),this.ms.setPosition(Menu.qa,t,c),c+=m,this.kk.setPosition(Menu.qa,e,c),this.jA.setPosition(Menu.qa,t,c))};h.prototype.XO=function(c){var m=0;this.Hd[this.vd]=c;this.vd+=1;this.vd>=x.xM&&(this.vd=0);for(c=0;c<this.Hd.length;c+=1)m+=this.Hd[c];m/=this.Hd.length;this.Vl.Za=String(Math.round(m));this.Vl.m=!1};
h.prototype.az=function(){var c;for(c=0;c<this.Hd.length;c+=1)this.Hd[c]=0;this.vd=0;this.Vl.m=!0};h.prototype.Uz=function(c,m){var e=0,t=0,A=this.Lc-this.g.va,C=this.Kc-this.g.Ca-(this.g.U?this.g.va/2:0),D=this.g.zoom,E=this.g.zoom*(this.g.P?x.he:1);if(0!==this.g.ib){var G=Math.sqrt(e*e+t*t);t=180/Math.PI*Math.atan2(t,e);t-=this.g.ib;e=G*Math.cos(Math.PI/180*t);t=G*Math.sin(Math.PI/180*t)}E=t/E-A+this.g.Zb;e=e/D+(this.g.U?A/2+E/2:0)-C+this.g.cc;this.g.P&&(e-=this.g.zoom/32*.2);C=e-Math.floor(e);
A=E-Math.floor(E);e-=C;E-=A;this.g.P&&(0===(e+this.Kc+E+this.Lc&1)?1<C+A&&(e+=1):1>1-C+A&&(e+=1));return Math.sqrt((e-c)*(e-c)+(E-m)*(E-m))};h.prototype.oO=function(){var c=this.o.If-this.J/2,m=this.o.Wg-this.H/2,e=this.Lc-this.g.va,t=this.Kc-this.g.Ca-(this.g.U?this.g.va/2:0),A=this.g.zoom,C=this.g.zoom*(this.g.P?x.he:1);var D=9999<this.g.ga?99999:9999;var E=this.g.la?-1:0,G=Math.round(-this.g.Aa/2)+E;E=Math.round(-this.g.wa/2)+E;var F=G+this.g.Aa-1,H=E+this.g.wa-1;if(-1===this.o.If)this.gk.Za="",
this.gk.m=!this.Ch;else{if(0!==this.g.ib){var I=Math.sqrt(c*c+m*m);m=180/Math.PI*Math.atan2(m,c);m-=this.g.ib;c=I*Math.cos(Math.PI/180*m);m=I*Math.sin(Math.PI/180*m)}C=m/C-e+this.g.Zb;c=c/A+(this.g.U?e/2+C/2:0)-t+this.g.cc;this.g.P&&(c-=this.g.zoom/32*.2);t=c-Math.floor(c);e=C-Math.floor(C);c-=t;C-=e;this.g.P&&(0===(c+this.Kc+C+this.Lc&1)?1<t+e&&(c+=1):1>1-t+e&&(c+=1));t=this.g.getState(c+this.Kc,C+this.Lc,this.Bd&&this.Va);c+=this.Qb;C+=this.Rb;-1===this.g.xa||this.vh||(c-=Math.floor((-1===this.$k?
this.kb:this.$k)/2),C-=Math.floor((-1===this.Zk?this.qb:this.Zk)/2));e=c<-D||c>D?Number(c/1E3).toFixed(1)+"K":String(c);D=C<-D||C>D?Number(C/1E3).toFixed(1)+"K":String(C);-1!==this.g.xa?(0===this.g.Aa&&(G=-this.g.ga,F=this.g.ga),0===this.g.wa&&(E=-this.g.ga,H=this.g.ga),this.gk.Za=c<G||c>F||C<E||C>H?e+","+D+"=[boundary]":e+","+D+"="+t+" ("+this.Vp(t)+")"):this.gk.Za=e+","+D+"="+t+" ("+this.Vp(t)+")";this.gk.m=!1}this.gk.enabled=this.Ch||!this.cb&&-1!==this.o.If?this.ha||this.pc||0===this.kb?!1:!0:
!1;!this.ub&&!this.Ak||this.ha&&!this.pc?this.on.enabled=!1:(this.on.enabled=!0,c=this.Pb.u>this.Pb.l?this.Pb.u-this.Pb.l+1:this.Pb.l-this.Pb.u+1,C=this.Pb.v>this.Pb.s?this.Pb.v-this.Pb.s+1:this.Pb.s-this.Pb.v+1,this.on.Za=c+" x "+C)};h.prototype.dN=function(c){if(!this.Zc&&!this.wb)if(0<this.ha)0<c?this.nx(this,c/125*3):this.mx(this,-c/125*3);else if(0<this.pc)0<c?this.lx(this,c/125*3):this.kx(this,-c/125*3);else if(!this.Kd){var m=this.Cc.current[0];this.jr(m,c/125*.05)}};h.prototype.NO=function(c){var m=
c.g.counter,e=" ";if(c.g.la||c.g.L)m=c.g.af;c.zl?(0>m&&(e=""),c.jf.lower[0]="+"+e+c.xt(m),c.jf.F=["toggle generation statistics [G]\ngeneration +"+m]):(0>m+c.Sg&&(e=""),c.jf.lower[0]="T"+e+c.xt(m+c.Sg),c.jf.F=["toggle generation statistics [G]\ngeneration "+(m+c.Sg)]);c.g.la||c.g.L?(c.qg.Za=c.g.counter,c.qg.F="absolute generation "+c.g.counter):c.zl?(1E9<=m?c.qg.Za="1B+":c.qg.Za=m,c.qg.Za=m,c.qg.F="generation "+m):(m+=c.Sg,1E9<=m?c.qg.Za="1B+":c.qg.Za=m,c.qg.F="absolute generation "+m);c.lo.F=c.qg.F};
h.prototype.hP=function(c,m){var e=m.X.current;var t=!1,A=!1,C=!1,D=!1,E=!1,G,F=m.g.counter;var H=0;var I=m.g.M,L=new BoundingBox(I.l,I.s,I.u,I.v);var K=1E3/this.Ma;m.Kd=!1;m.sA&&(m.sA=!1,c=0);m.Va||m.SO(m);m.IH(m.Ue.current[0]);m.cb?(c>K&&(c-.3>K&&(A=!0),c=K),!m.cb||m.Wc&&!m.Xe||(m.Nb+=m.lc*m.tb,H=m.Nb/m.Ma|0,H>F?m.Si=!0:m.elapsedTime+=c)):m.Si&&(E=!0,m.Nb=m.KC?m.Nb+m.Ma:m.Nb+m.tb*m.Ma,H=m.Nb/m.Ma|0);m.OD();m.Wc&&!m.Xe&&m.cb?(m.X.$r&&(m.tg&&!m.X.vE(m.elapsedTime+c)&&(m.tg=!1,m.elapsedTime=m.X.fK(m.g.width/
2-m.g.Ca,m.g.height/2-m.g.va,m.g.zoom,m.g.angle,m.g.Na,m.g.$,m.g.Oe*x.bo,m.g.Uf,m.lc,m.tb,m.g.counter,m.elapsedTime)),e.Df&&(m.Rg(!0,!1,x.Ck),m.tg=!1,e.x=m.g.width/2-m.g.Ca,e.y=m.g.height/2-m.g.va,m.wb&&(m.g.zoom*=m.Ve),e.zoom=m.g.zoom)),(C=m.X.update(m,m.elapsedTime+c,m.g.counter))?(e.Df&&(e.Df=!1,m.wb&&(m.g.zoom=e.zoom/m.Ve),m.Cc&&(m.Cc.current=m.fl([m.g.zoom,m.g.zoom],!1,m))),m.Nb+=m.lc*m.tb,H=m.Nb/m.Ma|0,H>F&&(m.Si=!0)):(m.X.$r&&(m.cb&&(m.Kd=!0),m.g.va=m.g.height/2-e.y,m.g.Ca=m.g.width/2-e.x,
m.g.U&&(m.g.Ca-=m.g.va/2),m.g.zoom=e.zoom,m.wb&&(m.g.zoom=m.g.zoom/m.Ve),m.Cc&&(m.Cc.current=m.fl([m.g.zoom,m.g.zoom],!1,m)),m.g.U||m.g.P||m.g.Fa||(m.g.angle=e.angle,m.Xd&&(m.Xd.current=[m.g.angle,m.g.angle]),m.g.Na=e.Na,m.We&&(m.We.current=[m.g.Na,m.g.Na]),m.g.$=e.$,m.ue&&(m.ue.current=[m.g.$,m.g.$]),m.g.Oe=e.depth/x.bo+x.qw,m.md&&(m.md.current=[Math.sqrt(m.g.Oe),m.g.Oe*x.bo]))),m.lc=e.Hc,m.tb=e.step,m.Ue.current=m.fk([m.Tl(),1],!0,m),e.nc>m.g.counter?(m.Si=!0,m.Nb=e.nc*m.Ma,H=m.Nb/m.Ma|0):m.Si=
!1,e.gg!==m.Es&&(""===e.gg?m.j.notification.clear(!1,!1):m.j.notification.notify(ScriptParser.ar(this,e.gg),15,21600,15,!1),m.Es=e.gg),e.Mc!==m.IA&&(m.qn(e.Mc,m.g.im,m),m.IA=e.Mc)),m.Si||(m.elapsedTime+=c)):m.Ec&&m.cb&&(m.Kd=!0);m.Kd&&(m.Dh=-1);e=0;if(m.Si){if(m.g.Y){K=performance.now();var N=H-F;for(G=0;!D&&m.g.counter<H;){e=performance.now()-K;if(m.g.counter===m.jc-1&&!m.xf||e>x.fI&&!E)m.g.counter!==m.jc-1||m.xf?D=m.gm:D=!0;m.g.ud&&m.nb("reverse playback");L.set(I);m.Ch&&(m.g.counter===H-1||D)?
m.g.we(!0,m.ce,m.Ac,m.Hb,m):m.g.we(!1,m.ce,m.Ac,m.Hb,m);G+=1;(m.g.bl||m.oJ()||m.g.counter===H||D)&&!(0===m.g.Y&&2<m.g.i)&&(m.g.re(),m.gi(),m.Gj||m.g.counter<=m.Jk)&&(m.g.Y=1);0===m.g.Y&&I.set(L);if(-1!==m.jb&&m.g.counter>=m.jb&&!m.Xc){for(H=1;H<=G;H+=1)this.tt(F+H,c,G);m.elapsedTime=0;m.reset(m);H=F=0;m.Af&&m.Ng&&(m.Eb.current=m.Gd(x.Qe,!0,m),m.j.notification.notify("LOOP reached - Play to continue ",15,180,15,!0));C&&(m.Kd=!0)}m.g.Y||(D=!0)}for(H=1;H<=G;H+=1)this.tt(F+H,c,G);m.g.Y||(m.Ev=m.K+(0<
m.g.i?m.g.i:0),-1===m.ng&&(m.ng=m.g.counter,m.g.V?m.g.Y=1:m.g.L||m.g.fa?m.g.ur(!1):m.g.ur(!0),!m.yl||-1!==m.jb&&!m.Xc||m.um||m.j.notification.notify("Life ended at generation "+m.ng,15,600,15,!0),m.um=!1));m.Nb-=(N-G)*m.Ma;0>m.Nb&&(m.Nb=0);G<N&&(m.g.counter!==m.jc||m.xf)&&m.Oj?m.XO(G):m.az()}else{m.az();m.Ev&&(--m.Ev,D=m.g.counter,m.g.counter=m.ng,m.g.re(),m.g.counter=D);for(H=0;H<m.tb;H+=1)m.g.counter+=1,m.tt(m.g.counter,c,m.tb);-1!==m.jb&&m.g.counter>=m.jb&&!m.Xc&&(m.elapsedTime=0,m.reset(m),C&&
(m.Kd=!0))}m.g.counter!==m.jc||m.xf||(m.Eb.current=m.Gd(x.Qe,!0,m),m.yl&&m.j.notification.notify("STOP reached - Play to continue ",15,180,15,!0))}else m.az();m.Si&&!m.cb&&m.nb("");m.Xd.locked=m.Kd&&m.Wc||m.g.U||m.g.P||m.g.Fa;m.We.locked=m.Kd&&m.Wc||m.g.U||m.g.P||m.g.Fa;m.pj.locked=m.Kd&&m.Wc;m.wm.locked=m.Kd||m.Ec&&m.cb;m.Ue.locked=m.Kd&&m.Wc;m.wn.locked=m.Kd&&m.Wc;m.aj.locked=m.Kd&&m.Wc;m.Cc.locked=m.Kd;m.ue.locked=m.Kd&&m.Wc||m.g.U||m.g.P||m.g.Fa;m.md.locked=m.Kd&&m.Wc||m.g.U||m.g.P||m.g.Fa;m.wheelDelta&&
(m.dN(m.wheelDelta),m.wheelDelta=0);m.lC(m,A,e,E);m.Si=!1;m.KC=!1;if(m.cb||m.Ec&&m.On>m.xJ||-1!==m.Dh)t=!0;m.j.cg(t)};h.prototype.lC=function(c,m,e,t){c.Ec&&(c.cb||c.Wc)&&c.Rg(!1,!1,x.Ck);c.g.qN(c.Pr,c.Xi);c.Xi&&c.BK();c.Pr&&c.j.cg(!0);c.g.Or();!c.g.sc&&c.g.U&&4<=c.g.zoom?c.g.zK():!c.g.sc&&c.g.P&&4<=c.g.zoom&&c.g.DK();c.Wo&&(2===c.Wo&&c.g.zv(c.uh,1,!0,c.wb,c),c.AJ(c),2===c.Wo&&c.g.Or(),c.Wo=0);c.g.AK(c);c.g.counter&&c.g.Y&&(c.ei.l=c.g.M.l,c.ei.s=c.g.M.s,c.ei.u=c.g.M.u,c.ei.v=c.g.M.v,c.Ru(c,c.ei));
c.Wi&&c.X.Hz(c);!c.sd||c.se||c.ah||c.g.zv(c.uh,c.Dd,!1,c.wb,c);c.ha?Help.yv(c):c.Ed.length&&Help.Jz(c);c.NO(c);c.io.Za=c.vJ(c.elapsedTime);c.hn.Za=c.xt(c.g.ia);c.Fv()?c.uk.Za=(100*c.g.ia/(c.g.wa*c.g.Aa)|0)+"%":(c.uk.Za=c.xt(c.g.Vb),c.qm.Za=c.xt(c.g.Gb));c.hn.F="alive "+c.g.ia;c.Fv()?c.uk.F="density "+(100*c.g.ia/(c.g.wa*c.g.Aa)|0)+"%":(c.uk.F="births "+c.g.Vb,c.qm.F="deaths "+c.g.Gb);c.Oj?c.MO(e,m,t,c):c.Ue.Jd=c.wm.Jd;c.oO();-1!==c.Dh&&c.ND();c.OO();c.ZO();c.PO();c.gI(c.ha||c.Ed.length);!c.Uc.current[0]||
c.Li&&c.cb||(c.Jc.globalAlpha=.5,c.Jc.fillStyle="black",c.Jc.fillRect(0,0,c.Rc.width,c.Rc.height),c.Jc.globalAlpha=1)};h.prototype.MO=function(c,m,e,t){(m||c>x.fI)&&!e?t.Mk<x.IM&&(t.Mk+=x.XG):t.Mk>x.JM&&(t.Mk-=x.XG);c=t.Ix>>16;m=t.Ix>>8&255;e=t.Ix&255;128<=c?64<=m||64<=e?(m-=t.Mk,e-=t.Mk,0>m&&(m=0),0>e&&(e=0)):(m+=t.Mk,255<m&&(m=255)):(c+=t.Mk,255<c&&(c=255));t.Ue.Jd="rgb("+c+","+m+","+e+")"};h.prototype.OD=function(){var c=this.Nb/this.Ma;if(this.Ae&&!this.Mf){this.g.cc=c*(this.In+this.qp)/2;this.g.Zb=
c*(this.pp+this.Jn)/2;var m=this.g.CI(0,this.pp,this.In,this.Jn,this.qp,this.J,this.H-80,x.Xa,x.Ib,x.Sx);c=this.g.CI(c,this.pp,this.In,this.Jn,this.qp,this.J,this.H-80,x.Xa,x.Ib,x.Sx);this.g.Bc=c/m}else this.g.cc=0,this.g.Zb=0,this.g.Bc=1;this.Cc.current=this.fl([this.g.zoom,this.g.zoom],!1,this)};h.prototype.gI=function(c){var m=!(this.ha&&this.Ek===x.ri),e,t=0,A=[],C=[],D=this.Uc.current[0];this.Eb.Zf[1]=this.ce||0===this.g.counter&&(!this.g.la&&!this.g.L||null===this.g.Yc)?!0:!1;var E=c||!this.Xk;
for(e=0;e<=this.g.rf;e+=1)this.G[e].m=E;this.Lm.m=E;this.Im.m=E;this.Om.m=E;this.Jm.m=E;for(e=0;e<x.It.length;e+=1)x.It[e]===this.g.rf&&(this.G[e].locked=!this.Zh);E=c||!this.Ui||"Empty"===this.Ob||"none"===this.Ob;this.vi.m=c||!this.Ui;this.hs.m=E;this.gf.m=E;this.ij.m=E;this.hj.m=E;this.jj.m=E||"Spaceship"!==this.Ob||this.g.U||this.g.P;this.mj.m=E||"Still Life"===this.Ob;this.lj.m=E||"Still Life"===this.Ob||this.sg||this.g.U||this.g.P;this.gj.m=E||"Oscillator"!==this.Ob||this.sg;this.hk.m=E||"Spaceship"!==
this.Ob||this.g.U||this.g.P;this.ik.m=E||"Spaceship"!==this.Ob;this.kj.m=E||"Still Life"===this.Ob||this.g.la||this.g.oc;this.jk.m=E||"Oscillator"!==this.Ob||this.sg;this.kk.m=E||"Oscillator"!==this.Ob||this.sg;this.ns.m=E;this.js.m=E;this.Vv.m=E;this.Wv.m=E||"Spaceship"!==this.Ob||this.g.U||this.g.P;this.Yv.m=E||"Still Life"===this.Ob;this.Xv.m=E||"Still Life"===this.Ob||this.sg||this.g.U||this.g.P;this.gs.m=E||"Oscillator"!==this.Ob||this.sg;this.$v.m=E||"Spaceship"!==this.Ob||this.g.U||this.g.P;
this.ls.m=E||"Spaceship"!==this.Ob;this.ks.m=E||"Still Life"===this.Ob||this.g.la||this.g.oc;this.ms.m=E||"Oscillator"!==this.Ob||this.sg;this.jA.m=E||"Oscillator"!==this.Ob||this.sg;this.Qo.locked=this.zc===this.Eo;this.ek.locked=1>=this.zc||"undo [Ctrl Z]"===this.ek.F;this.pj.m=c;this.Cc.m=c;this.wm.m=c;this.Ji.m=c;this.Qn.m=c;this.Dn.m=c;this.Gh.m=c;this.Nm.m=c;this.pd.m=c;E=(this.Jp.m=c)||!this.sd||this.se||this.ah||D;this.uq.m=E;this.fj.m=E;this.lq.m=E;this.Sd.m=!(this.Hb||-1!==this.Gg);this.Sd.locked=
!1;this.lo.m=c;this.qg.m=c;this.Id.m=c;this.io.m=c;this.jd.m=c;E=(this.hn.m=c)||this.lu();this.tk.m=E;E=(this.uk.m=E)||this.Fv();this.ad.m=E;this.qm.m=E;this.nn.m=c;this.wm.m=c;this.Eg.m=c||!this.Yl;this.da.m=!(this.Nd||this.Ed.length);this.Pl||this.Ql||this.Rl||this.Sl||this.Xk?(this.qj.Za="Back",this.qj.F="back to previous menu [Backspace]"):(this.qj.Za="Close",this.qj.F="close menu [Backspace]");E=(this.qj.m=c)||this.Xk;this.md.m=E;this.Xd.m=E;this.We.m=E;this.ue.m=E;E=c||this.Xk||this.Pl||this.Ql||
this.Sl||this.Rl;this.Ys.m=E;this.aj.m=E;this.ps.m=E;this.Mr.m=E;this.Gw.m=E;this.zm.m=E;E=c||!this.Rl;this.il.m=E;this.gl.m=E;this.hl.m=E;this.nk.m=E;this.Lq.m=E;this.Mh.m=E;this.bq.m=E;this.pi.m=E;this.oi.m=E;this.ll.m=E;this.jl.m=E;this.ti.m=E;E=c||!this.Ql;this.Up.m=E;this.Jt.m=E;this.cq.m=E;this.Oq.m=E;this.Oq.locked=!this.xl;this.nt.m=E;E=c||!this.Pl;this.Fj.m=E;this.Ep.m=E;this.Hk.m=E;this.Xq.m=E;this.Km.m=E;this.Cp.m=E;this.Nn.m=E;this.Jq.m=E;E=c||!this.Sl;this.aq.m=E;this.Fn.m=E;this.sn.m=
E;this.to.m=E;this.Dp.m=E;E=this.g.Fa||!this.Ha;this.Lq.locked=E;this.Mh.locked=E;this.bq.locked=E;this.pi.locked=E;this.oi.locked=E;this.ti.locked=E;this.Jq.locked=2<this.g.i||this.g.pa||this.g.L||this.g.ta||this.g.V||this.g.fa||this.g.la;this.Oh.m=c||!(this.Pl||this.Ql||this.Sl||this.Rl);this.Oh.Za=this.Pl?"Display":this.Ql?"Advanced":this.Sl?"Playback":this.Rl?"Pattern":"";this.to.locked=-1!==this.g.je||this.g.Ew||this.g.pa&&!(1===this.g.za.fh&&this.g.za.type===this.C.be&&2===this.g.za.Vo)||this.g.P||
this.g.Ne;this.aj.locked=this.Bd||this.g.Fa||this.g.fa||this.g.V;this.Hk.locked=this.g.U&&!this.g.sc||this.g.P&&!this.g.sc;this.Fj.locked=!(this.g.U||this.g.P);E=c||0===this.X.yc.length||D;this.Ls.m=E;this.kt.m=E;E=c||!this.nd||this.se||this.ah||this.sd;this.lf.m=E;this.ec.m=E;this.nf.m=E;this.uc.m=E;this.hf.m=E;this.gb.m=E;this.lk.m=E;this.xi.m=E;this.Kh.m=E;this.Lh.m=E;this.Jh.m=E;this.zb.m=E;this.Lb.m=E;this.dc.m=E;this.Fb.m=E;this.Ed.length?(this.da.F="close errors [Esc]",this.da.Za="Esc",this.da.eb("16px Arial"),
this.da.Jd=this.pj.Jd):(this.da.F="close window [Esc]",this.da.Za="X",this.da.eb("24px Arial"),this.da.Jd="red");this.Ph.m=!(this.ha&&this.Ek!==x.ri);this.na.m=!(this.ha&&this.Ek!==x.ri)||!this.yt;this.Je.m=m;this.bf.m=m;this.Ie.m=m;this.ff.m=m;this.He.m=m;this.Ge.m=m;this.hd.m=m;this.Ce.m=m||0===this.X.Do();this.Nh.m=!(this.ha&&this.Ek!==x.ri)||this.yt;if(this.ol){this.ol=!1;t=this.na.y;for(e=0;e<this.ma.length&&t<this.H-66*this.o.Ih;)A[e]=this.ma[e][1],C[e]="Top"==A[e]?"go to top of topic [Home]":
"",t+=26*this.o.Ih,e+=1;this.na.lower=A;this.na.F=C;this.na.eO(26*A.length);this.na.current=0}E=c||!this.ah||D;this.Ag.m=E;this.Pn.m=E;this.Rd.m=E;this.El.m=E;this.xr.m=E;this.Mo.m=E;this.Lo.m=E;this.Wd.m=E;this.ne.m=E;this.wg.m=E;E=c||!this.ah||D;this.Td.m=E;this.Gf.m=E;this.Hf.m=E;this.vg.m=E;this.pf.m=E;this.Ee.m=E;this.Fe.m=E;this.zg.m=E;this.xg.m=E;this.ab.m=E;this.Vd.m=E;this.Ud.m=E;this.hm.m=E||!(this.g.ta||this.g.V);this.T.m=E;this.Qk.m=E;E=c||!this.ah||D||2>=this.g.i||this.g.Fa;this.Dc.m=
E||this.g.L;E=this.Va;this.Mo.locked=E;this.Lo.locked=E;E=!this.ub;this.Wd.locked=E;this.Rd.locked=E;E=!(this.ub||this.od)||this.Va;this.Td.mg(E);this.T.mg(E);this.Dc.mg(E);this.Qk.mg(E);this.Gf.mg(E);this.Hf.mg(E);this.vg.mg(E);this.pf.mg(E);this.Ee.mg(E);this.Fe.mg(E);this.zg.mg(E);this.xg.mg(E);this.ab.mg(E);this.Vd.mg(E);this.Ud.mg(E);this.hm.mg(E);E=!this.ub||this.Va;this.ne.locked=E;E=!this.tr||this.od||null===this.$f[this.Pg]||this.Va;this.wg.locked=E;this.to.locked=-1!==this.g.i;E=c||!this.se||
!this.tn||D;this.Od.m=E;this.B.m=E;if(2>=this.g.i&&!this.g.fa)for(e=0;e<this.B.lower.length;e+=1)2>=e?0===e?t=e:t=1===e?LifeConstants.Pa:LifeConstants.rl:t=128+x.bb[e],this.B.Rn[e]="rgb("+this.g.Ta[t]+","+this.g.Sa[t]+","+this.g.Qa[t]+")";else for(e=0;e<this.B.lower.length;e+=1)t=0===e+this.dg?0:this.g.Fa||this.g.L||this.g.fa||this.g.V?e+this.dg+this.K:this.K+this.g.i-(e+this.dg),this.B.Rn[e]="rgb("+this.g.Ta[t]+","+this.g.Sa[t]+","+this.g.Qa[t]+")";E=c||!this.se||D;this.hi.m=E;this.at.m=E;this.Wq.m=
E;this.$q.m=E;this.dh.m=c||!this.se||!this.tn||this.g.i<=this.Vg||D;this.Fh.m=c||!this.se||!this.tn||this.g.i<=this.Vg||D;this.g.i>this.Vg&&this.QD();if(0<this.ha){e=0;for(t=-1;e<this.ma.length&&-1===t;)this.ma[e][0]>this.ha?t=this.ma[e][0]:e+=1;e===this.ma.length&&(t=e);-1!==t&&(this.na.current=e-1)}this.Li&&(this.o.m=this.cb?!0:!1)};h.prototype.PO=function(){var c=-(this.g.width/2-this.g.Ca-this.g.cc|0),m=-(this.g.height/2-this.g.va-this.g.Zb|0),e=String(c),t=String(m);this.lf.m=!this.nd;this.ec.m=
!this.nd;this.nf.m=!this.nd;this.uc.m=!this.nd;this.hf.m=!this.nd;this.gb.m=!this.nd;this.lk.m=!this.nd;this.xi.m=!this.nd;this.Kh.m=!this.nd;this.Lh.m=!this.nd;this.Jh.m=!this.nd;this.zb.m=!this.nd;this.Lb.m=!this.nd;this.Fb.m=!this.nd;this.dc.m=!this.nd;if(-99999>c||99999<c)e=(c/1E3|0)+"K";if(-99999>m||99999<m)t=(m/1E3|0)+"K";this.ec.Za=e;this.uc.Za=t;this.gb.Za=this.g.angle.toFixed(0)+"\u00b0";this.zb.Za=this.$u.toFixed(3);this.Lb.Za=this.bv.toFixed(3);this.dc.Za=this.cv.toFixed(3);this.Fb.Za=
this.av.toFixed(3)};h.prototype.ZO=function(){0===this.g.counter?this.cv=this.$u=this.bv=this.av=0:(this.bv=(this.g.M.v-this.g.Yf.v)/this.g.counter,this.av=(this.g.M.s-this.g.Yf.s)/this.g.counter,this.$u=(this.g.M.u-this.g.Yf.u)/this.g.counter,this.cv=(this.g.M.l-this.g.Yf.l)/this.g.counter)};h.prototype.OO=function(){this.pj.current=[this.Ec];this.Qn.current=[!this.Ng&&this.Af];this.Qn.locked=!this.Af;this.Ae?(this.Gh.lower[0]="TRACK",this.Gh.current=[!this.Mf&&this.Ae],this.Gh.locked=!this.Ae,this.Gh.F=
["toggle track mode [W]"]):(this.Gh.lower[0]="WAYPT",this.Gh.current=[!this.Xe&&this.Wc],this.Gh.locked=!this.Wc,this.Gh.F=["toggle waypoint mode [W]"]);this.Nm.current=[!this.Xc&&-1!==this.jb];this.Nm.locked=-1===this.jb;this.Nm.F=["loop at "+this.jb+" [Shift P]"];this.Dn.current=[!this.xf&&-1!==this.jc];this.Dn.locked=-1===this.jc;this.Dn.F=["stop at "+this.jc+" [Alt P]"]};h.prototype.tt=function(c,m,e){if(c>=this.Ka.length){var t=this.g.A.R(Float32,this.Ka.length+x.sG,"View.elapsedTimes");t.set(this.Ka);
this.Ka=t}this.elapsedTime+=m/e;this.Ka[c]=this.elapsedTime};h.prototype.dP=function(c){var m=c.EO,e=c.gp-c.al;if(c.al<c.gp)if(0<c.hz)--c.hz;else if(c.bw)c.Wl.innerHTML=c.Gt,c.al=c.gp;else{e<m&&(m=e);var t=document.createElement("textarea");c.eA(t);if(m!==e)for(;"\n"!==c.Gt[c.al+m];)--m;t.innerHTML=c.Gt.substr(c.al,m);c.al+=m;c.Wl.appendChild(t)}else c.Wu||(c.j.notification.notify("Press Enter to complete copy",15,1E4,15,!0),c.Wu=!0);c.TO(c);c.g.Or();c.Wi&&c.X.Hz(c);c.sd&&c.g.zv(c.uh,c.Dd,!1,c.wb,
c);c.ha?Help.yv(c):c.Ed.length&&Help.Jz(c);c.j.cg(!0)};h.prototype.Bt=function(c,m,e){c.Gg=-1;c.o.locked=!1;m?e&&c.j.notification.notify("Cancelled",15,80,15,!0):c.yl&&e&&c.j.notification.notify("Arrived at generation "+c.g.counter,15,150,15,!0);c.j.notification.clear(!1,!1);c.nb("")};h.prototype.iP=function(c){var m=performance.now();for(c.o.locked=!0;0!==c.g.ia&&c.g.counter<c.Gg&&13>performance.now()-m;){c.g.we(!1,c.ce,c.Ac,c.Hb,c);0===c.g.Y&&2<c.g.i||c.g.re();0===c.g.Y&&2>=c.g.i&&(c.g.Y=1,c.g.we(!1,
!1,c.Ac,c.Hb,c),--c.g.counter);c.gi();if(c.Gj||c.g.counter<=c.Jk)c.g.Y=1;c.tt(c.g.counter,0,1);0===c.g.ia&&(c.Gg=c.g.counter,-1===c.ng&&(c.ng=c.g.counter))}c.lC(c,!1,0,!1);c.VO(c);c.Nb=c.g.counter*c.Ma;c.j.cg(!0);c.g.counter>=c.Gg&&(c.Bt(c,!c.g.Y,!1),0===c.g.ia&&c.j.notification.notify("Life ended at generation "+c.ng,15,240,15,!1))};h.prototype.fP=function(c){var m=performance.now();for(c.o.locked=!0;c.Hb&&13>performance.now()-m&&c.g.Y;){c.g.we(!1,c.ce,c.Ac,c.Hb,c);c.g.re();c.g.counter&&c.g.Y&&(c.ei.l=
c.g.M.l,c.ei.s=c.g.M.s,c.ei.u=c.g.M.u,c.ei.v=c.g.M.v,c.Ru(c,c.ei));c.gi();c.tt(c.g.counter,0,1);if(c.Gj||c.g.counter<=c.Jk)c.g.Y=1;if(c.g.Y){var e=c.g.CM(c.oo,c);0<e.length&&(e[0]===LifeConstants.AE?(e[0]="Nothing Identified",c.HA="none",c.Ob="none",c.Bs="",c.kq="",c.As="",c.ew="",c.gq="",c.Cs="",c.jq="",c.hq="",c.Ds="",c.iq="",c.dw="",c.fw=""):(c.HA=e[0],c.Ob=e[1],"Empty"!==c.Ob&&(c.Bs=e[2],c.kq=e[3],c.As=e[4],c.ew=e[5],c.gq=e[6],c.Cs=e[7],c.jq=e[8],c.hq=e[9],c.Ds=e[10],c.iq=e[11],c.dw=e[12],c.fw=
e[13],c.ns.Za=c.Ob,c.js.Za=c.gq,c.js.F=-1===c.gq.indexOf("|")?"":"min | max | average",c.Vv.Za=c.As,c.Wv.Za=c.Bs,c.Yv.Za=c.jq,c.$v.Za=c.Cs,c.ls.Za=c.kq,c.ls.F=-1===c.kq.indexOf("|")?"":"simplified | unsimplified",c.ks.Za=c.hq,c.ks.F=-1===c.hq.indexOf("|")?"":"min | max | average",c.jA.Za=c.Ds,c.Xv.Za=c.iq,c.gs.Za=c.dw,c.gs.F="rotor | stator | total",c.ms.Za=c.fw,c.ms.F="active | rotor"),c.Ui=!0,c.sg=c.oo,c.iO()),c.Hb=!1,c.cb&&(c.Eb.current=c.Gd(x.Qe,!0,c)),c.nb(""),c.hs.Za=e[0],"Empty"===c.Ob||"none"===
c.Ob?(c.j.notification.notify(e[0],15,240,15,!1),c.Ui=!1):(c.j.notification.clear(!0,!1),c.j.notification.clear(!1,!1),c.Rg(!0,!1,x.Ck)),c.g.qs(c.Hb),c.oo=!1,c.o.locked=!1)}else c.Hb=!1,c.cb&&(c.Eb.current=c.Gd(x.Qe,!0,c)),c.nb(""),c.Ui=!1,c.Rg(!0,!1,x.Ck),c.g.qs(c.Hb),c.oo=!1,c.o.locked=!1,c.ng=c.g.counter,c.Ev=c.K+(0<c.g.i?c.g.i:0),c.j.notification.notify("Life ended at generation "+c.ng,15,240,15,!1),c.j.notification.clear(!0,!1)}c.lC(c,!1,0,!1);c.Nb=c.g.counter*c.Ma;c.j.cg(!0)};h.prototype.eP=
function(c){for(var m=c.fz,e=performance.now(),t,A=c.g.bh.dM*LifeConstants.zt;c.g.counter<m-1&&13>performance.now()-e;)if(t=m-1-c.g.counter<=A?!1:!0,c.g.we(!1,t,c.Ac,c.Hb,c),c.g.re(),c.gi(),c.Gj||c.g.counter<=c.Jk)c.g.Y=1;if(c.g.counter===m-1){c.g.we(c.Ch,!1,c.Ac,c.Hb,c);c.g.re();c.gi();if(c.Gj||c.g.counter<=c.Jk)c.g.Y=1;c.Xn=!1;c.ez&&c.j.notification.clear(!0,!1);c.o.locked=!1}else c.o.locked=!0;c.UO(c,m);c.g.Or();c.Wi&&c.X.Hz(c);c.sd&&c.g.zv(c.uh,c.Dd,!1,c.wb,c);c.ha?Help.yv(c):c.Ed.length&&Help.Jz(c);
c.j.cg(!0)};h.prototype.gP=function(c){var m=c.g.ae?4278190080:255;c.zo===x.PA&&(c.o.locked=!0,c.gk.enabled=!1,c.on.enabled=!1,c.gI(0),c.j.cg(!0),c.g.yd&&c.g.yd.fill(m));c.zo===x.OA&&(c.Sz=performance.now());--c.zo;0===c.zo&&(c.wo=performance.now(),c.Ma=Math.round(1E3/((c.wo-c.Sz)/(x.OA-1))),60>c.Ma&&(c.Ma=60),c.j.Ma=c.Ma,c.PC&&(c.tb=1),c.OC&&(c.lc=c.Ma),c.Ue.current=c.fk([c.Tl(),1],!0,c),c.o.locked=!1);m=c.g.Na;c.g.Na=0;c.g.Or();c.g.Na=m};h.prototype.zy=function(c,m){m.Xn?m.eP(m):m.Hb?m.fP(m):m.wr?
m.dP(m):-1!==m.Gg?m.iP(m):0<m.zo?m.gP(m):m.hP(c,m)};h.prototype.$D=function(c){c.g.counter=0;c.g.af=0;c.g.Ij=0;c.Nb=0;c.elapsedTime=0;c.g.Ca=c.g.width>>1;c.g.va=c.g.height>>1;c.g.Ca&=c.g.width-1;c.g.va&=c.g.height-1;c.g.Y=1;c.sA=!0;c.ng=-1;c.zo=x.PA};h.prototype.xI=function(c,m,e){m&&(e.Xi=c[0]);return[e.Xi]};h.prototype.pI=function(c,m,e){m&&(e.Mi=c[0]);return[e.Mi]};h.prototype.sI=function(c,m,e){m&&(e.g.Bl=c[0]);return[e.g.Bl]};h.prototype.qI=function(c,m,e){m&&(e.nd=c[0]);return[e.nd]};h.prototype.WD=
function(c,m,e){m&&(e.sd=c[0],e.sd&&e.pd.current!==x.Rm&&(e.pd.current=e.el(x.Rm,!0,e)));return[e.sd]};h.prototype.Cy=function(c,m,e){m&&(e.g.uj=c[0]);return[e.g.uj]};h.prototype.rI=function(c,m,e){m&&(e.Wi=c[0]);return[e.Wi]};h.prototype.mI=function(c,m,e){m&&(e.g.kd=c[0]);return[e.g.kd]};h.prototype.kI=function(c,m,e){m&&(e.Ai=c[0],e.Ai&&!e.g.qc&&(e.se||e.ah)&&(e.Ji.current=e.dr([!0],!0,e)));return[e.Ai]};h.prototype.uI=function(c,m,e){m&&(e.g.de=c[0],e.g.kz(),0===(e.g.counter&1)?e.g.gx(e.g.hb):
e.g.gx(e.g.Yb));return[e.g.de]};h.prototype.jI=function(c,m,e){m&&(e.g.cm=c[0]);return[e.g.cm]};h.prototype.lI=function(c,m,e){m&&(e.Li=c[0]);return[e.Li]};h.prototype.XD=function(c,m,e){m&&(e.g.sc=c[0],e.eI());return[e.g.sc]};h.prototype.bE=function(c,m,e){m&&(e.j.rn=c[0]);e.j.cg(!0);return[e.j.rn]};h.prototype.Mn=function(c,m,e){m&&(e.j.Yk=c[0]);e.j.cg(!0);return[e.j.Yk]};h.prototype.qn=function(c,m,e){if(e.g.Uf!==c)for(e.g.lO(c,m,e),1<e.g.im&&(e.j.Ln=e.g.im),m=0;m<=this.g.rf;m+=1)this.G[m].current=
c!==x.It[m]?[!1]:[!0]};h.prototype.Tl=function(){var c=x.YE;this.lc>this.Ma&&(this.lc=this.Ma);var m=Math.sqrt((this.lc-x.Qi)/(this.Ma-x.Qi));var e=(this.tb-x.fi)/(x.ug-x.fi);return 0===e?m*(1-c):e*(1-c)+1+c};h.prototype.IH=function(c){var m=x.YE;this.lc>this.Ma&&(this.lc=this.Ma);c<=1-m?(c/=1-m,this.lc=Math.round(x.Qi+c*c*(this.Ma-x.Qi)),this.tb=1):(this.lc=this.Ma,this.tb=Math.round(x.fi+(c<1+m?0:(c-(1+m))/(1-m))*(x.ug-x.fi)))};h.prototype.fk=function(c,m,e){var t=e.Tl();m&&(t=c[0],e.IH(t));e.lc>
e.Ma&&(e.lc=e.Ma);return[t,Math.round(e.lc)<e.Ma?Math.round(e.lc)+"/s":Math.round(e.tb)+"x"]};h.prototype.AH=function(c){c.Tq=c.g.zoom;c.wb&&(c.Tq=c.Tq*c.Ve);c.yC=c.g.angle;c.ZN=c.g.Na;c.tf=c.g.Ca;c.Wj=c.g.va};h.prototype.EN=function(c){c.An=c.g.width/2-c.g.Ca;c.Bn=c.g.height/2-c.g.va;c.bp=c.g.zoom;c.yn=c.g.angle;c.zn=c.g.Na;c.vl=c.g.width/2-c.tf;c.jo=c.g.height/2-c.Wj;c.Qr=c.yC;c.Qp=c.ZN;c.wb?c.ko=c.Tq/c.Ve:c.ko=c.Tq;c.Dh=0};h.prototype.AN=function(c,m){c.g.zoom=c.eF;c.wb&&(c.g.zoom=c.g.zoom/c.Ve);
c.Cc&&(c.Cc.current=c.fl([c.g.zoom,c.g.zoom],!1,c));c.g.angle=c.Np;c.Xd&&(c.Xd.current=[c.Np,c.Np]);c.g.Na=c.Pp;c.We&&(c.We.current=[c.Pp,c.Pp]);c.g.Ca=c.df;c.g.va=c.xj;m&&(c.qn(c.sv,1,c),c.Bd&&(c.g.Vn=0),c.lc=c.aF,c.tb=c.cF,c.Ue.current=c.fk([c.Tl(),1],!0,c),c.g.$=c.Op,c.ue.current=[c.Op,c.Op],m=Math.sqrt(c.zz),c.md.current=c.$l([m,m],!0,c))};h.prototype.oE=function(c){c?(this.g.Ca+=this.g.cc,this.g.va+=this.g.Zb,this.g.zoom*=this.g.Bc):(this.OD(),this.g.Ca-=this.g.cc,this.g.va-=this.g.Zb,this.g.zoom/=
this.g.Bc,this.OD());this.g.zoom<x.Xa?this.g.zoom=x.Xa:this.g.zoom>x.Ib&&(this.g.zoom=x.Ib)};h.prototype.oH=function(c){c.elapsedTime=0;c.Bd||(c.g.rt(c,c.ce),c.g.Y=1,c.g.hx())};h.prototype.reset=function(c){var m=!1,e=!1;this.Pr&&this.g.EF();0===c.g.counter&&c.j.qH();if(0===c.elapsedTime||c.Ov)m=!0;c.Xc||-1===c.jb||c.g.counter>=c.jb&&(e=!0);c.g.af=0;c.g.Ij=0;e||m||(c.Wc&&(c.Xe=!0),c.Ae&&(c.Mf=!0),-1!==c.jb&&(c.Xc=!0),-1!==c.jc&&(c.xf=!0),c.Ku&&(c.Ec=!1));c.elapsedTime=0;c.g.cc=0;c.g.Zb=0;c.g.Bc=1;
if(m){(this.g.la||this.g.L)&&null!==this.g.Yc&&c.ix&&(c.g.ud=!0);c.Wc&&(c.Xe=!1);c.Ae&&(c.Mf=!1);c.Ku&&(c.Ec=!0);if(!e||c.Wc&&c.X.$r||c.Ec)c.AN(c,m),c.Ec&&c.Rg(!0,!1,x.Ck);c.Xc=!1;e||(c.xf=!1)}c.Bd||(c.g.rt(c,c.ce),c.g.Y=1);c.Ac||c.g.pH();c.g.hx();c.Es="";c.IA=-1;c.tg=!1;c.X.CN();c.Hb&&(c.Hb=!1,c.j.notification.clear(!0,!1));c.g.qs(c.Hb);c.j.notification.clear(!1,!1);c.ng=-1;c.g.Os=0;c.px(c.g.counter);c.Ui=!1;c.zG()};h.prototype.ox=function(c){var m=this.g.td;if(c){var e="pause";c="pause [Enter]"}else c=
"play [Enter]",this.g.la||this.g.L?(this.g.ud&&(m=!m),e=m?"reverse":"play"):e="play";if(this.g.la||this.g.L)if(m=this.g.td,this.g.ud&&(m=!m),m){var t="stepback";m="stepforward";var A="step back [Shift Tab]";var C="step forward [Tab]"}else t="stepforward",m="stepback",A="step forward [Tab]",C="step back [Shift Tab]";else t="stepforward",m="stepback",A="step forward [Tab]",C="step back [Shift Tab]";this.Eb.icon[x.Qe]=this.Z.icon(t);this.Eb.F[x.Qe]=A;this.Eb.icon[x.qq]=this.Z.icon(m);this.Eb.F[x.qq]=
C;this.Eb.icon[x.Kk]=this.Z.icon(e);this.Eb.F[x.Kk]=c};h.prototype.zh=function(c,m){m.Ek=c;m.ha=1;m.yt=!0;m.Qv=[];m.Rv=[];this.ol=!0};h.prototype.pu=function(c){c.zh(x.uA,c)};h.prototype.KA=function(c){c.zh(x.BC,c)};h.prototype.nu=function(c){c.zh(x.aw,c)};h.prototype.zC=function(c){c.zh(x.hD,c)};h.prototype.Yt=function(c){c.zh(x.dz,c)};h.prototype.No=function(c){c.zh(x.Ey,c)};h.prototype.ru=function(c){c.zh(x.QA,c)};h.prototype.Po=function(c){c.zh(x.Hy,c)};h.prototype.By=function(c,m,e){m&&(e.ha=
e.ma[c][0],e.yt=!1);return c};h.prototype.UD=function(c,m,e){m&&(e.qk=c[0],e.qk&&e.pr(e));return[e.qk]};h.prototype.jB=function(c){c.pr(c)};h.prototype.VD=function(c,m,e){m&&(e.Wh=c[0],e.Wh&&(e.yx=!0));return[e.Wh]};h.prototype.el=function(c,m,e){var t=c;if(m){switch(c){case x.Qm:e.Eq=!1;e.Va||e.g.Fa?t=e.pd.current:(e.se=!0,e.hi.current=e.dl([!1],!0,e),e.ah=!1);e.Pu(e);e.Ai&&(e.Ji.current=e.dr([!0],!0,e));break;case x.Sm:e.se=!1;e.hi.current=e.dl([!1],!0,e);e.ah=!0;e.Ai&&(e.Ji.current=e.dr([!0],!0,
e));break;case x.Rm:e.se=!1,e.ah=!1,e.hi.current=e.dl([!1],!0,e),e.Pu(e),e.Ai&&(e.Ji.current=e.dr([!1],!0,e))}e.Qv=[];e.Rv=[];e.Uc.current[0]&&(e.Uc.current=e.lp([!1],!0,e),e.j.hg=!0)}e.GC(t);return t};h.prototype.GC=function(c){if(this.ha||this.pc)this.o.wu("grab");else switch(c){case x.Qm:this.o.wu("auto");break;case x.Rm:this.o.wu("grab");break;case x.Sm:this.o.wu("crosshair")}};h.prototype.nI=function(c,m,e){m&&(e.Pg=c,e.Zu(),e.El.current=[!1],e.j.hg=!0,e.od?e.JB(e,c):e.j.notification.notify("Clipboard "+
c+" active",15,80,15,!0));return e.Pg};h.prototype.YD=function(c,m,e){m&&(e.an=c,e.cd=x.cI[c]);return e.an};h.prototype.hK=function(c){c.Va||(c.an+=1,3<c.an&&(c.an=0),c.Lo.current=c.YD(c.an,!0,c))};h.prototype.$K=function(c){var m=-1,e,t=0,A=0,C=0,D=0;'"'===c.charAt(0)&&(c=c.substr(1,c.length-2));if(this.g.fa)for(e=0;e<this.li.length&&-1===m;)void 0!==this.li[e]&&this.li[e]===c&&(m=e),e+=1;else if(2>=this.g.i)if(this.g.ta)for(e=0;e<x.li.length&&-1===m;)x.li[e]===c&&(m=e),e+=1;else"alive"===c?m=1:
"dead"===c&&(m=0);else if("dead"===c)m=0;else if(this.g.L){for(e=0;e<c.length&&-1===m;){switch(c.charAt(e)){case "N":t+=1;break;case "S":A+=1;break;case "E":C+=1;break;case "W":D+=1;break;default:m=-2}e+=1}if(1<t||1<A||1<C||1<D)m=-2;-2!==m&&(m=t|C<<1|A<<2|D<<3)}else if(this.g.V)for(e=0;e<LifeConstants.xw.length&&-1===m;)LifeConstants.xw[e]===c&&(m=e),e+=1;else"alive"===c?m=1:"dying "===c.substr(0,6)&&(m=Number(c.substr(6))+1,m>=this.g.i&&(m=-1));return m};h.prototype.Vp=function(c){var m="";if(this.g.fa)void 0===
this.li[c]?m="state "+String(c):m=this.li[c];else if(2>=this.g.i)if(this.g.ta)m=x.li[c];else switch(c){case 0:m="dead";break;case 1:m="alive";break;default:m="state "+String(c)}else 0===c?m="dead":this.g.L?(0!==(c&1)&&(m+="N"),0!==(c&2)&&(m+="E"),0!==(c&4)&&(m+="S"),0!==(c&8)&&(m+="W")):this.g.V?m=LifeConstants.xw[c]:m=this.g.Fa?"state "+String(c):1===c?"alive":"dying "+String(c-1);return m};h.prototype.aE=function(c,m,e){var t=c;m&&(2>=e.g.i?e.ef=c:(c+=e.dg,0===c?e.ef=0:e.g.Fa||e.g.L||e.g.fa||e.g.V?
e.ef=c:e.ef=e.g.i-c),e.hi.current=e.dl([!1],!0,e),e.j.notification.notify("Drawing with state "+c+" ("+e.Vp(c)+")",15,120,15,!0));return t};h.prototype.bk=function(c){var m=this.g.i,e=this.Vg;-1===m&&(e=m=2);this.g.ta&&(e=m=7);c<m&&(c>=e?(this.dg=c-e+1,c=e-1):c>=this.dg?c-=this.dg:(this.dg=c,c=0),this.Od.current=this.aE(c,!0,this),this.dh.current=this.ul([this.dg/(this.g.i-this.Vg),0],!0,this))};h.prototype.Ux=function(c,m,e){var t=0;if(m)for(;t<c.length;)c[t]&&(c[t]=!1,e.Od.current=e.aE(t,!0,e)),
t+=1;return c};h.prototype.yN=function(c){var m=0,e=this.ef,t=this.g.$d;var A=this.Pb;var C=t.l,D=t.u;var E=t.s;t=t.v;var G=(this.g.width>>1)-(this.kb>>1)+(this.Qb<<1);var F=(this.g.height>>1)-(this.qb>>1)+(this.Rb<<1);2<this.g.i&&!(this.g.Fa||this.g.L||this.g.fa||this.g.V)&&0<c&&(c=this.g.i-c);this.ub&&(C=A.l+G,D=A.u+G,C>D&&(G=D,D=C,C=G),E=A.s+F,t=A.v+F,E>t&&(G=t,t=E,E=G));if(e!==c){for(;E<=t;E+=1)for(A=C;A<=D;A+=1)F=this.g.getState(A,E,!1),2<this.g.i&&!this.g.L&&!this.g.fa&&0<F&&(F=this.g.i-F),
F===c&&(this.ed(A,E,e),m+=1);0<m&&(!this.g.ta||6!==c&&6!==e||this.g.Lf(),this.nb("replace states"))}else this.j.notification.notify("Cell and drawing state are the same",15,120,15,!0)};h.prototype.$y=function(c,m,e){var t=c.ef,A=c.g.$d,C=0,D=0;if(0<t)if(2<c.g.i&&!(c.g.Fa||c.g.L||c.g.fa||c.g.V)&&(t=c.g.i-t),c.g.ta&&1<t&&(D=t&1),c.g.ta&&m)if(e){for(e=A.s;e<=A.v;e+=1)for(m=A.l;m<=A.u;m+=1){var E=c.g.getState(m,e,!1);3<=E&&5>=E&&(c.ed(m,e,E&1),C+=1)}0<C&&(c.V?c.nb("clear [R]Super marked cells"):c.nb("clear [R]History marked cells"))}else{for(e=
A.s;e<=A.v;e+=1)for(m=A.l;m<=A.u;m+=1)E=c.g.getState(m,e,!1),1<E&&(c.ed(m,e,E&1),C+=1);0<C&&(c.V?c.nb("clear Super cells"):(this.g.Lf(),c.nb("clear History cells")))}else{for(e=A.s;e<=A.v;e+=1)for(m=A.l;m<=A.u;m+=1)E=c.g.getState(m,e,!1),E===t&&(c.ed(m,e,D),C+=1);0<C&&(c.g.ta&&6===t&&this.g.Lf(),c.nb("clear state "+t+" cells"))}return C};h.prototype.Gd=function(c,m,e){var t=c,A=e.xf,C=e.Xc,D=e.Xe,E=e.Ng,G=e.Ec,F=e.Mf,H=40,I=0,L=0,K=0,N=0,J=0,S=0,U=0;if(m){e.Eq=!1;switch(c){case x.YA:e.Ng=e.Ov||e.Af&&
0===e.g.counter&&0===e.elapsedTime?!1:!0;e.Af&&!e.Ng?(c=x.Kk,e.cb=!0,e.um=0===e.g.ia?!0:!1):(c=x.Qe,e.cb=!1);e.nb("");e.reset(e);e.ld=0;m="Reset";!e.Xc&&C&&-1!==e.jb&&(L=1);e.Xc&&!C&&-1!==e.jb&&(L=-1);!e.xf&&A&&-1!==e.jc&&(K=1);e.xf&&!A&&-1!==e.jc&&(K=-1);!G&&e.Ec&&(U=1);G&&!e.Ec&&(U=-1);!e.Xe&&D&&(N=1);e.Xe&&!D&&(N=-1);!e.Mf&&F&&(J=1);e.Mf&&!F&&(J=-1);!e.Ng&&E&&e.Af&&(S=1);e.Ng&&!E&&e.Af&&(S=-1);if(0!==L||0!==K||0!==N||0!==J||0!==S||0!==U)m="",0!==L&&(I+=1,m+="Loop"),0!==K&&(0<I&&(m=0<Math.abs(N)+
Math.abs(J)+Math.abs(S)+Math.abs(U)?m+", ":m+" and "),I+=1,m+="Stop"),0!==N&&(0<I&&(m=0<Math.abs(J)+Math.abs(S)+Math.abs(U)?m+", ":m+" and "),I+=1,m+="Waypoints"),0!==J&&(0<I&&(m=0<Math.abs(S)+Math.abs(U)?m+", ":m+" and "),I+=1,m+="Track"),0!==S&&(0<I&&(m=0!==U?m+", ":m+" and "),I+=1,m+="AutoStart"),0!==U&&(0<I&&(m+=" and "),m+="AutoFit"),m=0<K||0<L||0<N||0<J||0<S||0<U?m+" On":m+" Off",H=120;e.j.notification.notify(m,15,H,15,!0);break;case x.Kk:e.cb?(e.cb=!1,e.nb(""),(e.g.counter!==e.jc||e.xf||e.yl)&&
e.j.notification.notify("Pause",15,40,15,!0),e.xo=performance.now()-e.xo,e.rx&&e.j.notification.notify("Playback time "+(e.xo/1E3).toFixed(2),15,300,15,!1)):(e.Wc&&!e.Xe&&(e.g.la||e.g.L)&&(e.g.td||!e.g.td&&e.g.ud)&&e.Fz(e),e.cb=!0,e.nb(""),e.um=0===e.g.ia?!0:!1,e.Dv&&B.QH(e),e.j.notification.notify("Play",15,40,15,!0),e.xo=performance.now());break;case x.qq:if(e.cb)e.cb=!1,e.nb(""),e.j.notification.notify("Pause",15,40,15,!0);else if((e.g.la||e.g.L)&&null!==e.g.Yc){e.g.ud=!e.g.ud;e.g.ud&&e.nb("reverse playback");
e.nb("");for(A=0;A<e.tb;A+=1)e.g.we(!0,e.ce,e.Ac,e.Hb,e),e.g.re(),e.Nb=e.g.counter*e.Ma;e.g.ud=!0}else 0<e.g.counter&&(e.px(e.g.counter-e.tb),e.st(e.g.counter-e.tb));break;case x.Qe:e.cb?(e.cb=!1,e.nb(""),(e.g.counter!==e.jc||e.xf||e.yl)&&e.j.notification.notify("Pause",15,40,15,!0),e.xo=performance.now()-e.xo,e.rx&&e.j.notification.notify("Playback time "+(e.xo/1E3).toFixed(2),15,300,15,!1)):(e.Si=!0,e.nb(""),e.um=0===e.g.ia?!0:!1)}t=c;e.ox(e.cb)}return t};h.prototype.St=function(c,m,e){m&&(e.tg=
!0,e.g.angle=c[0]);return[e.g.angle,e.g.angle]};h.prototype.Vt=function(c,m,e){m&&(e.tg=!0,e.g.Na=c[0]);return[e.g.Na,e.g.Na]};h.prototype.Tt=function(c,m,e){m?(e.tg=!0,e.g.$=c[0]+.5|0,c=c[0]):c=e.g.$;return[c,e.g.$]};h.prototype.$l=function(c,m,e){return m?(e.tg=!0,e.g.Oe=c[0]*c[0],[c[0],e.g.Oe*x.bo]):[Math.sqrt(e.g.Oe),e.g.Oe*x.bo]};h.prototype.yK=function(c,m,e,t){var A=this.ef;-1===e&&-1===t?(this.bt=this.lH(),2<this.g.i&&!(this.g.Fa||this.g.L||this.g.fa||this.g.V)&&(A=this.g.i-A),this.bt=this.$o&&
this.bt===A?0:this.ef):(this.Jx(e,t),e=this.vk,t=this.wk,this.Jx(c,m),c=this.vk,m=this.wk,this.fu(e,t,c,m,this.bt)&&this.g.Lf());0<this.g.ia&&(this.ng=-1,this.g.Y=1)};h.prototype.Dy=function(c,m,e,t){t.Li&&!e&&(t.Eb.current=t.Gd(x.Qe,!0,t))};h.prototype.Ay=function(c,m,e,t){t.oI(c,m,e,t,!1)};h.prototype.vK=function(c,m){m=(c.Oi-m)/c.bs;-1!==c.Oi&&(0<m?c.mx(c,m):0>m&&c.nx(c,-m))};h.prototype.uK=function(c,m){m=(c.Oi-m)/c.bs;-1!==c.Oi&&(0<m?c.kx(c,m):0>m&&c.lx(c,-m))};h.prototype.wK=function(c,m,e){m=
(c.vo-m)/c.g.oa;e=(c.Oi-e)/c.g.oa/(c.g.P?x.he:1);if(-1!==c.Oi){var t=c.g.U||c.g.P?0:-c.g.angle;if(c.Kd)c.Wc&&!c.Xe&&(c.Eb.current=c.Gd(x.Qe,!0,c));else{var A=Math.sin(t/180*Math.PI);t=Math.cos(t/180*Math.PI);c.tg=!0;c.g.Ca+=m*t+e*-A;c.g.va+=m*A+e*t}}};h.prototype.qK=function(c,m,e){var t=c.cb,A=c.ld;c.Nk||(c.cb&&c.Dq&&(c.cb=!1,c.Eq=!0),t&&(c.ld=0,c.nb(""),c.ld=A),c.yK(m,e,c.vo,c.Oi),t&&c.nb(""))};h.prototype.xK=function(c,m,e){c.od||c.pK(c,m,e)};h.prototype.pK=function(c,m,e){var t=c.Pb,A=(c.g.width>>
1)-(c.kb>>1)+(c.Qb<<1),C=(c.g.height>>1)-(c.qb>>1)+(c.Rb<<1),D=c.g.la?-1:0,E=Math.round((c.g.width-c.g.Aa)/2)+D;D=Math.round((c.g.height-c.g.wa)/2)+D;var G=E+c.g.Aa-1,F=D+c.g.wa-1;-1!==c.xa&&(0===c.g.Aa&&(E=0,G=c.g.width-1),0===c.g.wa&&(D=0,F=c.g.height-1));if(-1!==m&&-1!==e)if(this.Jx(m,e),-1===c.Oi)c.EH=m,c.FH=e,c.ub=!1,c.Qh=!1;else{if(c.Ak)t.u=c.vk-A,t.v=c.wk-C;else if(m!==c.EH||e!==c.FH)m=!1,-1!==c.g.xa&&(c.vk<E||c.vk>G||c.wk<D||c.wk>F)&&(m=!0),m||(c.Ak=!0,t.l=c.vk-A,t.u=t.l,t.s=c.wk-C,t.v=t.s);
c.Ak&&(c.FE(c),A=(c.g.width>>1)-(c.kb>>1)+(c.Qb<<1),C=(c.g.height>>1)-(c.qb>>1)+(c.Rb<<1));c.Ak&&-1!==c.g.xa&&(E-=A,G-=A,D-=C,F-=C,t.l<t.u?(t.l<E&&(t.l=E),t.u>G&&(t.u=G)):(t.u<E&&(t.u=E),t.l>G&&(t.l=G)),t.s<t.v?(t.s<D&&(t.s=D),t.v>F&&(t.v=F)):(t.v<D&&(t.v=D),t.s>F&&(t.s=F)))}};h.prototype.dx=function(c){c.ub=!1;c.Qh=!1;c.nb("cancel selection");c.Ak=!1};h.prototype.tK=function(c){c.od?c.MB(c,c.vk,c.wk,!0):c.oK(c)};h.prototype.pr=function(c){var m=c.Pb,e=c.g.M,t=m.l,A=m.s,C=m.u,D=m.v,E,G=0,F=(c.g.width>>
1)-(c.kb>>1)+(c.Qb<<1),H=(c.g.height>>1)-(c.qb>>1)+(c.Rb<<1);if(t>C){var I=t;t=C;C=I}A>D&&(I=A,A=D,D=I);t<e.l-F&&(t=e.l-F);A<e.s-H&&(A=e.s-H);C>e.u-F&&(C=e.u-F);D>e.v-H&&(D=e.v-H);e=C+1;I=t-1;var L=D+1;var K=A-1;for(E=A;E<=D;E+=1)for(A=t;A<=C;A+=1){var N=c.g.getState(A+F,E+H,!1);0<N&&(E<L&&(L=E),E>K&&(K=E),A<e&&(e=A),A>I&&(I=A),G+=1)}0<G&&(m.l=e,m.s=L,m.u=I,m.v=K)};h.prototype.oK=function(c){var m=c.Pb;if(c.Ak)if(c.ub=!0,c.Ak=!1,c.Qh=!1,c.qk&&c.pr(c),c.ub){var e=m.u<m.l?m.l-m.u+1:m.u-m.l+1;m=m.v<
m.s?m.s-m.v+1:m.v-m.s+1;c.nb("selection ("+e+" x "+m+")")}else c.dx(c)};h.prototype.sK=function(c,m,e){-1!==m&&-1!==e&&(c.rA=!0,m=c.lH(),c.ft?(c.yN(m),c.ft=!1,c.hi.current=c.dl([!1],!0,c)):(c.bt=m,c.bk(m)))};h.prototype.rK=function(c){c.Eq&&(c.cb=!0,c.Eq=!1,c.j.cg(!0));0<c.ld&&(c.g.mh(),c.nb(""))};h.prototype.oI=function(c,m,e,t,A){-1!==c&&-1!==m&&t.j.hasFocus&&(e?(t.Uc.current[0]||(t.ha?t.vK(t,m):t.pc?t.uK(t,m):!t.se&&!t.ah||A?t.wK(t,c,m):t.se?t.qK(t,c,m):t.ah&&t.xK(t,c,m)),t.vo=c,t.Oi=m):-1!==t.vo?
(t.ha||t.Uc.current[0]||(t.se?t.Nk?t.sK(t,c,m):t.rK(t):t.ah&&t.tK(t)),t.vo=-1,t.Oi=-1):t.ha||t.Uc.current[0]||(t.Nk?t.j.notification.notify("Now click on a cell",15,180,15,!0):t.od&&t.j.notification.notify("Now click to paste",15,180,15,!0)))};h.prototype.Um=function(c,m){8>this.g.zoom&&(0>c?c=-8:0<c&&(c=8),0>m?m=-8:0<m&&(m=8));this.Oi=this.vo=0;this.oI(c,m,!0,this,!0);this.Oi=this.vo=-1};h.prototype.cu=function(c){var m=x.fs;null===m&&(m=new Image,m.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABuAAAAAoCAIAAACAQassAAAABnRSTlMAAAAAAABupgeRAAAT0klEQVR4nO2dSZLcug5FlS+8E2/Ky/DYc8+9Y/2BfjFYBBsQBMBG9wwysigKABuwgajK6wIAAAAAAAAAAAAAAAAAANDi9+/fpulvxrpuUecv5Gl02vTW6UmeSga7qwAAAAAAAABwXdeP2QYAoM9930nK5/NxkDxL7yzu+/Yxw00RAFP49+/f79+///3755Yui4+PXI15PNrnk2kS2B3MRwAAC2Quj4ECAKDLe9Y5CFCCY7FwrXo4cq5ef2gIQGVEs5B5AKgHoAgNYj7hRZqudTWA6CSwAPMRAEBMl6dzxgEMFAAAXSauc0LwwWJko8L/U9cBwAo8PmwnvzQizNI7i7eVF4AjyZ67NLrqFp1c51kO8AHzEbiu6/7ObHPAHiSuHQ8m1OsxDgAApjB9naOuPSsQAUpwLHY+XPfeWXpn8bbyAnAqz5vgRlfD9+SEo9EnRo93gvmoNyq3XQjvbnFd1+cLZn4AErr8PduR0LUAABZMX+coai+Jwive4GQstqkcgbP0zuJt5QXgJDyPT14u0cMkBgpmkT2CFK9Hu9KZrYn56OrcZohLJ96lDFZm6XZakBCjrNwyYgk4FU7PifP4dKTtBiIAgAX+65xklFPRngybGNzA4SQ93i7S3/WnnV7KlF+U1jqMsPihhlm/4r1yncQs2HwLmpSwwq94J5nHr9Z7cmiR7Dmm0vmmZnqiRUD5oFVGrxZTlDpg1Lh81WLLxXKmNxa/24x3MNmNg1VUub10SXDL4mw9LKxPvcM0u1mcR7el1Bt91hA9cWoA4Bj81zn3d0qXetOp9qF/AGxBqYJ6H352GR8LGSm1eqVpGSZWHZSq1DNHTqJXC5WmEQhx0NsVQ1QheVszuar+REVFZkUXU/jcer7MxmRdsROHrCxJX1rBJEp8zNDtO/2SNUn96kPc60IbKR6yu3knKGkG5hLNbqLnK+313GzVWTssc0LXqvbp85HRAqYXZrNmXa9XkeDewUmncnulI/EPXZqitSYM3/n/LMzCFzgsrpffItn5YnBY7rVn5GrplueL5yH3iXpVUPfiOtMnFLAUi6xzaM4u/5XvzkoRTWvuAlr5m0IGzZbd3rTKuS2oRpV65sjxL+yRTDlBuR3jzuVZzxZOoT7u0Sqd6M4qQ5Y1s05Nzrp6ffVk9R5CuyInP2eaM+1IMqUCM+pyFEskwK22HVjE2mbtqdRtXXjvXYNKV5DGUTdefL536DpR00+NnHeW3qwl9Hs2MUnpskdmvPguxTZaX6+KunGNK3TmdzKlPs9rysH+ybm9/SM5J1WoBYr1wxdl2iiLNPciZoCDSZ7wvLDLhV8UEdx7VxflSfqUBUFX+izoGcPn12bs0uOrFauMrl7kX+eE37IYJJZzd/5TMOr+nxz1W3qZohS8hNL5hVIK8ERc/9kb0ZqDZMfVOxdYDNNKnB77Gp13BKusrskrWCubRi3m35X1itHd7DvcAigTtySHIXv3KJu55L/cH8m513hvZSl0+zfHbZJL4gmJY8YKWBQQgCsa0AQLwZM41cXe3KZMQgxR6z9ONq+GUOnNe/96hC75zNVSuJSE5sfj+wKlAo3gbcSzW6mjGvngkdNKQMUBBUNHfXdwdp2bQteBIQqZBPpDOKy5dBxsEXpvfcrQav14duZ/qqheFky4Z+AQQnkVH9Fv5vCXvn2/4o0w5YP6aDXyNFWxORYchd82gvBdd316u5N/YePl5oKdf3Fkk1NXTgHNdtzapxQJ5xxLRyztrjrsasR7J05+cc9XVOpJ0AvfOQOjFSw9s4kOU6d36AiZS8f3PKnrtRusLPTS+SIbHwyDcPZQZLhdcGSyaV5Wna6WC9FJgsOcO8uP3kbp7PlhHThZrcWjBP1+DQ8gvYvhrhBHX4AyVnBYozI5eLBYtmjnjSDvgd9wnt0vjGDhlQ23l0SWQiWwIngRSUV1RTjgoPIzOHXJJVY7QRnf1SW/367/I4svzIpRBr2CtZ/WcnGXZWfp4NWIzMFzWJVDlNb1WT/xV7qk1VsE+dfvYMCCSjgyCVnSGHElpqlC/eyz7jQqiE6eukHDYvIkXnX2PC5O/btKJ+fHKHsPYLX/B2WJsLd/CablFbuHll8t3pSLmwe2g6410cccMK1kjvDDFiIjiCOMyW+Cd119SHY1Wt4Xy4lPu3RJ4GcWR6DEp5/8xyjTgTEreXcP/XyRTZQxblL4HjeoblwjG/r0L2xi0hTVXUb6KwUlaHNkGyh+qv3JzQKKY2YzevIZfmqVnTe7PqmcXr1a9quA7QAATSpriaz7lKKTFXeTByiboo9hYhl9Fk9btOAWRoL16X2GcyoWjw2TunX22WZxOOW9q+jmeSjF+OzSE/x/LecWRQ+7+EhPdnRZld2d8uV3mTdxBryjf4WhKLN06bVjsh1uVRrGt7MXbILoJ13Jo5+vzOfrhFHoz+F7afIKt4QvrhZrIIhO7ljMEnR59lrUq2Ju3WYDKQ7RFX+6iqNY9nqM8hbtu4uZBD1JpaglvSXhvfmbQgRbDrHekg0VObJm5utNiIPc9QyD6pqKZOq2Q9C+zQCEOvX3NwNdAQJZNKGXsL6kiTQ9YXo961aRojTmOJmsZa3Do1Q7U0hl7I03HpUle68xyalDt+9NA3SvxtzfT17QOhEQy7nJ+Y5S/oSRGY1z74gLDBqcVV2xJ9mNyxqIOeRWUmKOXwCYotKgVCZdM9dV1LVzJqZmnlKGcdXjqFQ+fxjRnXNfqJdO7jRDoj0exEZs4N8+oqg0b/I/qZxevSOoOxSTwZZlyjFdM3P06gZ2ps/g0+vTWa8d9aXdQ3Y3VFpn9umW0VdEtl6t/E0hdbEWxR8vr0Aps5jNnFoaBSaBCqVomlY6h67GcmjZUhfq7VfWdVtKZxrJyTZY27TGmm5r7cixzBFdlcyx/NJnxYa6PU+jZ09BmqYnGUp5VK4G4kq79B6tJ3LU+1hdL1OdUf+34M7NyypimR5qN1zYsbLBwTBFCzkDZsmMXoH8PHaqx1F3Iq2cr9XbZSGz/yTZZJVgVAR6L7W895PK6dWrZb/sdgHjNvv7ER9FvbOKsJQxbnp7fXBEUfb2Xq+p1MnoK95dyrbA2f6srkosufJYWEX1+mxq9kX8VpznDGaVrv7AZ3fu70tGOxXWWrq4vz+C8zkFUzlKIOB5G5oeNrROTxj59Zvm1fA9qS6tt2xiOaFRxsW+k8H+XBHLz7zdQYP76134lfvedMO0/H0v1bENcw0wJbt2FS9odaWVoKe2K+uo4Nr0auXlCf5ByMGiCSRk503BCcpe57KY97s4fpMVuPtJbh9RrWgJGESxPkt+1xu/qvivfoDyAR1rcbZuna2NBw9LLdOXMkaFio/ceqEHsScqVvj9PTppqiuWmV2sqytyw/M/UTpU13jI+M2Umgb1WWfl+qFtekenKe1W7Nntrs9QOVH1a9GdiP2n9StaICWBy9Bz4qu0O8VTT29nC483RoowIkEQndzRoTAO9CKrLlSyP3XfT64arVh6A5clrAKUAACQEE9XzlNXNozVjG3txR2d33kWjg6VLFBhHZ2ME40at7RYt9B1Hg7Vte/e6Wy6Gn3T5nsG3qVGg7gmY8PolDHDOnAUWrtTC2mUOEx/RdHJkstcJF6ZNS9ehGzkVoLo5FIDHQAgYeK+exCrAKXW4W1gxNats7XxbyZuOM9GPCwQmYWuFLN7zvEFJb191pw3Kzp5nXiC0vTl7uzPPeEE5V7IKpM+JklmgfhpSmUlvcuZlxDym21InnhgpHZaeGVWi0/9TFT9cnTP6Zie+kl8oSKcRvZpYnJ18FkF0x8VZzpBdHKLYTlh1jhAp7lS4mrIqguDrT+0I1X23Ua9LitWoEs/QLn7CsDZ/qyuSkNmL71q7NjUbBBoPn+2UMdP35HKCjVs/i+9Iq/gg3OPxJ56lMD0Re/wPakurdV5LGffvdNcwo46uxvXoilt04ZbbRBYausbT0POJtmpXqRuFyQ4gopH6EqjVHb1lUe8SaeKjQwpSw0IWbLzZtcnldOrV8v+Lvxbhxn+ttDbi5ZtVNSIJUCM+r675He98auK/2oGKE/qTJ5lGdE1aOd27bWdwTGcYfcNQ/PH+HRbRWkgDIgHVHJzV/z0Jd2t1Nx6mxudvAxOUD7HDLO/vm2aHl+t26Z41SF6+PEKGYtLsUtow8jOStPsUjNZ7ohsogCxGcla4hOFEiorkK3r3xNUVB3dRazpkjiWTJs13tvHTsQ0bKSfNP1Rd5orLWzqn1rap+C81crqWnkbMm7byqU7j8rMTq+qN00yGlDn6houdNaIioUs6S2p6M3fFEJv9KmKrJb6rDmirqk6ka9Szxw5HGOOgTozTWkKqZxaMqL5W8APXSsno2hCKRApCGZNr2daRb2l0K1k2cJ03IBsqQUNWhFe4vP13pZKnkAcxfP8njXA9M/ATc6h6HaMm5zvMKK+eBjP70xSY6Xxs0sg53bmYLJgjS1IqduH9LpfaE3cMu/j3NXMY6c6zvx8mdIn+cOI7oCz+PB1iSwMY1QyKyXOQucUz1mm7tGDwq/cvMn/pHJ69WrZryKKyYjGWf7LR7FWjQSOmPHgX5/+eu2gDVoJXzQv9dVJ5jFujr4CDejVyt8U0qtIq0KY8rXUMbXzM6ymaAtoGbVKXTkqpZLOoct+oybO1qRip/KsZ7tSiCl5awUVjZzEXciedjRNZxpgcfUhjHXhT5XmS+Q4dAlZx1Z0B11KQ6Wbartx41WUqiv2OMHtvZllrca5q5nHTnXIqYLASGqAVk5dvbOQWXh/X35nr3ISqUC+DRwL+QZ0Sb7JvNn7SeX06tWyX0ugnfPGWrqMGdQIrnn16aZXMO6JFSXjRr2MpQySOrF2zl69WvmbQmTmDVZLU6y6RqYNTQu1Sso04zBoMbUKjgBlEEvrU7FTTQxQZlP8KXl009PFujiJu+PQr8KlbB7m1V6lAesmC8OpqQpxr15zdkvs8bTQdNx4FfW64vhFV22rtxrnrmYeO9WXXnRypFfzhaioM5JmgdjCO1of0sQk5W75UelGMeoCK1p6P4/EznnFZvhoPBvn+vTvQl1itWxglqu3+D8EppxxPFUG5/W9TVn2n4m8ub/tzmo9KthzRqdaoRRd44b6v7N5VK9QD9sR/iVl9hVsu6vXdd32b8ZZy1cc2UztFBAXbSnDtuCwKaZJ/VVxT0sAGCH05PrL1OHzzr0PTqVVUnrNSxzKYoQRvN+92vylxcGbfXA28bYoWZBkL6moC1RGg2QQaw4dfQHKI4chAeojlzg4qNsiC8Yo0eX2BW33EpjjxmB/oCoQnRyhfkaSZhu/GuKVDrsa073T+Eaxd6EGtqAes1iHimusbPYiLLhOpmQt1I2eUxX+PceuIZqri/iS+r92bWo0AtHJBIQpwQiVycLIcepPSuioNUjvYrhr6csNUJ49BsnQHblCsyX/cphqvCx35kutvY7vdepPWQEHVLI6/uMGopODNM852l3d9wSl4p6cLtRGpFmguH4dF7Vg/VAWNw9oETvvmo3uvzHenWS+aIbvaZwue6kusNfC+E+jDaDg83gQpgRiskPxGY4jG5H4Mcr/OLLOqEojFOuHL8q0URZp7kXMAIeBfrUjyYsJyX4ACCj9vrb11Sv3fpzK0j+WE7aI42KDZPVVJu3DJUW7k5TojnhSaFV8IvwM1SAMULMNqfF4R7JPWN/sdVi/orIWrm/2FELPD06ReAcdqEM69Zpfv379+fMnETjO5zsqMi+b+XdlvWJ2nIzACtC1zSxLFBl5XlIaThNqAUp4Ix+LuprYp6e3u7oBWhPhLnrduAn+Mmn+m5xu2HSvC2LCFvqkdsz+EHY43miRHlPPYHT1zkUPmzGsZnr8Z3bfqIjug0kVOV1URsuth8oV5qOn9mbN2hXVNznSFcKU542rDqxfXUdujC34fH+DreQOyXoySQz8/Pnz79+/NOcg6iNbIryki5m+l14xGCeBgMpwIWD6OucuRCf5/suJUcLNwIEkC/Fbb6dalzxF78gPbcuovLl5TXqbj45u6muI6fWs2J3AUsRHDj2/c+wZuVrJeX8/Qfl8SYa48L0rPd5harlMaTWmiIOKt+E/H93kDdBB1TJKqp1Nkqnj3NXMY6d6R7Qc4VXc3+OVF6MCk2zxHLRy17KYf1fWC8BJTFnnxH+q+C+9BMCZxJ1e/QlbRfgsvZRSNE0rnXJ/vRfDzO8jygLruq2cO2NYB7bkafTsKUjT9Pgq/a57NeDj4PCXNzNrPmoeHxAgszlZMPi7g115m3k8qxq8lrjPlDqPbqdCRwUABG73dY76jIkpGLyL5qLBSP4svRTnAKVuwa2rcRAEKIEFs/pVcjWbTeVqjHVnVly3ge141XxU4dRFvzj+WGJ2gcBOlJb9nMwAAKCC/zrHaN4siW3/SA4Am3KbvVVR/w9Ts/TO4m3lnYj6xsxovgGbYvrLOeH7Hf0PSqPPxd+qA3ZgPgps/e9EK3y0mV0gsARM747f+27ei94FAFBn+jpHUXtJ1A8tBQAshfXutOTDs/TOwqe8WORdWOkCSzx/LSf5z1zWn7IKATuC+QgAIIP6dd3Zb/y0FADAnenrHHXt2cgGApTgWOLuruVOnODgLL3+0CFMpbxUJvaEAOgy+Ca44GoA0UlgAeYjAIAi4bAk9feQcuM3iAAAXkxc51hHRZMUBCjBgdh5UV3yLL2zcLNqzeIDsC/0dewnvFh6TXv8auBxZ59P8B4wHwEA1Jm17AcAgASscwAAAAAAAAAAAAAAAMCc/wGQhFXdVOILKwAAAABJRU5ErkJggg==",
x.fs=m);this.Z=new IconManager(m,c);this.Z.add("play",40,40);this.Z.add("pause",40,40);this.Z.add("tostart",40,40);this.Z.add("menu",40,40);this.Z.add("stepback",40,40);this.Z.add("stepforward",40,40);this.Z.add("autofit",40,40);this.Z.add("fit",40,40);this.Z.add("grid",40,40);this.Z.add("shrink",40,40);this.Z.add("draw",40,40);this.Z.add("hexgrid",40,40);this.Z.add("lines",40,40);this.Z.add("pan",40,40);this.Z.add("pick",40,40);this.Z.add("states",40,40);this.Z.add("hexagongrid",40,40);this.Z.add("trianglegrid",
40,40);this.Z.add("inside",40,40);this.Z.add("undo",40,40);this.Z.add("redo",40,40);this.Z.add("drawpause",40,40);this.Z.add("invertselection",40,40);this.Z.add("autoshrink",40,40);this.Z.add("selectlibrary",40,40);this.Z.add("cut",40,40);this.Z.add("copy",40,40);this.Z.add("paste",40,40);this.Z.add("flipx",40,40);this.Z.add("flipy",40,40);this.Z.add("rotatecw",40,40);this.Z.add("rotateccw",40,40);this.Z.add("random",40,40);this.Z.add("smart",40,40);this.Z.add("outside",40,40);this.Z.add("select",
40,40);this.Z.add("reverse",40,40);this.Z.add("uturn",40,40);this.Z.add("nudgeright",40,40);this.Z.add("nudgeleft",40,40);this.Z.add("nudgeup",40,40);this.Z.add("nudgedown",40,40);this.Z.add("shrinksel",40,40);this.Z.add("cancelsel",40,40)};h.prototype.yH=function(c){var m=!1,e=null;""===c&&(c="Life");try{e=this.C.create("","x = 1, y = 1, rule = "+(c+"\nb!"),this.g.A,null,null,[],this)}catch(t){e=null}e&&e.Pe&&(m=!0);return m};h.prototype.DE=function(c){var m=window.prompt("Change rule",(""===c.rd?
c.Kb:c.rd)+c.en);if(null!==m)if(c.yH(m)){""===m&&(m="Life");var e=m.indexOf(":");-1!==e?(c.Kb=m.substr(0,e),c.en=m.substr(e)):(c.Kb=m,c.en="");c.rd="";e=c.g.Ju(c,c.g,!0,c.g.i,c.g.i,[],!0);c.Nd&&(c.J=c.Ym,c.H=c.Xm);c.ki(e,!1)}else c.j.notification.notify("Invalid rule",15,180,15,!0)};h.prototype.gz=function(c,m,e,t,A){var C=this.Kb;""!==c&&(C=C.substr(0,C.length-c.length));this.rd=this.Kb=C+=m;c=this.g.Ju(this,this.g,!0,e,t,A,!0);this.Nd&&(this.J=this.Ym,this.H=this.Xm);this.ki(c,!1)};h.prototype.OJ=
function(c){c.gz(c.g.ta?"History":"","Super",c.g.ta?7:2,26,c.g.ta?x.GL:x.wO)};h.prototype.MJ=function(c){c.gz(c.g.V?"Super":"","History",c.g.V?26:2,7,c.g.V?x.BO:x.vO)};h.prototype.NJ=function(c){c.gz(c.g.ta?"History":"Super","",c.g.ta?7:26,2,c.g.ta?x.FL:x.CO)};h.prototype.PE=function(){var c=this.g.za.gh;var m="",e,t;var A="R"+c+",C"+(this.g.za.Vo+",");c=this.C.Js(c,this.g.za.type,this.g.za.Ei);switch(this.g.za.type){case this.C.ih:m="FC"+this.g.za.Vf+"E"+this.g.za.Wf;break;case this.C.be:m="";break;
case this.C.Nf:m="N";break;case this.C.xk:m="C";break;case this.C.Fk:m="2";break;case this.C.vj:m="+";break;case this.C.Vj:m="X";break;case this.C.Zj:m="*";break;case this.C.Ki:m="H";break;case this.C.tj:m="B";break;case this.C.nj:m="D";break;case this.C.Ej:m="#";break;case this.C.nm:m="@"+this.g.za.Me;this.g.U?m+="H":this.g.P&&(m+="L");break;case this.C.ni:m="3";break;case this.C.Th:m="A";break;case this.C.cj:m="L";break;case this.C.Hi:m="G";break;case this.C.yp:m="W"+this.g.za.Me,this.g.U?m+="H":
this.g.P&&(m+="L")}var C=this.$b.random()*c/c;A+="S";var D=-1;for(e=t=0;t<c;)this.$b.random()<C?-1===D&&(0<e&&(A+=","),A+=String(t),D=t,e+=1):-1!==D&&(D!==t-1&&(A+="-"+String(t-1)),D=-1),t+=1;-1!==D&&D!==t-1&&(A+="-"+String(t-1));0===e&&(D=this.$b.random()*c|0,A+=String(D));A+=",B";C=this.$b.random()*(c-1)/(c-1);D=-1;t=1;for(e=0;t<c;)this.$b.random()<C?-1===D&&(0<e&&(A+=","),A+=String(t),D=t,e+=1):-1!==D&&(D!==t-1&&(A+="-"+String(t-1)),D=-1),t+=1;-1!==D&&D!==t-1&&(A+="-"+String(t-1));0===e&&(D=this.$b.random()*
(c-1)|1,A+=String(D));""!==m&&(A+=",N"+m);return A};h.prototype.QE=function(){var c=this.g.za.gh;var m="";var e="R"+c+",C"+(this.g.za.Vo+",");e+="M1,";c=this.C.Js(c,this.g.za.type,this.g.za.Ei);c+=1;switch(this.g.za.type){case this.C.ih:m="FC"+this.g.za.Vf+"E"+this.g.za.Wf;break;case this.C.be:m="M";break;case this.C.Nf:m="N";break;case this.C.xk:m="C";break;case this.C.Fk:m="2";break;case this.C.vj:m="+";break;case this.C.Vj:m="X";break;case this.C.Zj:m="*";break;case this.C.Ki:m="H";break;case this.C.tj:m=
"B";break;case this.C.nj:m="D";break;case this.C.Ej:m="#";break;case this.C.nm:m="@"+this.g.za.Me;this.g.U?m+="H":this.g.P&&(m+="L");break;case this.C.ni:m="3";break;case this.C.Th:m="A";break;case this.C.cj:m="L";break;case this.C.Hi:m="G";break;case this.C.yp:m="W"+this.g.za.Me,this.g.U?m+="H":this.g.P&&(m+="L")}var t=this.$b.random()*c|0;e+="S"+String(t);t=(this.$b.random()*(c-t)|0)+t;e+=".."+String(t);t=(this.$b.random()*(c-1)|0)+1;e+=",B"+String(t);t=(this.$b.random()*(c-t)|0)+t;e+=".."+String(t);
return e+(",N"+m)};h.prototype.TE=function(){var c="W";var m=2*(127*this.$b.random()|0);return c+=String(m)};h.prototype.RE=function(c){var m="B",e,t,A=8,C="";if(this.g.U)switch(this.g.Ug){case this.C.$p:A=6;C=this.C.Tv;break;case this.C.ds:A=3,C=this.C.bA}else if(this.g.P)switch(this.g.ie){case this.C.tp:A=3;C=this.C.Pt;break;case this.C.er:A=6;C=this.C.Gx;break;case this.C.fr:A=6;C=this.C.Hx;break;case this.C.up:A=9;C=this.C.Rt;break;case this.C.Kn:A=12,C=this.C.Qt}else this.g.Ne&&(A=4,C=this.C.Px);
var D=new Uint8Array(A+1);var E=new Uint8Array(A+1);var G=t=50;-1!==this.Hl&&(G=t=this.Hl);-1!==this.Il&&(t=this.Il);-1!==this.mn&&(G=this.mn);for(e=0;e<=A;e+=1)D[e]=t,E[e]=G;-1===this.Hl&&-1===this.Il&&(D[0]=25);for(e=0;e<this.ii.length;e+=2)this.ii[e]<=A&&(D[this.ii[e]]=this.ii[e+1]);for(e=0;e<this.Qj.length;e+=2)this.Qj[e]<=A&&(E[this.Qj[e]]=this.Qj[e+1]);for(e=2<this.g.i||c?1:0;e<=A;)100*this.$b.random()<=D[e]&&(m+=String(e)),e+=1;m+="/S";for(e=0;e<=A;e+=1)100*this.$b.random()<=E[e]&&(m+=String(e));
2<this.g.i&&!this.g.V&&(m+="/"+this.g.i);return m+=C.toUpperCase()};h.prototype.SE=function(c){var m=c?this.C.GM.toUpperCase()+",":"M",e,t=!1;var A=0;var C=[];var D=this.g.jg;if(this.Yw){t=new Uint8Array(16);c=new Uint8Array(16);for(e=0;16>e;e+=1)t[e]=e,c[e]=D[e];for(e=0;16>e;e+=1){var E=D[e];for(A=c=0;16>A;A+=1)E===D[A]&&(c+=1);var G=new Uint8Array(c);for(A=c=0;16>A;A+=1)E===D[A]&&(G[c]=A,c+=1);C[e]=G}for(e=1;16>e;e+=1).5>=this.$b.random()&&(G=C[e],c=this.$b.random()*G.length|0,c=G[c],D=t[e],t[e]=
t[c],t[c]=D);for(e=0;15>e;e+=1)m+=t[e]+",";m+=t[e]}else if(this.Vw){e=16;c?(c=0,A|=1):(c=16*this.$b.random()|0,15==c?(t=!0,A|=32769,--e):(c=0,A|=1));m+=String(c);for(--e;65535!==A;){c=this.$b.random()*e|0;for(E=0;0<=c;)0===(A&1<<E)&&--c,E+=1;m+=","+String(E-1);A|=1<<E-1;--e}t&&(m+=",0")}else{c?c=0:(c=16*this.$b.random()|0,15===c?t=!0:c=0);m+=String(c)+",";for(e=1;15>e;e+=1)c=16*this.$b.random()|0,m+=String(c)+",";c=t?0:16*this.$b.random()|0;m+=String(c)}return m};h.prototype.ot=function(c,m){var e=
"",t,A,C=0,D,E=[],G=c.Uw,F=c.Zw,H=c.Sw/100,I=!1;-1!==c.Kb.indexOf("|")&&(I=!0);if(2>=c.g.i){E[0]="b";E[1]="o";var L=2}else for(L=c.g.i,E[0]=".",A=0;A<L-1;A+=1)E[A+1]=24<=A?String.fromCharCode(112+(A/24|0)-1)+String.fromCharCode(65+A%24):String.fromCharCode(65+A);-1!==c.g.je&&(G=1);for(t=0;t<G;t+=1){var K=this.$b.random()<=H?(this.$b.random()*(L-1)|0)+1:0;for(A=D=1;A<F;A+=1)C=this.$b.random()<=H?(this.$b.random()*(L-1)|0)+1:0,C!==K&&(1<D&&(e+=D),e+=E[K],D=0,K=C),D+=1;0!==C&&(1<D&&(e+=D),e+=E[C]);t<
G-1&&(e+="$\n")}e+="!\n";c.pt||m||(c.g.fa||(c.g.la||c.g.L?(c.Kb=c.SE(c.g.L),I&&(c.Kb+="|"+c.SE(c.g.L))):c.g.pa?c.eE?(c.Kb=c.QE(),I&&(c.Kb+="|"+c.QE())):(c.Kb=c.PE(),I&&(c.Kb+="|"+c.PE())):-1!==c.g.je?(c.Kb=c.TE(),I&&(c.Kb+="|"+c.TE())):(c.Kb=c.RE(I),I&&(c.Kb+="|"+c.RE(I)))),c.g.ta&&(c.Kb+="History"),c.g.V&&(c.Kb+="Super"),m=AliasManager.Vr(c.Kb),null!==m?c.rd=m:c.rd="");m=c.g.Fc;m+="x = "+x.Kq+", y = "+x.Kq+", rule = ";m+=(""===c.rd?c.Kb:c.rd)+c.en+"\n";m=m+e+c.g.Kg;if(c.ek.locked||c.Tw||window.confirm("Create new random pattern?"))c.Nd&&
(c.J=c.Ym,c.H=c.Xm),c.ki(m,!1),c.xC(c)};h.prototype.pG=function(c){var m=window.prompt("Create new pattern with rule",(""===c.rd?c.Kb:c.rd)+c.en);null!==m&&(c.yH(m)?(""===m&&(m="Life"),c.Nd&&(c.J=c.Ym,c.H=c.Xm),c.ki("x = 1, y = 1, rule = "+(m+"\nb!"),!1)):c.j.notification.notify("Invalid rule",15,180,15,!0))};h.prototype.eI=function(){this.Ji.icon=this.g.U?this.g.sc?[this.Z.icon("hexgrid")]:[this.Z.icon("hexagongrid")]:this.g.P&&!this.g.sc?[this.Z.icon("trianglegrid")]:[this.Z.icon("grid")]};h.prototype.Sy=
function(c,m){c.j.hasFocus&&(c.Xn||(c.wheelDelta=-m.deltaY,1===m.deltaMode&&(c.wheelDelta*=45),c.j.cg(!0)),m.preventDefault())};h.prototype.ND=function(){var c=this.X.wE(0===this.Ft?0:this.Dh/this.Ft),m=this.yn,e=this.Qr,t=this.zn,A=this.Qp;this.g.Ca=this.g.width/2-(this.An+c*(this.vl-this.An));this.g.va=this.g.height/2-(this.Bn+c*(this.jo-this.Bn));this.g.zoom=this.bp*Math.pow(this.ko/this.bp,c);180<e-m?m+=360:-180>e-m&&(e+=360);this.g.angle=(m+c*(e-m))%360;this.g.Na=t+c*(A-t);this.vv&&(this.g.Oe=
this.QC+c*(this.Mz-this.QC),this.md.current=this.$l([this.g.Oe,this.g.Oe],!1,this));this.iw&&(this.g.$=this.SC+c*(this.Nz-this.SC),this.ue.current=this.Tt([this.g.$,this.g.$],!1,this));this.Dh+=1;this.Dh>this.Ft&&(this.Dh=-1,this.g.zoom=this.ko,this.g.angle=e%360,this.g.Na=this.Qp,this.g.Ca=this.g.width/2-this.vl,this.g.va=this.g.height/2-this.jo,this.vv&&(this.g.Oe=this.Mz,this.md.current=this.$l([this.g.Oe,this.g.Oe],!1,this)),this.iw&&(this.g.$=this.Nz,this.ue.current=this.Tt([this.g.$,this.g.$],
!1,this)));this.Cc&&(this.Cc.current=this.fl([this.g.zoom,this.g.zoom],!1,this));this.Xd&&(this.Xd.current=this.St([this.g.angle,this.g.angle],!1,this));this.We&&(this.We.current=this.Vt([this.g.Na,this.g.Na],!1,this))};h.prototype.dK=function(){var c=this.X,m=c.qf.length,e,t=this.kb,A=this.qb,C=c.Kp();for(e=0;e<m;e+=1){var D=c.qf[e];C.ci=!0;C.x=-D.x+t/2;C.ig=!0;C.y=-D.y+A/2;C.Qf=!0;C.zoom=D.zoom;C.ke=!0;c.add(C);e<m-1&&(C=c.Kp())}};h.prototype.FC=function(c,m){var e=c.X.yc[m];c.An=c.g.width/2-c.g.Ca;
c.Bn=c.g.height/2-c.g.va;c.bp=c.g.zoom;c.yn=c.g.angle;c.zn=c.g.Na;e.ig?c.vl=e.x:c.vl=c.An;e.Qf?c.jo=e.y:c.jo=c.Bn;c.ko=e.ke?e.zoom:c.bp;c.Qr=e.Sh?e.angle:c.yn;c.Qp=e.mi?e.Na:c.zn;c.g.U&&(c.vl+=c.g.va/2);c.vv=e.Gi;c.vv&&(c.QC=c.g.Oe,c.Mz=e.depth/x.bo);c.iw=e.Pi;c.iw&&(c.SC=c.g.$,c.Nz=e.$);c.Dh=0;c.Ft=e.Ok;c.ND();e.So&&c.oH(c);e.qh===WaypointConstants.play?c.Eb.current=c.Gd(x.Kk,!0,c):e.qh===WaypointConstants.stop&&c.cb&&(c.Eb.current=c.Gd(x.Qe,!0,c));e.Ig&&c.qn(e.Mc,c.g.im,c);c.j.notification.notify("POI "+
(m+1),15,60,15,!0);""!==e.gg?c.j.notification.notify(e.gg,15,180,15,!1):c.j.notification.clear(!1,!0);e.Cn&&(c.jc=e.jc);e.Mm&&(c.jb=e.jb);e.Xf&&(c.lc=Math.sqrt((e.Hc-x.Qi)/(c.Ma-x.Qi)));e.wf&&(c.tb=e.step);if(e.Xf||e.wf)c.Ue.current=c.fk([c.Tl(),1],!0,c);e.Et&&(c.g.counter>e.nc&&c.oH(c),c.g.counter<e.nc&&(c.Xn=!0,c.fz=e.nc,c.ez=!1));e.Al&&(c.g.qc=e.zd);e.wx&&(this.Xi=e.xn)};h.prototype.Ci=function(c,m,e){var t=m/c.g.Bc;e&&(m=1<=m?Math.round(m):1/Math.round(1/m),t=m/c.g.Bc);c.Kd||(c.An=c.g.width/2-
c.g.Ca,c.Bn=c.g.height/2-c.g.va,c.bp=c.g.zoom,c.yn=c.g.angle,c.zn=c.g.Na,c.vl=c.An,c.jo=c.Bn,c.ko=t,c.Qr=c.yn,c.Qp=c.zn,c.Dh=0)};h.prototype.LB=function(c){c.Ue.current=c.fk([1,1],!0,c)};h.prototype.yy=function(c){c.MD(c)};h.prototype.Rz=function(c){c.kC(c)};h.prototype.vp=function(c){c.Hb&&c.Zv(c);-1!==c.Gg&&c.Bt(c,!0,!0)};h.prototype.rr=function(c){c.Pl||c.Ql||c.Rl||c.Sl||c.Xk?(c.Pl=!1,c.Ql=!1,c.Rl=!1,c.Sl=!1,c.Xk=!1):c.Uc.current=[!1]};h.prototype.zu=function(c){c.Rl=!0};h.prototype.eu=function(c){c.Pl=
!0};h.prototype.$t=function(c){c.Sl=!0};h.prototype.mu=function(c){c.Ql=!0};h.prototype.su=function(c){c.pG(c)};h.prototype.Lz=function(c){c.ot(c,!1)};h.prototype.rv=function(c){c.ot(c,!0)};h.prototype.tA=function(c){c.xC(c);c.j.notification.notify("Saved",15,120,15,!0)};h.prototype.qu=function(c){c.OF(c)};h.prototype.$z=function(c){c.DE(c)};h.prototype.ZB=function(c){c.Xk=!0};h.prototype.ye=function(c,m,e){e&&(m[0]?(this.qn(x.It[c],1,this),this.Uc.current[0]&&(this.Uc.current=this.lp([!1],!0,this))):
(this.Uc.current[0]&&(this.Uc.current=this.lp([!1],!0,this)),m[0]=!0));return m};h.prototype.fE=function(c,m,e){return e.ye(0,c,m)};h.prototype.jE=function(c,m,e){return e.ye(1,c,m)};h.prototype.ky=function(c,m,e){return e.ye(2,c,m)};h.prototype.my=function(c,m,e){return e.ye(3,c,m)};h.prototype.ny=function(c,m,e){return e.ye(4,c,m)};h.prototype.oy=function(c,m,e){return e.ye(5,c,m)};h.prototype.py=function(c,m,e){return e.ye(6,c,m)};h.prototype.qy=function(c,m,e){return e.ye(7,c,m)};h.prototype.ry=
function(c,m,e){return e.ye(8,c,m)};h.prototype.sy=function(c,m,e){return e.ye(9,c,m)};h.prototype.Vx=function(c,m,e){return e.ye(10,c,m)};h.prototype.Xx=function(c,m,e){return e.ye(11,c,m)};h.prototype.Yx=function(c,m,e){return e.ye(12,c,m)};h.prototype.Zx=function(c,m,e){return e.ye(13,c,m)};h.prototype.$x=function(c,m,e){return e.ye(14,c,m)};h.prototype.cy=function(c,m,e){return e.ye(15,c,m)};h.prototype.dy=function(c,m,e){return e.ye(16,c,m)};h.prototype.ey=function(c,m,e){return e.ye(17,c,m)};
h.prototype.iy=function(c,m,e){return e.ye(18,c,m)};h.prototype.jy=function(c,m,e){return e.ye(19,c,m)};h.prototype.ly=function(c,m,e){return e.ye(20,c,m)};h.prototype.iA=function(c){c.Ui=!1};h.prototype.ku=function(c){c.sd=!1;c.zm.current=c.WD([c.sd],!0,c)};h.prototype.gu=function(c){c.Ed.length?(c.Ed=[],c.pc=0,c.GC(c.pd.current)):k()};h.prototype.gH=function(c){--c.jh;0>c.jh&&(c.jh=c.X.yc.length-1);c.FC(c,c.jh)};h.prototype.qG=function(c){c.jh+=1;c.jh>=c.X.yc.length&&(c.jh=0);c.FC(c,c.jh)};h.prototype.tu=
function(c){c.gd+=1;c.gd>=B.Re.length&&(c.gd=0);c.ki(B.Re[c.gd].pattern,!1)};h.prototype.Au=function(c){--c.gd;0>c.gd&&(c.gd=B.Re.length-1);c.ki(B.Re[c.gd].pattern,!1)};h.prototype.ZA=function(c){c.ZC();c.ha&&(c.ha=0);c.Uc.current[0]=!1;c.j.hg=!0};h.prototype.NA=function(c){c.yt=!0};h.prototype.ty=function(c){c.zh(x.ri,c)};h.prototype.FJ=function(c,m){var e=0;if((c.g.ta||c.g.V)&&m)for(;e<c.Db.length;)1<c.Db[e]&&(c.Db[e]&=1),e+=1;else for(;e<c.Db.length;)c.Db[e]=0,e+=1};h.prototype.HE=function(c){var m=
c.Pb,e=m.l,t=m.u,A=m.s;m=m.v;var C=c.g.M,D=C.l,E=C.u,G=C.s;C=C.v;var F=(c.g.width>>1)-(c.kb>>1)+(c.Qb<<1);var H=(c.g.height>>1)-(c.qb>>1)+(c.Rb<<1),I=0;if(!c.Va&&c.ub){if(e>t){var L=t;t=e;e=L}A>m&&(L=m,m=A,A=L);e+=F;t+=F;A+=H;m+=H;for(L=G;L<=C;L+=1)for(G=D;G<=E;G+=1)L>=A&&L<=m&&G>=e&&G<=t||(F=c.g.getState(G,L,!1),0!==F&&(I|=c.ed(G,L,0)));c.g.ta&&I&&this.g.Lf();c.g.Fg=!0;c.g.mh();c.nb("clear cells outside selection")}};h.prototype.GJ=function(c,m){var e=c.Pb,t=e.l,A=e.u,C=e.s;e=e.v;var D=(c.g.width>>
1)-(c.kb>>1)+(c.Qb<<1),E=(c.g.height>>1)-(c.qb>>1)+(c.Rb<<1);if(!c.Va&&c.ub){if(t>A){var G=A;A=t;t=G}C>e&&(G=e,e=C,C=G);if((c.g.ta||c.g.V)&&m){for(G=C;G<=e;G+=1)for(C=t;C<=A;C+=1){var F=c.g.getState(C+D,G+E,!1);1<F&&c.ed(C+D,G+E,F&1)}c.g.ta&&this.g.Lf()}else for(G=C;G<=e;G+=1)for(C=t;C<=A;C+=1)F=c.g.getState(C+D,G+E,!1),0!==F&&c.ed(C+D,G+E,0);c.g.Fg=!0;c.g.mh();c.Qh=!1;(c.g.ta||c.g.V)&&m?c.g.ta?c.nb("clear History cells in selection"):c.nb("clear Super cells in selection"):c.nb("clear cells in selection")}};
h.prototype.Gz=function(c,m){c.Va||(c.od?c.FJ(c,m):c.GJ(c,m))};h.prototype.Wt=function(c){c.Gz(c,!1)};h.prototype.xp=function(c){c.HE(c)};h.prototype.zp=function(c){c.Gz(c,!0)};h.prototype.DH=function(c){var m=c.Pb,e=c.g.M,t=(c.g.width>>1)-(c.kb>>1)+(c.Qb<<1),A=(c.g.height>>1)-(c.qb>>1)+(c.Rb<<1);0<c.g.ia?(c.g.Fg=!0,c.g.mh(),c.g.V||c.g.fa||!(c.g.L||c.g.pa&&2===c.g.i||2<c.g.i)?(m.l=e.l-t,m.s=e.s-A,m.u=e.u-t,m.v=e.v-A):(c.g.XK(m),m.l-=t,m.u-=t,m.s-=A,m.v-=A),c.ub=!0,c.Qh=!1,e=m.u<m.l?m.l-m.u+1:m.u-
m.l+1,m=m.v<m.s?m.s-m.v+1:m.v-m.s+1,c.nb("select all ("+e+" x "+m+")")):(c.j.notification.notify("Empty Pattern",15,120,15,!1),c.ub&&c.dx(c))};h.prototype.jH=function(c,m,e){c.Va||(!c.Gl&&c.Wh&&(m?c.zr(c,!0):c.Va?c.zr(c,!0):e?c.Xu(c,!0):c.Xu(c,!1)),c.wz(c,c.Pg,!1,!1))};h.prototype.XE=function(c){c.jH(c,!1,!1)};h.prototype.wz=function(c,m,e,t){var A=c.Pb,C=A.l,D=A.u,E=A.s;A=A.v;var G,F=0,H=c.g.i,I=2<H&&!(this.g.Fa||this.g.L||this.g.fa||this.g.V),L=(c.g.width>>1)-(c.kb>>1)+(c.Qb<<1),K=(c.g.height>>
1)-(c.qb>>1)+(c.Rb<<1),N=0;if(c.ub){if(C>D){var J=D;D=C;C=J}E>A&&(J=A,A=E,E=J);var S=D-C+1;var U=A-E+1;var V=c.g.A.R(Uint8,S*U,"View.pasteBuffer"+m);J=0;for(G=E;G<=A;G+=1)for(E=C;E<=D;E+=1){var P=c.g.getState(E+L,G+K,!1);0<P&&I&&(P=H-P);V[J]=P;0<P&&(F+=1);N|=c.ed(E+L,G+K,0);J+=1}c.g.ta&&N&&this.g.Lf();c.$f[m]={buffer:V,width:S,height:U,count:F};c.Db=V;c.Kf=S;c.Jf=U;c.Zu();c.g.Fg=!0;c.g.mh();c.tr=!0;c.Ld=!1;c.Qh=!0;t||(e?c.nb("advance outside"):c.nb("cut"))}};h.prototype.iH=function(c,m,e){0!==c.ha?
(Help.iz=!0,Help.Yn="",Help.yv(c),c.jm(c,Help.Yn,!1),Help.iz=!1,Help.Yn=""):(c.Gl||!c.Wh&&c.ub||(m?c.zr(c,!0):c.Va?c.zr(c,!0):e?c.Xu(c,!0):c.Xu(c,!1)),c.ub&&(c.UJ(c,c.Pg),c.yx||(c.yx=!0,c.j.notification.notify("Disable Sync for faster internal clipboard",15,360,15,!1))))};h.prototype.bu=function(c){c.iH(c,!1,!1)};h.prototype.ZJ=function(c){var m=c.Pb,e=m.l,t=m.s,A=m.u,C=m.v,D,E,G=(c.g.width>>1)-(c.kb>>1)+(c.Qb<<1),F=(c.g.height>>1)-(c.qb>>1)+(c.Rb<<1),H=!0;m=[];if(c.ub){if(e>A){var I=e;e=A;A=I}t>
C&&(I=t,t=C,C=I);I=A-e+1;if(I!==C-t+1)c.j.notification.notify("Weighted needs a square selection",15,180,15,!0),H=!1;else if(0===(I&1))c.j.notification.notify("Weighted size must be odd",15,180,15,!0),H=!1;else if(3>I||99<I)c.j.notification.notify("Weighted size must be >= 3 and <= 99",15,180,15,!0),H=!1;if(H){H="";var L=0;for(E=t;E<=C;E+=1)for(D=e;D<=A;D+=1)t=c.g.getState(D+G,E+F,!1),m[m.length]=t,t>L&&(L=t);if(7>=L)for(e=0;e<m.length;e+=1)t=m[e],H+=c.C.Sv[t];else for(e=0;e<m.length;e+=1)t=m[e],
H+=c.C.Sv[t>>4],H+=c.C.Sv[t&15];c.g.U?H+="H":c.g.P&&(H+="L");c.jm(c,H,!1);c.j.notification.notify("Weighted R"+(I-1>>1)+" copied to clipboard",15,180,15,!0)}}else c.j.notification.notify("Weighted needs a selection",15,180,15,!0)};h.prototype.PJ=function(c){var m=c.Pb,e=m.l,t=m.s,A=m.u;m=m.v;var C=0,D,E=(c.g.width>>1)-(c.kb>>1)+(c.Qb<<1),G=(c.g.height>>1)-(c.qb>>1)+(c.Rb<<1);var F=!0;if(c.ub){if(e>A){var H=e;e=A;A=H}t>m&&(H=t,t=m,m=H);H=A-e+1;if(H!==m-t+1)c.j.notification.notify("CoordCA needs a square selection",
15,180,15,!0),F=!1;else if(0===(H&1))c.j.notification.notify("CoordCA size must be odd",15,180,15,!0),F=!1;else if(3>H||99<H)c.j.notification.notify("CoordCA size must be >= 3 and <= 99",15,180,15,!0),F=!1;if(F){var I="";var L=t+(m-t+1>>1);F=e+(A-e+1>>1);var K=3;for(D=t;D<=m;D+=1)for(t=e;t<=A;t+=1)if(D!==L||t!==F){var N=c.g.getState(t+E,D+G,!1);0<N&&(C|=1<<K);--K;0>K&&(I+=c.C.Sv[C],K=3,C=0)}c.g.U?I+="H":c.g.P&&(I+="L");c.jm(c,I,!1);c.j.notification.notify("CoordCA R"+(H-1>>1)+" copied to clipboard",
15,180,15,!0)}}else c.j.notification.notify("CoordCA needs a selection",15,180,15,!0)};h.prototype.SJ=function(c){2<c.g.i?c.ZJ(c):c.PJ(c)};h.prototype.UJ=function(c,m){var e=c.Pb,t=e.l,A=e.s,C=e.u;e=e.v;var D,E=0,G=c.g.i,F=2<G&&!(this.g.Fa||this.g.L||this.g.fa||this.g.V),H=(c.g.width>>1)-(c.kb>>1)+(c.Qb<<1),I=(c.g.height>>1)-(c.qb>>1)+(c.Rb<<1);if(c.ub){if(t>C){var L=t;t=C;C=L}A>e&&(L=A,A=e,e=L);var K=C-t+1;var N=e-A+1;var J=c.g.A.R(Uint8,K*N,"View.pasteBuffer"+m);L=0;for(D=A;D<=e;D+=1)for(A=t;A<=
C;A+=1){var S=c.g.getState(A+H,D+I,!1);0<S&&F&&(S=G-S);J[L]=S;0<S&&(E+=1);L+=1}c.$f[m]={buffer:J,width:K,height:N,count:E};c.Db=J;c.Kf=K;c.Jf=N;c.Zu();c.tr=!0;c.Ld=!1;c.Qh=!0}};h.prototype.Pu=function(c){c.od=!1;c.j.notification.clear(!0,!1);c.Ld&&c.MD(c);c.Ld=!1};h.prototype.KK=function(c,m){var e=this.cd,t=this.Wh;m?c.ub?(c.wz(c,c.Pg,!0,!1),c.g.we(!0,c.ce,c.Ac,c.Hb,c),c.g.re(),c.nb(""),this.cd=x.Dw,c.Ow(c,!0,!0),this.cd=e):c.j.notification.notify("Advance Outside needs a selection",15,180,15,!0):
c.Ld?(c.fF(c),c.Ld||c.j.notification.notify("Advance Selection all cells died",15,180,15,!0)):c.ub?(c.Qh||(this.Wh=!1,c.XE(c),this.Wh=t),c.tr&&(c.fF(c),c.Ld||c.j.notification.notify("Advance Selection no live cells",15,180,15,!0))):c.j.notification.notify("Advance Selection needs a selection",15,180,15,!0)};h.prototype.fF=function(c){var m,e,t,A=c.Kf,C=c.Jf,D=c.Db,E=c.Pb,G=c.g.M,F=c.g.$d,H=c.Rp,I=c.g.zd,L=c.g.th,K=c.g.S,N=c.g.yk,J=c.g.qe,S=c.g.ac,U=c.g.Ja,V=c.g.ja,P=c.g.ra,sa=c.g.La,X=c.g.Da,ja=c.g.width,
na=c.g.height,ha=c.g.hb,Y=c.g.Yb,ea=c.g.Bf,da=c.g.sr,qa=c.g.wd,ma=c.g.wc,T=c.g.ya,Q=c.g.ua,W=c.g.Ab,ia=c.g.Cb,la=c.g.counter,ba=new BoundingBox(G.l,G.s,G.u,G.v),M=new BoundingBox(F.l,F.s,F.u,F.v),O=c.g.vf,oa=c.g.Zi,Z=c.g.$j,R=c.g.Hg,pa=c.g.hc,ya=c.g.$c,wa=c.g.Ho,va=c.g.Lk,ka=null,aa=null;c.g.pa&&(ka=c.g.za.Mb,aa=c.g.za.Su,c.g.za.resize(1024,1024));c.g.kJ();var fa=Math.round((c.g.width-c.kb)/2);var ca=Math.round((c.g.height-c.qb)/2);for(t=m=0;t<C;t+=1)for(e=0;e<A;e+=1){var ta=D[m];0<ta&&c.g.Xj(e+fa,
t+ca,ta,!0);m+=1}c.g.we(!1,!0,!0,c.Hb,c);c.g.re();if(c.g.Y){c.Kf=G.u-G.l+1;c.Jf=G.v-G.s+1;c.Db=c.g.A.R(Uint8,c.Kf*c.Jf,"View.pasteBuffer");m=0;for(t=G.s;t<=G.v;t+=1)for(e=G.l;e<=G.u;e+=1)ta=c.g.getState(e,t,!1),0<ta&&2<c.g.i&&!c.g.L&&!c.g.fa&&(ta=c.g.i-ta),c.Db[m]=ta,m+=1;c.Ld?(H.l+=G.l-fa,H.s+=G.s-ca,H.u=H.l+c.Kf-1,H.v=H.s+c.Jf-1):(H.l=E.l<E.u?E.l+G.l-fa:E.u+G.l-fa,H.s=E.s<E.v?E.s+G.s-ca:E.v+G.s-ca,H.u=H.l+c.Kf-1,H.v=H.s+c.Jf-1);c.Ld=!0}else c.Ld=!1;c.g.zd=I;c.g.th=L;c.g.S=K;c.g.yk=N;c.g.qe=J;c.g.ac=
S;c.g.Ja=U;c.g.ja=V;c.g.ra=P;c.g.La=sa;c.g.Da=X;c.g.width=ja;c.g.height=na;c.g.hb=ha;c.g.Yb=Y;c.g.M.l=ba.l;c.g.Bf=ea;c.g.sr=da;c.g.wd=qa;c.g.wc=ma;c.g.ya=T;c.g.ua=Q;c.g.Ab=W;c.g.Cb=ia;c.g.counter=la;c.g.vf=O;c.g.Zi=oa;c.g.$j=Z;c.g.Hg=R;c.g.hc=pa;c.g.$c=ya;c.g.Ho=wa;c.g.Lk=va;G.l=ba.l;G.s=ba.s;G.u=ba.u;G.v=ba.v;F.l=M.l;F.s=M.s;F.u=M.u;F.v=M.v;c.g.pa&&(c.g.za.Mb=ka,c.g.za.Su=aa)};h.prototype.MB=function(c,m,e,t){var A=c.Kf,C=c.Jf,D=c.Db;var E=c.ei;var G=c.g.width;var F=c.g.height;var H=0;switch(c.Yg+
.5|0){case x.PG:m-=A>>1;break;case x.QG:m-=A-1;break;case x.VG:e-=C>>1;break;case x.OG:m-=A>>1;e-=C>>1;break;case x.NG:m-=A-1;e-=C>>1;break;case x.UG:e-=C-1;break;case x.SG:m-=A>>1;e-=C-1;break;case x.TG:m-=A-1,e-=C-1}E.l=m;E.s=e;E.u=m+A;E.v=e+C;for(c.Ru(c,E);G!==c.g.width;)m+=G>>1,G<<=1;for(;F!==c.g.height;)e+=F>>1,F<<=1;switch(c.cd){case x.Ws:for(F=E=0;F<C;F+=1)for(G=0;G<A;G+=1){var I=D[E];0<I&&(H|=c.ed(m+G,e+F,I));E+=1}break;case x.Dw:for(F=E=0;F<C;F+=1)for(G=0;G<A;G+=1)I=D[E],H|=c.ed(m+G,e+F,
I),E+=1;break;case x.EB:for(F=E=0;F<C;F+=1)for(G=0;G<A;G+=1){I=D[E];var L=this.g.getState(m+G,e+F,!1);H|=c.ed(m+G,e+F,L^I);E+=1}break;case x.sB:for(F=E=0;F<C;F+=1)for(G=0;G<A;G+=1)I=D[E],L=this.g.getState(m+G,e+F,!1),H|=c.ed(m+G,e+F,L&I),E+=1}c.g.ta&&H&&this.g.Lf();c.od=!1;c.Ld=!1;c.j.notification.clear(!0,!1);t&&c.nb("paste")};h.prototype.bn=function(c,m,e){var t=(c.g.width>>1)-(c.kb>>1)+(c.Qb<<1),A=(c.g.height>>1)-(c.qb>>1)+(c.Rb<<1),C=c.Pb,D=C.l,E=C.s,G=C.u,F=C.v;var H=0;var I=c.g.width-1;var L=
0;var K=c.g.height-1,N=0;if(!c.Va&&c.ub){if(D>G){var J=G;G=D;D=J}E>F&&(J=F,F=E,E=J);J=G-D+1;var S=F-E+1;-1!==c.g.xa&&(0!==c.g.Aa?(H=Math.round((c.g.width-c.g.Aa)/2)-1,I=H+c.g.Aa-1+2):(H=0,I=c.g.width-1),0!==c.g.wa?(L=Math.round((c.g.height-c.g.wa)/2)-1,K=L+c.g.wa-1+2):(L=0,K=c.g.height-1));if(D+t+m>H&&G+t+m<I&&E+A+e>L&&F+A+e<K){c.wz(c,c.Pg,!1,!0);t+=m;A+=e;H=0;G=c.$f[c.Pg].buffer;for(L=0;L<S;L+=1)for(I=0;I<J;I+=1)F=G[H],N|=c.ed(D+I+t,E+L+A,F),H+=1;c.g.ta&&N&&this.g.Lf();C.l+=m;C.u+=m;C.s+=e;C.v+=
e;c.nb("nudge "+(0===m?-1===e?"up":"down":-1===m?"left":"right"))}else c.j.notification.notify("No room to nudge selection",15,180,15,!0)}};h.prototype.Ow=function(c,m,e){var t=(c.g.width>>1)-(c.kb>>1)+(c.Qb<<1),A=(c.g.height>>1)-(c.qb>>1)+(c.Rb<<1),C=c.Pb,D=c.Rp,E=C.l,G=C.s,F=C.u;C=C.v;var H;if(!c.Va&&null!==c.$f[c.Pg])if(m)if(c.ub||c.Ld)if(c.Ld&&(E=D.l,G=D.s,F=D.u,C=D.v),E>F&&(m=E,E=F,F=m),G>C&&(m=G,G=C,C=m),F=F-E+1,C=C-G+1,c.Kf>F||c.Jf>C)c.j.notification.notify("Paste does not fit in selection",
15,180,15,!0);else{m=c.Yg;c.Yg=x.yq;for(H=G;H<=G+C-c.Jf;H+=c.Jf)for(D=E;D<=E+F-c.Kf;D+=c.Kf)c.MB(c,D+t,H+A,!1);c.Yg=m;c.qk&&c.pr(c);e?c.nb("advance outside"):c.nb("paste to selection");c.Ld=!1}else c.j.notification.notify("Paste to Selection needs a selection",15,180,15,!0);else c.JB(c,c.Pg),c.Ld=!1,c.j.notification.notify("Now click to paste",15,180,15,!0)};h.prototype.EM=function(c){c.Ld?(c.Ow(c,!0,!1),c.Qh=!1):c.MB(c,c.vk,c.wk,!0)};h.prototype.WG=function(c){c.Ow(c,!1,!1)};h.prototype.JB=function(c,
m){0<=m&&m<c.$f.length&&(null!==c.$f[m]?(c.od=!0,c.Ld=!1,c.Db=c.$f[m].buffer,c.Kf=c.$f[m].width,c.Jf=c.$f[m].height,c.pd.current!==x.Sm&&(c.pd.current=c.el(x.Sm,!0,c))):(c.od=!1,c.Ld=!1,c.j.notification.notify("Clipboard empty",15,180,15,!0)))};h.prototype.gN=function(c,m){var e,t=0,A=c.g.i;-1===A&&(A=2);for(e=0;e<c.Db.length;e+=1)100*c.$b.random()<=c.Rj?2===A||m?t=c.ef:t=(c.$b.random()*(A-1)|0)+1:t=0,c.Db[e]=t};h.prototype.hN=function(c,m){var e=c.Pb,t=e.l,A=e.u,C=e.s;e=e.v;var D=0,E=(c.g.width>>
1)-(c.kb>>1)+(c.Qb<<1),G=(c.g.height>>1)-(c.qb>>1)+(c.Rb<<1),F=c.g.i,H=0;if(c.ub){if(t>A){var I=A;A=t;t=I}C>e&&(I=e,e=C,C=I);-1===F&&(F=2);for(I=C;I<=e;I+=1)for(C=t;C<=A;C+=1)100*c.$b.random()<=c.Rj?2===F||m?D=c.ef:D=(c.$b.random()*(F-1)|0)+1:D=0,H=c.ed(C+E,I+G,D);c.g.ta&&H&&this.g.Lf();c.g.Fg=!0;c.g.mh();c.nb("random "+c.Rj+"%")}};h.prototype.Rw=function(c,m){c.Va||(c.od?c.gN(c,m):c.hN(c,m))};h.prototype.Qu=function(c){c.Va||c.Rw(c,!1)};h.prototype.Nu=function(c){c.Rw(c,!0)};h.prototype.OK=function(c){var m=
c.Kf,e=c.Jf,t=m>>1,A,C,D;for(C=D=0;C<e;C+=1){if(c.g.L)for(A=0;A<t;A+=1){var E=c.Db[D+A];var G=c.Db[D+m-A-1];c.Db[D+A]=G&5|(G&2)<<2|(G&8)>>2;c.Db[D+m-A-1]=E&5|(E&2)<<2|(E&8)>>2}else for(A=0;A<t;A+=1)E=c.Db[D+A],c.Db[D+A]=c.Db[D+m-A-1],c.Db[D+m-A-1]=E;D+=m}};h.prototype.PK=function(c){var m=c.Pb,e=m.l,t=m.u,A=m.s;m=m.v;var C,D=c.g.i,E=2<D&&!(this.g.Fa||this.g.L||this.g.fa||this.g.V),G=(c.g.width>>1)-(c.kb>>1)+(c.Qb<<1),F=(c.g.height>>1)-(c.qb>>1)+(c.Rb<<1),H=0;if(c.ub){if(e>t){var I=t;t=e;e=I}A>m&&
(I=m,m=A,A=I);I=c.g.A.R(Uint8,t-e+1,"View.flipRow");for(C=A;C<=m;C+=1){for(A=e;A<=t;A+=1){var L=c.g.getState(A+G,C+F,!1);E&&0<L&&(L=D-L);I[A-e]=L}if(c.g.L)for(A=e;A<=t;A+=1)L=I[t-A],c.ed(A+G,C+F,L&5|(L&2)<<2|(L&8)>>2);else for(A=e;A<=t;A+=1)H|=c.ed(A+G,C+F,I[t-A])}c.g.ta&&H&&this.g.Lf();c.g.Fg=!0;c.g.mh();c.nb("flip horizontally")}};h.prototype.QK=function(c){var m=c.Kf,e=c.Jf,t=e>>1,A,C,D;for(A=D=0;A<m;A+=1){if(c.g.L)for(C=0;C<t;C+=1){var E=c.Db[D+C*m];var G=c.Db[D+(e-C-1)*m];c.Db[D+C*m]=G&10|(G&
1)<<2|(G&4)>>2;c.Db[D+(e-C-1)*m]=E&10|(E&1)<<2|(E&4)>>2}else for(C=0;C<t;C+=1)E=c.Db[D+C*m],c.Db[D+C*m]=c.Db[D+(e-C-1)*m],c.Db[D+(e-C-1)*m]=E;D+=1}};h.prototype.RK=function(c){var m=c.Pb,e=m.l,t=m.u,A=m.s;m=m.v;var C,D=c.g.i,E=2<D&&!(this.g.Fa||this.g.L||this.g.fa||this.g.V),G=(c.g.width>>1)-(c.kb>>1)+(c.Qb<<1),F=(c.g.height>>1)-(c.qb>>1)+(c.Rb<<1),H=0;if(c.ub){if(e>t){var I=t;t=e;e=I}A>m&&(I=m,m=A,A=I);for(I=c.g.A.R(Uint8,m-A+1,"View.flipColumn");e<=t;e+=1){for(C=A;C<=m;C+=1){var L=c.g.getState(e+
G,C+F,!1);E&&0<L&&(L=D-L);I[C-A]=L}if(c.g.L)for(C=A;C<=m;C+=1)L=I[m-C],c.ed(e+G,C+F,L&10|(L&1)<<2|(L&4)>>2);else for(C=A;C<=m;C+=1)H|=c.ed(e+G,C+F,I[m-C])}c.g.ta&&H&&this.g.Lf();c.g.Fg=!0;c.g.mh();c.nb("flip vertically")}};h.prototype.wH=function(c,m){var e=c.Kf,t=c.Jf,A,C,D=c.g.A.R(Uint8,e*t,"View.pasteBuffer");for(C=0;C<t;C+=1)for(A=0;A<e;A+=1)if(c.g.L)if(m){var E=c.Db[C*e+A];D[A*t+(t-C-1)]=E<<1&15|(E&8)>>3}else E=c.Db[C*e+A],D[(e-A-1)*t+C]=E>>1&15|(E&1)<<3;else m?D[A*t+(t-C-1)]=c.Db[C*e+A]:D[(e-
A-1)*t+C]=c.Db[C*e+A];c.Db=D;c.Kf=t;c.Jf=e};h.prototype.xH=function(c,m,e){var t=c.Pb,A=t.l,C=t.u,D=t.s,E=t.v,G=0,F=c.g.i;var H=!0;var I=2<F&&!(this.g.Fa||this.g.L||this.g.fa||this.g.V),L=c.g.la?-1:0;var K=Math.round((c.g.width-c.g.Aa)/2)+L;var N=Math.round((c.g.height-c.g.wa)/2)+L;var J=K+c.g.Aa-1;var S=N+c.g.wa-1;L=(c.g.width>>1)-(c.kb>>1)+(c.Qb<<1);var U=(c.g.height>>1)-(c.qb>>1)+(c.Rb<<1),V=0;if(c.ub){if(A>C){var P=C;C=A;A=P}D>E&&(P=E,E=D,D=P);P=A+(C-A+1-1>>1);var sa=D+(E-D+1-1>>1);var X=P+D-
sa;var ja=sa+A-P;var na=P+E-sa;sa=sa+C-P;var ha=t.l;var Y=t.s;var ea=t.u;var da=t.v;t.l=X;t.s=ja;t.u=na;t.v=sa;t.l>t.u&&(P=t.l,t.l=t.u,t.u=P);t.s>t.v&&(P=t.s,t.s=t.v,t.v=P);if(-1!==c.g.xa){if(t.l+L<K||t.u+L>J||t.s+U<N||t.v+U>S)c.j.notification.notify("Rotation does not fit in bounded grid",15,180,15,!0),H=!1}else c.FE(c)?(c.j.notification.notify("Rotation does not fit on grid",15,180,15,!0),H=!1):(L=(c.g.width>>1)-(c.kb>>1)+(c.Qb<<1),U=(c.g.height>>1)-(c.qb>>1)+(c.Rb<<1));if(H){m?(H=ja,S=na,J=1,N=
-1):(H=sa,S=X,J=-1,N=1);K=c.g.A.R(Int16,3*(C-A+1)*(E-D+1),"View.rotateCells");for(na=D;na<=E;na+=1){P=H;for(X=A;X<=C;X+=1)ja=c.g.getState(X+L,na+U,!1),I?0<ja&&(ja=F-ja):c.g.L&&(ja=m?ja<<1&15|(ja&8)>>3:ja>>1&15|(ja&1)<<3),K[G]=S,K[G+1]=P,K[G+2]=ja,G+=3,P+=J;S+=N}L=(c.g.width>>1)-(c.kb>>1)+(c.Qb<<1);U=(c.g.height>>1)-(c.qb>>1)+(c.Rb<<1);for(G=0;G<K.length;)X=K[G],na=K[G+1],ja=K[G+2],V|=c.ed(X+L,na+U,ja),G+=3;for(X=A;X<t.l;X+=1)for(na=D;na<=E;na+=1)V|=c.ed(X+L,na+U,0);for(X=t.u+1;X<=C;X+=1)for(na=D;na<=
E;na+=1)V|=c.ed(X+L,na+U,0);for(na=D;na<t.s;na+=1)for(X=A;X<=C;X+=1)V|=c.ed(X+L,na+U,0);for(na=t.v+1;na<=E;na+=1)for(X=A;X<=C;X+=1)V|=c.ed(X+L,na+U,0);c.g.ta&&V&&this.g.Lf();c.g.Fg=!0;c.g.mh();c.nb(e)}else t.l=ha,t.s=Y,t.u=ea,t.v=da}};h.prototype.wp=function(c){c.dx(c)};h.prototype.vu=function(c){c.Va||c.bn(c,-1,0)};h.prototype.xu=function(c){c.Va||c.bn(c,1,0)};h.prototype.yu=function(c){c.Va||c.bn(c,0,-1)};h.prototype.uu=function(c){c.Va||c.bn(c,0,1)};h.prototype.lF=function(c){c.Va||(c.od?c.OK(c):
c.PK(c))};h.prototype.mF=function(c){c.Va||(c.od?c.QK(c):c.RK(c))};h.prototype.vH=function(c){c.Va||(c.od?c.wH(c,!0):c.xH(c,!0,"rotate clockwise"))};h.prototype.uH=function(c){c.Va||(c.od?c.wH(c,!1):c.xH(c,!1,"rotate counter-clockwise"))};h.prototype.ML=function(c){var m=0,e=c.g.i;if(!c.Va)for(-1===e&&(e=2);m<c.Db.length;){var t=c.Db[m];c.Db[m]=e-t-1;m+=1}};h.prototype.NL=function(c){var m=c.Pb,e=m.l,t=m.u,A=m.s;m=m.v;var C=(c.g.width>>1)-(c.kb>>1)+(c.Qb<<1),D=(c.g.height>>1)-(c.qb>>1)+(c.Rb<<1),
E=c.g.i,G=0;if(!c.Va&&c.ub){if(e>t){var F=t;t=e;e=F}A>m&&(F=m,m=A,A=F);-1===E&&(E=2);for(F=A;F<=m;F+=1)for(A=e;A<=t;A+=1){var H=c.g.getState(A+C,F+D,!1);!c.g.L&&!c.g.fa&&2<E&&0<H&&(H=E-H);G|=c.ed(A+C,F+D,E-H-1)}c.g.ta&&G&&this.g.Lf();c.g.Fg=!0;c.g.mh();c.nb("invert cells in selection")}};h.prototype.HF=function(c){c.Va||(c.od?c.ML(c):c.NL(c))};h.prototype.Fz=function(c){c.g.ud=c.g.ud?!1:!0;c.ox(c.cb);var m=c.g.td;c.g.ud&&(m=!m);c.j.notification.notify("Playback "+(m?"Reverse":"Forward"),15,40,15,
!0)};h.prototype.hu=function(c){c.Rg(!0,!0,x.Ck);c.cb||(c.tg=!0)};h.prototype.LE=function(c){var m=c.Kb;c.g.fa&&(m=RuleTreeCache.YK(m),""===m&&(m=c.C.jx));c.jm(c,m,!1)};h.prototype.DF=function(c){c.g.Zy=!1;c.g.Yy=0;0===c.g.ia?(c.j.notification.notify("Empty Pattern",15,120,15,!1),c.Hb=!1,c.Ui=!1):(c.Hb?(c.Hb=!1,c.j.notification.notify("Identify Cancelled",15,120,15,!1)):(c.Hb=!0,c.Ui=!1,c.oo?c.j.notification.notify("Identifying (fast)...",15,216E3,15,!1):c.j.notification.notify("Identifying...",15,
216E3,15,!1)),c.nb(""));c.g.qs(c.Hb);c.ha=0;c.rr(c);c.rr(c);c.j.hg=!0;c.o.locked=!1};h.prototype.qA=function(c){c.Wo=1};h.prototype.hA=function(c){c.Wo=2};h.prototype.pF=function(c){var m=window.prompt("Enter generation",c.g.counter),e=0;null!==m&&("+"==m.charAt(0)?e=c.g.counter+Number(m.substr(1)):e="-"==m.charAt(0)?c.g.counter-Number(m.substr(1)):Number(m),0<=e&&e<=x.fG?e!==c.g.counter&&(c.Gg=e,c.Uc.current=c.lp([!1],!0,c),c.j.hg=!0,c.yl&&c.j.notification.notify("Going to generation "+e,15,1E4,
15,!1),c.j.notification.clear(!0,!1),e<c.g.counter&&(c.g.rt(c,!1),c.px(c.g.counter))):c.j.notification.notify("Invalid generation specified",15,240,15,!0))};h.prototype.Zv=function(c){c.oo=!1;c.DF(c)};h.prototype.gF=function(c){c.oo=!0;c.DF(c)};h.prototype.dr=function(c,m,e){m&&(e.g.qc=c[0]);return[e.g.qc]};h.prototype.UH=function(c,m,e){m&&(e.uh=c[0]);return[e.uh]};h.prototype.WH=function(c,m,e){m&&(e.Dq=c[0]);return[e.Dq]};h.prototype.qD=function(c,m,e){m&&(e.Oj=c[0]);return[e.Oj]};h.prototype.tD=
function(c,m,e){m&&(e.gm=c[0]);return[e.gm]};h.prototype.lp=function(c,m,e){m&&(0!==e.ha&&c[0]&&(e.ha=0,e.Dk.current=e.kp([e.ha],!0,e)),c[0]||e.rr(e));return c};h.prototype.rD=function(c,m,e){m&&(e.$o=c[0]);return[e.$o]};h.prototype.sD=function(c,m,e){m&&(e.tn=c[0]);return[e.tn]};h.prototype.dl=function(c,m,e){m&&(e.Nk=c[0],e.Nk?e.ft?e.j.notification.notify("Replace: Now click on a cell",15,180,15,!0):e.j.notification.notify("Pick: Now click on a cell",15,180,15,!0):(e.rA||e.j.notification.clear(!0,
!1),e.rA=!1,e.ft=!1));return[e.Nk]};h.prototype.TH=function(c,m,e){m&&(e.Ec=c[0],e.Ec&&!e.cb&&e.Rg(!0,!0,x.Ck));return[e.Ec]};h.prototype.LD=function(c,m,e){m&&-1!==e.jb&&(e.Xc=!c[0],e.Wc?(e.Xe=e.Xc,e.j.notification.notify("Loop and Waypoints "+(e.Xc?"Off":"On"),15,40,15,!0)):e.Ae?(e.Mf=e.Xc,e.j.notification.notify("Loop and Track "+(e.Xc?"Off":"On"),15,40,15,!0),e.oE(e.Mf)):e.j.notification.notify("Loop "+(e.Xc?"Off":"On"),15,40,15,!0));return[e.Xc]};h.prototype.aD=function(c,m,e){m&&e.Af&&(e.Ng=
!c[0]);return[e.Ng]};h.prototype.TD=function(c,m,e){m&&-1!==e.EP&&(e.xf=!c[0]);return[e.xf]};h.prototype.uD=function(c,m,e){m&&(e.Ae?(e.Mf=!c[0],e.oE(e.Mf),-1!==e.jb?(e.Xc=e.Mf,e.j.notification.notify("Loop and Track "+(e.Xc?"Off":"On"),15,40,15,!0)):e.j.notification.notify("Track "+(e.Mf?"Off":"On"),15,40,15,!0)):e.Wc&&(e.Xe=!c[0],e.Xe?(e.j.notification.clear(!1,!1),e.Es=""):(e.tg=!0,e.elapsedTime=e.X.MK(e.g.counter)),-1!==e.jb?(e.Xc=e.Xe,e.j.notification.notify("Loop and Waypoints "+(e.Xc?"Off":
"On"),15,40,15,!0)):e.j.notification.notify("Waypoints "+(e.Xe?"Off":"On"),15,40,15,!0)));return e.Ae?[e.Mf]:[e.Xe]};h.prototype.kp=function(c,m,e){m&&(e.ha=c[0],e.ha?e.Uc.current[0]&&(e.Uc.current=e.lp([!1],!0,e)):(e.zh(x.ri,e),e.ha=0));e.GC(e.pd.current);return[e.ha]};h.prototype.wI=function(c,m,e){m&&(e.zl=c[0]);return[e.zl]};h.prototype.tI=function(c,m,e){m&&(e.g.wh=c[0],e.g.mA());return[e.g.wh]};h.prototype.Ox=function(c,m,e){m&&(e.Ch=c[0],e.Ch&&(e.g.Y?0<e.g.counter&&-1===e.g.i&&!e.g.la&&!e.g.L&&
(--e.g.counter,e.g.we(!0,e.ce,e.Ac,e.Hb,e),e.gi()):(e.g.ia=0,e.g.Vb=0,e.g.Gb=0)));e.j.cg(!0);return[e.Ch]};h.prototype.lx=function(c,m){1<c.pc&&(c.pc-=m,1>c.pc&&(c.pc=1))};h.prototype.kx=function(c,m){c.pc<c.Ed.length-c.qd+1&&(c.pc+=m,c.pc>c.Ed.length-c.qd+1&&(c.pc=c.Ed.length-c.qd+1))};h.prototype.nx=function(c,m){1<c.ha&&(c.ha-=m,1>c.ha&&(c.ha=1))};h.prototype.mx=function(c,m){c.ha<c.sq-c.qd&&(c.ha+=m,c.ha>c.sq-c.qd&&(c.ha=c.sq-c.qd))};h.prototype.WM=function(c){for(var m=c.ma.length-1,e=!1;0<=
m&&!e;)c.ha<=c.ma[m][0]?--m:e=!0;e&&(c.ha=c.ma[m][0])};h.prototype.vM=function(c){for(var m=0,e=!1;m<c.ma.length&&!e;)c.ha>=c.ma[m][0]?m+=1:e=!0;e&&(c.ha=c.ma[m][0])};h.prototype.TN=function(c){for(;this.g.counter<c-1;)this.g.Y?(this.g.we(!1,!1,this.Ac,this.Hb,this),0===this.g.Y&&2<this.g.i||this.g.re(),0===this.g.Y&&2>=this.g.i&&(this.g.Y=1,this.g.we(!1,!1,this.Ac,this.Hb,this),--this.g.counter)):(this.g.counter+=1,this.g.re()),this.gi();this.g.counter<c&&(this.g.Y?(this.g.we(this.Ch,!1,this.Ac,
this.Hb,this),0===this.g.Y&&2<this.g.i||this.g.re(),0===this.g.Y&&2>=this.g.i&&(this.g.Y=1,this.g.we(!1,!1,this.Ac,this.Hb,this),--this.g.counter)):(this.g.counter+=1,this.g.re()),this.gi());this.elapsedTime=this.Ka[c];this.Nb=c*this.Ma};h.prototype.st=function(c){var m=this.K+(0<this.g.i?this.g.i:0);!this.ce&&this.j.YB&&(this.j.YB=!1,0>c&&(c=0),this.elapsedTime=this.Ka[c],this.Nb=c*this.Ma,-1!==this.ng&&c>this.ng+m?this.g.counter=c:this.g.st(c,this.Ch,this.Ac,this),this.X.yO(this.elapsedTime),this.tg=
!0,c!==this.g.counter&&(this.Xn=!0,this.fz=c,this.g.rt(this,!1),this.j.notification.notify("Computing previous generations",15,1E4,15,!0),this.ez=!0))};h.prototype.eA=function(c){c.style.width="2em";c.style.height="2em";c.style.padding=0;c.style.rP="none";c.style.outline="none";c.style.boxShadow="none";c.style.background="transparent";c.style.position="fixed";c.style.left="-100px";c.style.top="0px"};h.prototype.jm=function(c,m,e){var t="textarea";c.CH=document.documentElement.scrollTop||document.body.scrollTop;
c.Gt=m;c.al=0;c.gp=m.length;if(e){var A=performance.now()-c.Yu;A<x.XJ&&c.gp<x.VJ?e=!1:c.bw||(t="div")}c.fp=document.createElement("div");c.fp.contentEditable=!0;c.eA(c.fp);c.Wl=document.createElement(t);c.eA(c.Wl);c.Wl.contentEditable=!0;c.fp.appendChild(c.Wl);document.body.appendChild(c.fp);e?(c.hz=x.YJ,c.j.notification.notify("Copying...",15,1E4,15,!0),c.wr=!0,c.Wu=!1,c.o.locked=!0):(c.Wl.innerHTML=m,c.JE(c,e))};h.prototype.JE=function(c,m){var e=null;if(c.bw)var t=c.Wl;else m?t=c.fp:(t=c.Wl,t.contentEditable=
"true",t.readOnly="false");t.focus();var A=document.createRange();A.selectNodeContents(t);try{m?document.execCommand("selectAll"):(e=window.getSelection(),e.removeAllRanges(),e.addRange(A),t.setSelectionRange(0,999999)),document.execCommand("copy")}catch(C){}document.body.removeChild(c.fp);c.Gt="";c.j.Bk||c.Jc.canvas.focus();c.j.notification.notify("Copied to external clipboard",15,180,15,!0);m&&(c.wr=!1,c.o.locked=!1);document.documentElement.scrollTop=document.body.scrollTop=c.CH;c.Yu=-1};h.prototype.oj=
function(c){var m=ColourManager.Og,e=Object.keys(m),t=c.red,A=c.green;c=c.blue;for(var C="",D=!1,E=null,G=0;G<e.length&&!D;)E=m[e[G]],E[1]===t&&E[2]===A&&E[3]===c?(D=!0,G=e.length):G+=1;D?C=E[0]:C=t+" "+A+" "+c;return C};h.prototype.Bp=function(c,m){return c.red===m.red&&c.green===m.green&&c.blue===m.blue};h.prototype.KE=function(c,m){var e="#C "+Keywords.Xo+" ",t=String(-(c.g.width/2-c.g.Ca-c.g.cc|0)),A=String(-(c.g.height/2-c.g.va-c.g.Zb|0)),C=c.g.zoom,D=c.g.angle|0,E=c.g.Na|0,G=c.g.mb[c.g.Uf];
0!==c.g.counter&&(e+=Keywords.Dt+" "+c.g.counter+" ");e+=Keywords.Pf+" "+t+" "+Keywords.Rf+" "+A+" ";e+=Keywords.le+" "+(C===(C|0)?String(C):String(C.toFixed(2)))+" ";e+=Keywords.em+" "+D+" ";0!==c.g.Na&&(e+=Keywords.Gn+" "+E+" ");e+=Keywords.Uq+"\n";if(m){e+="#C "+Keywords.Xo+" ";if(c.Zh){if(2<c.g.i){if(e+=Keywords.Ra+" "+Keywords.Ax+" "+c.oj(G.dj),e+=" "+Keywords.Ra+" "+Keywords.zx+" "+c.oj(G.Lg),c.Bp(G.Qc.ca,G.dj)||(e+=" "+Keywords.Ra+" "+Keywords.Cx+" "+c.oj(G.Qc.ca)),c.Bp(G.Qc.aa,G.Qc.ca)||(e+=
" "+Keywords.Ra+" "+Keywords.Bx+" "+c.oj(G.Qc.aa)),G.tm||(e+=" "+Keywords.Ra+" "+Keywords.fD+" "+c.oj(G.fc.ca)),G.tm||!c.Bp(G.fc.aa,G.fc.ca))e+=" "+Keywords.Ra+" "+Keywords.eD+" "+c.oj(G.fc.aa)}else e+=Keywords.Ra+" "+Keywords.Ax+" "+c.oj(G.rb),e+=" "+Keywords.Ra+" "+Keywords.zx+" "+c.oj(G.Bb.aa),c.Bp(G.Bb.aa,G.Bb.ca)||(e+=" "+Keywords.Ra+" "+Keywords.dD+" "+c.oj(G.Bb.ca)),c.Bp(G.ob.ca,G.rb)||(e+=" "+Keywords.Ra+" "+Keywords.Cx+" "+c.oj(G.ob.ca)),c.Bp(G.ob.aa,G.ob.ca)||(e+=" "+Keywords.Ra+" "+Keywords.Bx+
" "+c.oj(G.ob.aa));e+=" "+Keywords.Uq+"\n#C "+Keywords.Xo+" "}e+=Keywords.Xl+" "+G.name+" ";c.K!==c.Hs&&(e+=Keywords.es+" "+c.K+" ");c.zi!==c.XF&&(e+=Keywords.kr+" "+c.zi+" ");e+=Keywords.hr+" "+c.J+" ";e+=Keywords.Xp+" "+c.H+" ";e+=Keywords.Uq+"\n"}c.jm(c,e,!1)};h.prototype.xC=function(c){c.element.innerHTML=c.g.Ju(c,c.g,!0,c.g.i,c.g.i,[],!0);c.element.value=c.element.innerHTML};h.prototype.aM=function(c,m){if(c.ek.locked||c.Tw||window.confirm("Open clipboard?"))c.element.innerHTML=m,c.element.value=
c.element.innerHTML,d(c.element)};h.prototype.zr=function(c,m){c.Yu=performance.now();z.Ya?c.jm(c,B.Re[c.gd].pattern,m):c.jm(c,b(c.element),m)};h.prototype.Xu=function(c,m){c.Yu=performance.now();c.jm(c,c.g.Ju(c,c.g,m,c.g.i,c.g.i,[]),!1)};h.prototype.ou=function(c,m){var e=m.charCode||m.keyCode;if(c.Xn?KeyProcessor.bN(c,e,m):c.Hb?KeyProcessor.cN(c,e,m):c.wr?KeyProcessor.$M(c,e,m):-1!==c.Gg?KeyProcessor.aN(c,e,m):KeyProcessor.ZM(c,e,m))c.j.cg(!0),m.preventDefault()};h.prototype.WO=function(){this.g.ta||
this.g.V?(this.ab.setPosition(Menu.fb,-85,-130),this.g.ta?(this.T.setPosition(Menu.fb,-130,-130),this.T.F="random fill [Shift 5]",this.Qk.setPosition(Menu.fb,-235,-130)):(this.T.setPosition(Menu.fb,-175,-130),this.T.F="random multi-state fill [Shift 5]",this.Dc.setPosition(Menu.fb,-130,-130),this.Qk.setPosition(Menu.fb,-280,-130))):2>=this.g.i?(this.ab.setPosition(Menu.fb,-40,-130),this.T.setPosition(Menu.fb,-85,-130),this.T.F="random fill [Shift 5]",this.Qk.setPosition(Menu.fb,-190,-130)):(this.ab.setPosition(Menu.fb,
-40,-130),this.g.L?(this.T.setPosition(Menu.fb,-85,-130),this.T.F="random multi-state fill [Shift 5]",this.Qk.setPosition(Menu.fb,-190,-130)):(this.T.setPosition(Menu.fb,-130,-130),this.T.F="random multi-state fill [Shift 5]",this.Dc.setPosition(Menu.fb,-85,-130),this.Qk.setPosition(Menu.fb,-235,-130)))};h.prototype.YO=function(){if(this.H<x.Pm)this.Je.setPosition(Menu.bd,10,50),this.bf.setPosition(Menu.qa,0,50),this.Ie.setPosition(Menu.xc,-160,50),this.ff.setPosition(Menu.bd,10,100),this.He.setPosition(Menu.qa,
0,100),this.Ge.setPosition(Menu.xc,-160,100),0<this.X.Do()?(this.hd.setPosition(Menu.bd,10,150),this.Ce.setPosition(Menu.xc,-160,150)):this.hd.setPosition(Menu.qa,0,150);else{var c=0<this.X.Do()?-175:-150;this.Je.setPosition(Menu.pb,0,c);this.bf.setPosition(Menu.pb,0,c+50);this.Ie.setPosition(Menu.pb,0,c+100);this.ff.setPosition(Menu.pb,0,c+150);this.He.setPosition(Menu.pb,0,c+200);this.Ge.setPosition(Menu.pb,0,c+250);this.hd.setPosition(Menu.pb,0,c+300);this.Ce.setPosition(Menu.pb,0,c+350)}};h.prototype.HH=
function(){var c="white",m="black",e="rgb(0,240,32)",t="blue",A="grey",C="white";var D=this.sa[x.Ir];-1!==D?(c="rgb("+(D>>16)+","+(D>>8&255)+","+(D&255)+")",this.Z.ax=!0,this.Z.jC=this.g.ae?-16777216|(D&255)<<16|(D>>8&255)<<8|D>>16:D>>16<<24|(D>>8&255)<<16|(D&255)<<8|255):(this.Z.ax=!0,D=16777215,this.Z.jC=this.g.ae?-16777216|(D&255)<<16|(D>>8&255)<<8|D>>16:D>>16<<24|(D>>8&255)<<16|(D&255)<<8|255);D=this.sa[x.Gr];-1!==D?m="rgb("+(D>>16)+","+(D>>8&255)+","+(D&255)+")":D=0;this.Ix=D;D=this.sa[x.Jr];
-1!==D&&(e="rgb("+(D>>16)+","+(D>>8&255)+","+(D&255)+")");D=this.sa[x.Lr];-1!==D&&(t="rgb("+(D>>16)+","+(D>>8&255)+","+(D&255)+")");D=this.sa[x.Kr];-1!==D?A="rgb("+(D>>16)+","+(D>>8&255)+","+(D&255)+")":D=8421504;this.Z.wF=this.g.ae?-16777216|(D&255)<<16|(D>>8&255)<<8|D>>16:D>>16<<24|(D>>8&255)<<16|(D&255)<<8|255;D=this.sa[x.Hr];-1!==D&&(C="rgb("+(D>>16)+","+(D>>8&255)+","+(D&255)+")");this.j.wt(c,m,e,t,A,C)};h.prototype.du=function(){var c,m=0;this.zo=10;this.o=this.j.EI(this.zy,this.$D,this);this.o.fo=
this.Ay;this.o.cE=this.Dy;this.hs=this.o.Ia(Menu.qa,0,52,480,48,"Banner");this.hs.eb("32px Arial");this.gf=this.o.Ia(Menu.qa,-160,100,160,32,"Type");this.ij=this.o.Ia(Menu.qa,-160,140,160,32,"Cells");this.hj=this.o.Ia(Menu.qa,-160,180,160,32,"Bounding Box");this.jj=this.o.Ia(Menu.qa,-160,240,160,32,"Direction");this.mj=this.o.Ia(Menu.qa,-160,280,160,32,"Period");this.hk=this.o.Ia(Menu.qa,-160,320,160,32,"Slope");this.ik=this.o.Ia(Menu.qa,-160,360,160,32,"Speed");this.kj=this.o.Ia(Menu.qa,-160,400,
160,32,"Heat");this.kk=this.o.Ia(Menu.qa,-160,440,160,32,"Volatility");this.lj=this.o.Ia(Menu.qa,-160,460,160,32,"Mod");this.gj=this.o.Ia(Menu.qa,-160,500,160,32,"Active Cells");this.jk=this.o.Ia(Menu.qa,-160,540,160,32,"Temperature");this.ns=this.o.Ia(Menu.qa,80,100,320,32,"");this.js=this.o.Ia(Menu.qa,80,140,320,32,"");this.Vv=this.o.Ia(Menu.qa,80,180,320,32,"");this.Wv=this.o.Ia(Menu.qa,80,220,320,32,"");this.Yv=this.o.Ia(Menu.qa,80,260,320,32,"");this.$v=this.o.Ia(Menu.qa,80,300,320,32,"");this.ls=
this.o.Ia(Menu.qa,80,340,320,32,"");this.ks=this.o.Ia(Menu.qa,80,380,320,32,"");this.jA=this.o.Ia(Menu.qa,80,420,320,32,"");this.Xv=this.o.Ia(Menu.qa,80,460,320,32,"");this.gs=this.o.Ia(Menu.qa,80,500,320,32,"");this.ms=this.o.Ia(Menu.qa,80,540,320,32,"");this.lf=this.o.Ia(Menu.bd,0,40,16,20,"X");this.lf.eb(x.Ah);this.lf.Ht=Menu.mf;this.nf=this.o.Ia(Menu.bd,70,40,16,20,"Y");this.nf.eb(x.Ah);this.nf.Ht=Menu.mf;this.hf=this.o.Ia(Menu.bd,140,40,16,20,"A");this.hf.eb(x.Ah);this.hf.Ht=Menu.mf;this.ec=
this.o.Ia(Menu.bd,16,40,54,20,"");this.ec.eb(x.Ah);this.ec.textAlign=Menu.right;this.ec.F="camera X position";this.uc=this.o.Ia(Menu.bd,86,40,54,20,"");this.uc.eb(x.Ah);this.uc.textAlign=Menu.right;this.uc.F="camera Y position";this.gb=this.o.Ia(Menu.bd,156,40,40,20,"");this.gb.eb(x.Ah);this.gb.textAlign=Menu.right;this.gb.F="camera angle";this.lk=this.o.Ia(Menu.bd,196,40,4,20,"");this.xi=this.o.Ia(Menu.xc,-280,40,20,20,"E");this.xi.eb(x.Ah);this.Kh=this.o.Ia(Menu.xc,-210,40,20,20,"S");this.Kh.eb(x.Ah);
this.Lh=this.o.Ia(Menu.xc,-140,40,20,20,"W");this.Lh.eb(x.Ah);this.Jh=this.o.Ia(Menu.xc,-70,40,20,20,"N");this.Jh.eb(x.Ah);this.zb=this.o.Ia(Menu.xc,-260,40,50,20,"");this.zb.eb(x.Ah);this.zb.textAlign=Menu.right;this.zb.F="bounding box east edge velocity";this.Lb=this.o.Ia(Menu.xc,-190,40,50,20,"");this.Lb.eb(x.Ah);this.Lb.textAlign=Menu.right;this.Lb.F="bounding box south edge velocity";this.dc=this.o.Ia(Menu.xc,-120,40,50,20,"");this.dc.eb(x.Ah);this.dc.textAlign=Menu.right;this.dc.F="bounding box west edge velocity";
this.Fb=this.o.Ia(Menu.xc,-50,40,50,20,"");this.Fb.eb(x.Ah);this.Fb.textAlign=Menu.right;this.Fb.F="bounding box north edge velocity";this.Qn=this.o.sb(this.aD,Menu.xc,-210,0,38,20,["START"],[!1],Menu.Ya);this.Qn.eb(x.tx);this.Qn.F=["autostart [Alt O]"];this.Dn=this.o.sb(this.TD,Menu.xc,-210,20,38,20,["STOP"],[!1],Menu.Ya);this.Dn.eb(x.tx);this.Dn.F=["stop [Alt P]"];this.Gh=this.o.sb(this.uD,Menu.xc,-172,0,38,20,["WAYPT"],[!1],Menu.Ya);this.Gh.eb(x.tx);this.Gh.F=["toggle waypoint mode [W]"];this.Nm=
this.o.sb(this.LD,Menu.xc,-172,20,38,20,["LOOP"],[!1],Menu.Ya);this.Nm.eb(x.tx);this.Nm.F=["toggle loop mode [Shift P]"];this.pd=this.o.sb(this.el,Menu.bd,90,0,120,40,["","",""],x.Rm,Menu.un);this.pd.icon=[this.Z.icon("draw"),this.Z.icon("select"),this.Z.icon("pan")];this.pd.F=["draw [F2]","select [F4]","pan [F5]"];this.na=this.o.sb(this.By,Menu.xc,-80,100,80,60,["1","2"],0,Menu.un);this.na.orientation=Menu.vertical;this.na.F=["",""];this.na.eb("14px Arial");this.Dk=this.o.sb(this.kp,Menu.xc,-40,
0,40,40,["Help"],[!1],Menu.Ya);this.Dk.F=["toggle help display [H]"];this.Dk.eb("16px Arial");this.Ph=this.o.Ea(this.ty,Menu.xc,-40,50,40,["^"]);this.Ph.F="show help topics [Backspace]";this.Nh=this.o.Ea(this.NA,Menu.xc,-40,100,40,["<"]);this.Nh.F="show help sections";this.Je=this.o.Ea(this.pu,Menu.qa,0,50,150,["Keys"]);this.Je.F="show keyboard shortcuts [K]";this.bf=this.o.Ea(this.KA,Menu.qa,0,100,150,["Scripts"]);this.bf.F="show script commands [S]";this.Ie=this.o.Ea(this.nu,Menu.qa,0,150,150,["Info"]);
this.Ie.F="show pattern and engine information [I]";this.ff=this.o.Ea(this.zC,Menu.qa,0,200,150,["Themes"]);this.ff.F="show colour Themes [T]";this.He=this.o.Ea(this.Yt,Menu.qa,0,250,150,["Colours"]);this.He.F="show colour names [C]";this.Ge=this.o.Ea(this.No,Menu.qa,0,300,150,["Aliases"]);this.Ge.F="show rule aliases [A]";this.hd=this.o.Ea(this.ru,Menu.qa,0,350,150,["Memory"]);this.hd.F="show memory usage [Y]";this.Ce=this.o.Ea(this.Po,Menu.qa,0,350,150,["Annotations"]);this.Ce.F="show annotations [N]";
this.pj=this.o.sb(this.TH,Menu.bd,0,0,40,40,["Auto"],[!1],Menu.Ya);this.pj.icon=[this.Z.icon("autofit")];this.pj.F=["toggle autofit [Shift F]"];this.pj.eb("16px Arial");this.wm=this.o.Ea(this.hu,Menu.bd,45,0,40,"");this.wm.icon=this.Z.icon("fit");this.wm.F="fit pattern to display [F]";this.Ji=this.o.sb(this.dr,Menu.xc,-85,0,40,40,["Grid"],[!1],Menu.Ya);this.Ji.icon=[this.Z.icon("grid")];this.Ji.F=["toggle gridlines [X]"];this.Ji.eb("16px Arial");this.yg=this.o.eJ();this.yg.locked=!0;this.lo=this.o.Ia(Menu.Yj,
0,-130,42,30,"Gen");this.lo.textAlign=Menu.left;this.lo.eb(x.Bh);this.lo.F="generation";this.qg=this.o.Ia(Menu.Yj,42,-130,98,30,"");this.qg.textAlign=Menu.right;this.qg.eb(x.Bh);this.qg.F="generation";this.Id=this.o.Ia(Menu.Yj,0,-100,70,30,"Time");this.Id.textAlign=Menu.left;this.Id.eb(x.Bh);this.Id.F="elapsed time";this.io=this.o.Ia(Menu.Yj,70,-100,70,30,"");this.io.textAlign=Menu.right;this.io.eb(x.Bh);this.io.F="elapsed time";this.on=this.o.Ia(Menu.Yj,210,-70,130,30,"");this.on.textAlign=Menu.left;
this.on.eb(x.Bh);this.on.F="selection size";this.gk=this.o.Ia(Menu.Yj,0,-70,210,30,"");this.gk.textAlign=Menu.left;this.gk.eb(x.Bh);this.gk.F="cell state at cursor position";this.jf=this.o.sb(this.Ox,Menu.Yj,0,-40,100,40,["T 0"],[this.Ch],Menu.Ya);this.jf.F=["toggle generation statistics [G]\ngeneration "+(this.g.counter+this.Sg)];this.Jl=this.o.Ia(Menu.Yj,0,-40,this.J-40,40,"");this.Jl.textAlign=Menu.left;this.Jl.m=!0;this.jd=this.o.Ia(Menu.fb,-70,-130,70,30,"Alive");this.jd.textAlign=Menu.left;
this.jd.eb(x.Bh);this.jd.F="current population";this.hn=this.o.Ia(Menu.fb,-140,-130,70,30,"");this.hn.textAlign=Menu.right;this.hn.eb(x.Bh);this.hn.F="alive";this.tk=this.o.Ia(Menu.fb,-70,-100,70,30,"Births");this.tk.textAlign=Menu.left;this.tk.eb(x.Bh);this.tk.F="cells born this generation";this.uk=this.o.Ia(Menu.fb,-140,-100,70,30,"");this.uk.textAlign=Menu.right;this.uk.eb(x.Bh);this.uk.F="births";this.ad=this.o.Ia(Menu.fb,-70,-70,70,30,"Deaths");this.ad.textAlign=Menu.left;this.ad.eb(x.Bh);this.ad.F=
"cells died this generation";this.qm=this.o.Ia(Menu.fb,-140,-70,70,30,"");this.qm.textAlign=Menu.right;this.qm.eb(x.Bh);this.qm.F="deaths";this.nn=this.o.Ia(Menu.Yj,0,-160,140,30,this.Kb);this.nn.eb(x.Bh);this.Cc=this.o.pk(this.fl,Menu.qa,0,0,x.Zt,40,0,1,.1,"Zoom ","",1);this.Cc.F="camera zoom [[ / ]]";this.ue=this.o.pk(this.Tt,Menu.Av,-84,0,40,292,x.kw,x.rw,1,"Layers ","",0);this.ue.F="number of layers [Q / A]";this.md=this.o.pk(this.$l,Menu.Av,-40,0,40,292,1,0,.1,"Depth ","",2);this.md.F="depth between layers [P / L]";
this.We=this.o.pk(this.Vt,Menu.gE,0,0,40,292,x.nw,x.uw,0,"Tilt ","",1);this.We.F="camera tilt [' / /]";this.Xd=this.o.pk(this.St,Menu.qa,0,50,390,40,0,359,0,"Angle ","\u00b0",0);this.Xd.F="camera angle [< / >]";this.Eg=this.o.Ea(this.ZA,Menu.fb,-40,-90,40,"");this.Eg.icon=this.Z.icon("shrink");this.Eg.F="shrink to thumbnail [N]";this.Oh=this.o.Ia(Menu.qa,0,100,120,40,"");this.Fj=this.o.sb(this.XD,Menu.pb,-100,-75,180,40,["Use Rectangles"],[this.g.sc],Menu.Ya);this.Fj.F=["toggle hexagonal cells [?]"];
this.Ep=this.o.sb(this.mI,Menu.pb,100,-75,180,40,["Cell Borders"],[this.g.kd],Menu.Ya);this.Ep.F=["toggle cell borders [Alt B]"];this.Hk=this.o.sb(this.sI,Menu.pb,-100,-25,180,40,["Major GridLines"],[this.g.Bl],Menu.Ya);this.Hk.F=["toggle major gridlines [Shift X]"];this.Xq=this.o.sb(this.xI,Menu.pb,100,-25,180,40,["Starfield"],[this.Xi],Menu.Ya);this.Xq.F=["toggle starfield display [S]"];this.Km=this.o.sb(this.rI,Menu.pb,-100,25,180,40,["Annotations"],[this.Wi],Menu.Ya);this.Km.F=["toggle annotations [Alt L]"];
this.Jq=this.o.sb(this.uI,Menu.pb,100,25,180,40,["Rainbow"],[this.g.de],Menu.Ya);this.Jq.F=["toggle rainbow mode [Alt W]"];this.Cp=this.o.sb(this.kI,Menu.pb,-100,75,180,40,["Auto GridLines"],[this.Ai],Menu.Ya);this.Cp.F=["automatically turn on gridlines for Draw and Select and off for Pan [Ctrl G]"];this.Nn=this.o.sb(this.jI,Menu.pb,100,75,180,40,["Alt GridLines"],[this.g.cm],Menu.Ya);this.Nn.F=["toggle alternating gridlines [Alt D]"];this.aq=this.o.sb(this.pI,Menu.pb,-100,-50,180,40,["AutoFit History"],
[this.Mi],Menu.Ya);this.aq.F=["toggle AutoFit History [Shift H]"];this.Fn=this.o.sb(this.tD,Menu.pb,100,-50,180,40,["Throttle"],[this.gm],Menu.Ya);this.Fn.F=["toggle playback throttling [Alt T]"];this.sn=this.o.sb(this.qD,Menu.pb,-100,0,180,40,["Perf. Warning"],[this.Oj],Menu.Ya);this.sn.F=["toggle performance warning display [Shift W]"];this.to=this.o.sb(this.Cy,Menu.pb,100,0,180,40,["Kill Gliders"],[this.g.uj],Menu.Ya);this.to.F=["toggle kill escaping gliders [Ctrl L]"];this.Dp=this.o.sb(this.lI,
Menu.pb,0,50,180,40,["AutoHide UI"],[this.Li],Menu.Ya);this.Dp.F=["toggle hide UI on playback [Alt U]"];this.il=this.o.Ea(this.$z,Menu.pb,-100,-125,180,"Change Rule");this.il.F="change rule [Alt R]";this.hl=this.o.Ea(this.su,Menu.pb,100,-125,180,"New Pattern");this.hl.F="new pattern [Alt N]";this.nk=this.o.Ea(this.qu,Menu.pb,-100,-75,180,"Load Pattern");this.nk.F="load last saved pattern [Ctrl O]";this.gl=this.o.Ea(this.tA,Menu.pb,100,-75,180,"Save Pattern");this.gl.F="save pattern [Ctrl S]";this.Lq=
this.o.Ea(this.Lz,Menu.pb,-100,-25,180,"Rand All");this.Lq.F="randomize pattern and rule [Alt Z]";this.Mh=this.o.Ea(this.rv,Menu.pb,100,-25,180,"Rand Pattern");this.Mh.F="randomize pattern and keep rule [Ctrl Alt Z]";this.bq=this.o.Ea(this.Zv,Menu.pb,-100,25,180,"Identify");this.bq.F="identify oscillator or spaceship period [F6]";this.pi=this.o.Ea(this.gF,Menu.pb,100,25,180,"Fast Identify");this.pi.F="quickly identify oscillator or spaceship period [Ctrl F6]";this.ll=this.o.Ea(this.qA,Menu.pb,-100,
75,180,"Save Image");this.ll.F="save image in new window [O]";this.jl=this.o.Ea(this.hA,Menu.pb,100,75,180,"Save Graph");this.jl.F="save population graph image in new window [Shift O]";this.ti=this.o.Ea(this.pF,Menu.pb,100,125,180,"Go To Gen");this.ti.F="go to specified generation [Shift N]";this.oi=this.o.Ea(this.LE,Menu.pb,-100,125,180,"Copy Rule");this.oi.F="copy rule definition [Ctrl J]";this.Up=this.o.sb(this.Mn,Menu.pb,0,-100,180,40,["Frame Times"],[this.j.Yk],Menu.Ya);this.Up.F=["toggle timing display [T]"];
this.Jt=this.o.sb(this.bE,Menu.pb,0,-50,180,40,["Timing Details"],[this.j.rn],Menu.Ya);this.Jt.F=["toggle timing details [Shift T]"];this.cq=this.o.sb(this.qI,Menu.pb,0,0,180,40,["Display Info Bar"],[this.nd],Menu.Ya);this.cq.F=["toggle Information Bar [Shift I]"];this.Oq=this.o.sb(this.wI,Menu.pb,0,50,180,40,["Relative Gen"],[this.zl],Menu.Ya);this.Oq.F=["toggle absolute/relative generation display [Shift G]"];this.nt=this.o.sb(this.tI,Menu.pb,0,100,180,40,["Render Quality"],[this.g.wh],Menu.Ya);
this.nt.F=["toggle anti-aliased cell display [Ctrl Q]"];this.lt=this.o.Ea(this.Au,Menu.ap,-135,-100,120,"Prev");this.lt.F="go to previous universe [Page Up]";this.Ms=this.o.Ea(this.tu,Menu.ap,135,-100,120,"Next");this.Ms.F="go to next universe [Page Down]";this.da=this.o.Ea(this.gu,Menu.fb,-40,-85,40,"Esc");this.da.F="close errors";this.da.eb("16px Arial");this.kt=this.o.Ea(this.gH,Menu.gE,10,0,40,"<");this.kt.F="go to previous POI [Shift J]";this.Ls=this.o.Ea(this.qG,Menu.Av,-50,0,40,">");this.Ls.F=
"go to next POI [J]";this.uq=this.o.pk(this.Nx,Menu.qa,0,45,172,40,0,1,this.Dd,"Opacity ","%",0);this.uq.F="graph opacity [7 / 9]";this.lq=this.o.sb(this.UH,Menu.xc,-85,45,40,40,[""],[!1],Menu.Ya);this.lq.icon=[this.Z.icon("lines")];this.lq.F=["toggle graph lines/points [Shift Y]"];this.vi=this.o.Ea(this.iA,Menu.xc,-40,45,40,"X");this.vi.F="close results [Esc]";this.fj=this.o.Ea(this.ku,Menu.xc,-40,45,40,"X");this.fj.F="close graph [Y]";this.hi=this.o.sb(this.dl,Menu.bd,0,45,40,40,[""],[this.Nk],
Menu.Ya);this.hi.icon=[this.Z.icon("pick")];this.hi.F=["pick state [F3]"];this.$q=this.o.sb(this.sD,Menu.bd,45,45,40,40,[""],[this.tn],Menu.Ya);this.$q.icon=[this.Z.icon("states")];this.$q.F=["toggle states display [Ctrl D]"];this.at=this.o.sb(this.WH,Menu.bd,90,45,40,40,[""],[this.Dq],Menu.Ya);this.at.icon=[this.Z.icon("drawpause")];this.at.F=["toggle pause playback while drawing [Ctrl P]"];this.Wq=this.o.sb(this.rD,Menu.bd,135,45,40,40,[""],[this.$o],Menu.Ya);this.Wq.icon=[this.Z.icon("smart")];
this.Wq.F=["toggle smart drawing [Shift F2]"];this.Uc=this.o.sb(this.lp,Menu.fb,-40,-40,40,40,[""],[!1],Menu.Ya);this.Uc.icon=[this.Z.icon("menu")];this.Uc.F=["toggle settings menu [M]"];this.Ys=this.o.Ea(this.zu,Menu.pb,0,-125,150,"Pattern");this.Ys.F="pattern settings";this.qj=this.o.Ea(this.rr,Menu.ap,0,-100,120,"Back");this.qj.F="back to previous menu [Backspace]";this.Sd=this.o.Ea(this.vp,Menu.ap,0,-100,120,"Cancel");this.Sd.F="cancel operation [Esc]";this.Sd.Jo=!0;this.aj=this.o.Ea(this.ZB,
Menu.pb,0,-75,150,"Theme");this.aj.F="choose colour theme";this.zm=this.o.sb(this.WD,Menu.pb,0,-25,150,40,["Graph"],[this.sd],Menu.Ya);this.zm.F=["toggle population graph display [Y]"];this.ps=this.o.Ea(this.mu,Menu.pb,0,25,150,"Advanced");this.ps.F="advanced settings";this.Mr=this.o.Ea(this.eu,Menu.pb,0,75,150,"Display");this.Mr.F="display settings";this.Gw=this.o.Ea(this.$t,Menu.pb,0,125,150,"Playback");this.Gw.F="playback settings";var e=-1;for(c=0;c<=this.g.rf;c+=1){var t=x.It[c];var A=x.HO[c];
A!==e?(m=120,e=A):m+=60;this.G[c]=this.o.sb(null,Menu.qa,140*A-210,m,120,40,[this.Dx(t)],[!1],Menu.Ya);this.G[c].F=["select "+this.Dx(t)+" theme"];this.G[c].eb("20px Arial")}this.G[0].Tb=this.fE;this.G[1].Tb=this.jE;this.G[2].Tb=this.ky;this.G[3].Tb=this.my;this.G[4].Tb=this.ny;this.G[5].Tb=this.oy;this.G[6].Tb=this.py;this.G[7].Tb=this.qy;this.G[8].Tb=this.ry;this.G[9].Tb=this.sy;this.G[10].Tb=this.Vx;this.G[11].Tb=this.Xx;this.G[12].Tb=this.Yx;this.G[13].Tb=this.Zx;this.G[14].Tb=this.$x;this.G[15].Tb=
this.cy;this.G[16].Tb=this.dy;this.G[17].Tb=this.ey;this.G[18].Tb=this.iy;this.G[19].Tb=this.jy;this.G[20].Tb=this.ly;this.Lm=this.o.Ia(Menu.qa,-210,60,120,40,"Default");this.Im=this.o.Ia(Menu.qa,-70,60,120,40,"Classic");this.Om=this.o.Ia(Menu.qa,70,60,120,40,"Program");this.Jm=this.o.Ia(Menu.qa,210,60,120,40,"Basic");this.wn=this.o.Ea(this.LB,Menu.fb,-405,-40,40,"1x");this.wn.F="set 1x playback speed [0]";this.Ue=this.o.pk(this.fk,Menu.fb,-360,-40,105,40,0,2,1,"","",-1);this.Ue.F="playback speed [+ / -]";
this.Vl=this.o.Ia(Menu.fb,-284,-30,27,20,0);this.Vl.eb(x.Bh);this.Vl.m=!0;this.ek=this.o.Ea(this.yy,Menu.fb,-495,-40,40,"");this.ek.icon=this.Z.icon("undo");this.ek.F="undo [Ctrl Z]";this.Qo=this.o.Ea(this.Rz,Menu.fb,-450,-40,40,"");this.Qo.icon=this.Z.icon("redo");this.Qo.F="redo [Ctrl Y]";this.Jp=this.o.sb(this.VD,Menu.xc,-130,0,40,40,["Sync"],[this.Wh],Menu.Ya);this.Jp.F=["sync cut and copy with external clipboard [Alt S]"];this.Jp.eb("15px Arial");this.Eb=this.o.sb(this.Gd,Menu.fb,-205,-40,160,
40,["","","",""],x.Qe,Menu.un);this.Eb.icon=[this.Z.icon("tostart"),this.Z.icon("stepback"),this.Z.icon("stepforward"),this.Z.icon("play")];this.Eb.F=["reset [R]","previous generation [Shift Tab]","next generation [Tab]","play [Enter]"];this.Od=this.o.sb(this.aE,Menu.xc,-280,45,280,20,"0123456".split(""),this.ef,Menu.un);this.Od.F="dead;alive;history;mark 1;mark off;mark 2;kill".split(";");this.Od.eb("14px Arial");this.B=this.o.sb(this.Ux,Menu.xc,-280,65,280,20,"      ".split(" "),[!1,!1,!1,!1,!1,
!1,!1],Menu.Ya);this.B.F="dead;alive;history;mark 1;mark off;mark 2;kill".split(";");this.B.oe=1;this.Fh=this.o.Ea(null,Menu.bd,175,45,5,"");this.Fh.oe=0;this.Fh.locked=!0;this.Fh.border=0;this.dh=this.o.pk(this.ul,Menu.bd,180,45,130,40,0,1,0,"","",-1);this.dh.F="select drawing states range";this.Ag=this.o.Ea(this.DH,Menu.bd,0,45,40,"All");this.Ag.icon=this.Z.icon("select");this.Ag.F="select all cells [Ctrl A]";this.Ag.eb("16px Arial");this.Pn=this.o.sb(this.UD,Menu.bd,45,45,40,40,["Auto"],[this.qk],
Menu.Ya);this.Pn.icon=[this.Z.icon("autoshrink")];this.Pn.F=["toggle auto shrink selection [Alt A]"];this.Pn.eb("16px Arial");this.Rd=this.o.Ea(this.jB,Menu.bd,90,45,40,"");this.Rd.icon=this.Z.icon("shrinksel");this.Rd.F="shrink selection [Shift A]";this.El=this.o.sb(null,Menu.bd,135,45,40,40,[""],[!1],Menu.Ya);this.El.icon=[this.Z.icon("selectlibrary")];this.El.F=["toggle clipboard library [Shift B]"];this.xr=this.o.sb(this.nI,Menu.qa,0,90,400,40,"0123456789".split(""),this.Pg,Menu.un);this.Zu();
this.Lo=this.o.sb(this.YD,Menu.xc,-160,45,160,40,["AND","CPY","OR","XOR"],x.cI[this.an],Menu.un);this.Lo.F=["paste mode [Shift M]","paste mode [Shift M]","paste mode [Shift M]","paste mode [Shift M]"];this.Lo.eb("16px Arial");this.ne=this.o.Ea(this.XE,Menu.bd,180,45,40,"");this.ne.icon=this.Z.icon("cut");this.ne.F="cut [Ctrl X]";this.Wd=this.o.Ea(this.bu,Menu.bd,225,45,40,"");this.Wd.icon=this.Z.icon("copy");this.Wd.F="copy [Ctrl C]";this.wg=this.o.Ea(this.WG,Menu.bd,270,45,40,"");this.wg.icon=this.Z.icon("paste");
this.wg.F="paste [Ctrl V]";this.Td=this.o.Ea(this.wp,Menu.fb,-220,-175,40,"");this.Td.icon=this.Z.icon("cancelsel");this.Td.F="cancel selection [Ctrl K]";this.Gf=this.o.Ea(this.vu,Menu.fb,-175,-175,40,"");this.Gf.icon=this.Z.icon("nudgeleft");this.Gf.F="nudge left [Alt Left]";this.Hf=this.o.Ea(this.xu,Menu.fb,-130,-175,40,"");this.Hf.icon=this.Z.icon("nudgeright");this.Hf.F="nudge right [Alt Right]";this.vg=this.o.Ea(this.yu,Menu.fb,-85,-175,40,"");this.vg.icon=this.Z.icon("nudgeup");this.vg.F="nudge up [Alt Up]";
this.pf=this.o.Ea(this.uu,Menu.fb,-40,-175,40,"");this.pf.icon=this.Z.icon("nudgedown");this.pf.F="nudge down [Alt Down]";this.Ee=this.o.Ea(this.lF,Menu.fb,-265,-85,40,"");this.Ee.icon=this.Z.icon("flipx");this.Ee.F="flip horizontally [Alt X]";this.Fe=this.o.Ea(this.mF,Menu.fb,-220,-85,40,"");this.Fe.icon=this.Z.icon("flipy");this.Fe.F="flip vertically [Alt Y]";this.zg=this.o.Ea(this.vH,Menu.fb,-175,-85,40,"");this.zg.icon=this.Z.icon("rotatecw");this.zg.F="rotate clockwise [>]";this.xg=this.o.Ea(this.uH,
Menu.fb,-130,-85,40,"");this.xg.icon=this.Z.icon("rotateccw");this.xg.F="rotate counter-clockwise [<]";this.Vd=this.o.Ea(this.Wt,Menu.fb,-85,-85,40,"");this.Vd.icon=this.Z.icon("inside");this.Vd.F="clear cells in selection [Del]";this.Ud=this.o.Ea(this.xp,Menu.fb,-40,-85,40,"");this.Ud.icon=this.Z.icon("outside");this.Ud.F="clear cells outside selection [Shift Del]";this.hm=this.o.Ea(this.zp,Menu.fb,-40,-130,40,"R");this.hm.icon=this.Z.icon("select");this.hm.F="clear History cells [Ctrl Del]";this.hm.eb("16px Arial");
this.ab=this.o.Ea(this.HF,Menu.fb,-85,-130,40,"");this.ab.icon=this.Z.icon("invertselection");this.ab.F="invert cells in selection [Ctrl I]";this.T=this.o.Ea(this.Qu,Menu.fb,-130,-130,40,"");this.T.icon=this.Z.icon("random");this.T.F="random fill [Shift 5]";this.Dc=this.o.Ea(this.Nu,Menu.fb,-175,-130,40,"2");this.Dc.icon=this.Z.icon("random");this.Dc.F="random 2-state fill [Ctrl Shift 5]";this.Qk=this.o.pk(this.vI,Menu.fb,-275,-130,100,40,1,100,this.Rj,"","%",0);this.Qk.F="random fill density";this.Mo=
this.o.pk(this.ZD,Menu.xc,-265,45,100,40,0,x.tG-1,this.Yg,"","",-1);this.Mo.F="paste location [Shift L]";this.Mo.eb("16px Arial");this.tl=this.o.Ea(this.Fz,Menu.fb,-250,-40,40,"");this.tl.icon=this.Z.icon("uturn");this.tl.F="reverse playback direction [U]";this.El.Cu([this.xr]);this.Uc.Cu([this.Oh,this.ue,this.md,this.Xd,this.We,this.qj,this.aj,this.Ys,this.ps,this.Mr,this.Gw,this.Fn,this.sn,this.Eg,this.da,this.Dp,this.Cp,this.Nn,this.Fj,this.Ep,this.Km,this.to,this.zm,this.Up,this.Jt,this.cq,this.Xq,
this.aq,this.Hk,this.lt,this.Ms]);this.jf.Cu([this.jd,this.hn,this.tk,this.uk,this.ad,this.qm,this.lo,this.qg,this.Id,this.io,this.nn]);this.Dk.Cu([this.na,this.Ph,this.Nh])};h.prototype.Uo=function(c){var m=this,e=0,t=0;this.Rc=c;this.Rc.getContext&&(e=this.Rc.width,t=this.Rc.height,e!==this.Ik&&z.Fs&&(e=this.Ik),e<x.Sc&&(e=x.Sc),t<x.Kj&&(t=x.Kj),e&=-8,this.Rc.width!==e&&(this.Rc.width=e),this.Rc.height!==t&&(this.Rc.height=t),this.Jc=this.Rc.getContext("2d",{alpha:!1}),this.Jc.globalAlpha=1,this.Jc.fillStyle=
"black",this.Jc.imageSmoothingEnabled=!1,this.Jc.imageSmoothingQuality="low",this.Jc.fillRect(0,0,this.Rc.width,this.Rc.height),this.Jc.textAlign="left",this.Jc.textBaseline="middle",this.J=this.Rc.width,this.H=this.Rc.height,this.g=new Life(this.Jc,this.J,this.H,512,256,this.C),this.g.IL(this.Jc,this.J,this.H),this.Ka=this.g.A.R(Float32,x.sG,"View.elapsedTimes"),this.Ul=new Stars(x.Bw,this.g.A),this.cu(this.Jc),this.j=new MenuManager(this.Rc,this.Jc,"24px Arial",this.Z,this,this.ju),this.j.Yk=!1,
this.g.aK(),this.du(),this.NB=this.Eb.Sk,this.MC=this.Ue.Sk,this.LC=this.wn.Sk,this.Ez=this.tl.Sk,this.WC=this.Vl.Sk,registerEvent(this.Rc,"wheel",function(A){m.Sy(m,A)},!1),this.j.notification.enabled=!0,this.j.$I(this.o),registerEvent(this.Rc,"keydown",function(A){m.ou(m,A)},!1))};h.prototype.Dx=function(c){var m=this.g.mb,e="";c|=0;c<m.length&&(e=m[c].name);return e};h.prototype.FO=function(c){var m=!1,e=this.g.mb,t=0;for(c=c.toLowerCase();t<e.length-1&&!m;)e[t].name.toLowerCase()===c?m=!0:t+=
1;m||(t=-1);return t};h.prototype.bP=function(c){var m=this.X.Ur();m.ig||(m.x=this.g.width/2-this.g.Ca);m.Qf||(m.y=this.g.height/2-this.g.va);m.ke||(m.zoom=this.g.zoom);m.Sh||(m.angle=this.g.angle);m.mi||(m.Na=this.g.Na);m.Pi||(m.$=this.g.$);m.Gi||(m.depth=this.g.Oe);m.Xf||(m.Hc=this.lc);m.wf||(m.step=this.tb);m.Ig||(m.Mc=this.g.Uf);this.X.VM(c,this)};h.prototype.NK=function(c){var m=c,e=this.Jc,t=c.length;e.font=(18*this.o.Ih|0)+"px "+x.SD;var A=e.measureText(c).width;if(500<A){--t;for(A=e.measureText(c.substr(0,
t)+"...").width;500<A;)--t,A=e.measureText(c.substr(0,t)+"...").width;m=m.substr(0,t)+"..."}return m};h.prototype.kN=function(c,m){ScriptParser.DM(this,c,m)};h.prototype.FN=function(){this.rx=!1;this.g.de=!1;this.Gg=-1;this.os=this.Dv=!1;this.g.ga=1<<x.kK;this.ao=this.gD=-1;this.$w=this.eC=this.Gl=this.eB=this.zw=this.Zc=!1;this.g.cc=0;this.g.Zb=0;this.g.Bc=1;this.nd=this.Ku=this.Ec=this.FF=!1;this.ql=this.Yh=this.kc=null;this.yj=x.yj;this.g.Bj=this.g.wL;this.g.Aj=this.g.vL;this.g.zj=this.g.uL;this.g.Cj=
this.g.xL;this.g.Dj=this.g.yL;this.Ng=this.Af=this.Ov=!1;this.jc=-1;this.xf=!1;this.jb=-1;this.Ch=this.Mf=this.sp=this.Ae=this.op=this.Wc=this.Xe=this.Xc=!1;this.K=this.Hs=2<this.g.i?63<=256-this.g.i?63:256-this.g.i:63;this.zi=this.XF;this.se=!1;this.g.uj=!1;this.g.Os=0};h.prototype.YC=function(){this.ck?(l(this.element),this.j.hasFocus=!1):(this.J=this.Wm,this.H=this.jD,this.Ec?(this.wb=!1,this.Rg(!0,!1,x.Ck)):this.g.zoom=this.gn,this.Cc&&(this.Cc.current=this.fl([this.g.zoom,this.g.zoom],!1,this)),
this.ha=this.Vm,this.wb=!1,this.j.wb=!1,this.o.m=!1,this.j.Bk||this.j.notification.notify("Shrink with hotkey N",15,100,15,!0),this.resize())};h.prototype.ju=function(c){c.wb?(c.YC(),c.lD&&!c.cb&&(c.Eb.current=c.Gd(x.Kk,!0,c))):c.Zc&&(c.Gl||c.zr(c,!1));c.Wu=!1};h.prototype.resize=function(){this.Kw&&(B.Lw.oC=this.mk-this.J,this.mk=this.J,this.Kw=!1);this.Rc.width=this.J;this.Rc.height=this.H;this.Jc.textBaseline="middle";this.g.rH(this.J,this.H)};h.prototype.ZC=function(){this.Wm=this.J;this.jD=this.H;
this.gn=this.g.zoom;this.Vm=this.ha;this.J=this.J/this.Ve|0;this.H=this.H/this.Ve|0;this.g.zoom=this.g.zoom/this.Ve;this.J&=-8;this.o.m=!0;this.j.wb=!0;this.j.Ve=this.Ve;this.j.hasFocus=!1;this.wb=!0;this.resize()};h.prototype.QD=function(){var c=this.g.i,m;c>this.Vg&&(c=this.Vg);this.Od.lower=[];this.Od.F=[];this.Od.Vi(40*c);this.B.lower=[];this.B.F=[];this.B.current=[];this.B.Vi(40*c);this.B.oe=1;for(m=0;m<c;m+=1){var e=m+this.dg;this.Od.lower[m]=String(e);var t=this.Vp(e);10>e&&(t+=" [Ctrl "+e+
"]");this.Od.F[m]=t;this.B.lower[m]="";this.B.F[m]=t;this.B.current[m]=!1}e=this.ef;0<e&&(this.g.Fa||this.g.L||this.g.fa||this.g.V||(e=this.g.i-e));this.Od.current=e-this.dg};h.prototype.KH=function(){var c=this.g.i,m=this.o.Ye;this.ef=1;this.dg=0;this.$q.current=[this.sD([!0],!0,this)];this.Vg=7+((this.J/m-x.Sc)/(40*m)|0);this.Vg>c&&(this.Vg=c);this.g.ta?(this.Od.lower="0123456".split(""),this.Od.Vi(280),this.Od.F="dead [Ctrl 0];alive [Ctrl 1];history [Ctrl 2];mark 1 [Ctrl 3];mark off [Ctrl 4];mark 2 [Ctrl 5];kill [Ctrl 6]".split(";"),
this.Od.current=this.ef,this.B.lower="      ".split(" "),this.B.Vi(280),this.B.F="dead [Ctrl 0];alive [Ctrl 1];history [Ctrl 2];mark 1 [Ctrl 3];mark off [Ctrl 4];mark 2 [Ctrl 5];kill [Ctrl 6]".split(";"),this.B.oe=1,this.B.current=[!1,!1,!1,!1,!1,!1,!1]):2>=c?(this.Od.lower=["0","1"],this.Od.Vi(80),this.Od.F=["dead [Ctrl 0]","alive [Ctrl 1]"],this.Od.current=this.ef,this.B.lower=["",""],this.B.Vi(80),this.B.F=["dead [Ctrl 0]","alive [Ctrl 1]"],this.B.oe=1,this.B.current=[!1,!1]):(this.ef=this.g.Fa||
this.g.L||this.g.fa||this.g.V?1:c-1,this.QD(),this.Od.Vi(40*this.Vg),this.B.Vi(40*this.Vg),this.dh.current=this.ul([0,0],!0,this));this.Od.setPosition(Menu.xc,-this.Od.bx,45);this.B.setPosition(Menu.xc,-this.B.bx,65)};h.prototype.cO=function(c){var m=this.g.rf;-1===c&&(this.Zh?c=m:c=this.g.ta?10:2<this.g.i&&!this.g.L&&!this.g.fa?11:this.g.la?17:this.g.L||this.g.fa?18:1);this.ev&&c!==m&&this.g.mb[c].Am!==this.g.Ef&&(this.g.mb[m].set(this.g.mb[c]),c=m,this.g.mb[m].Am=this.g.Ef,this.Zh=!0);this.qn(c,
1,this)};h.prototype.BH=function(){var c=window.innerWidth,m=window.innerHeight,e=this.J,t=this.H+80;e*=this.devicePixelRatio;t*=this.devicePixelRatio;var A=this.devicePixelRatio;this.Of=1;if(e>c||t>m)if(A=e/c,t/m>A&&(A=t/m),e/=A,t=this.H*this.devicePixelRatio/A,A=e/this.J,t/this.H<A&&(A=t/this.H),e<x.Sc||t<x.Kj)A=e/x.Sc,t/x.Kj<A&&(A=t/x.Kj),e/=A,t/=A,this.Of=A,A=1;this.J=e&-8;this.H=t|0;this.j.Of=this.Of;B.Lw.Of=this.Of;this.o.HN(A);this.Z.jO(A);this.bs=18*A|0;this.Yp=this.bs+"px "+x.kF;this.Dm=
this.bs+"px "+x.SD;this.J!==this.mk&&(this.Kw=!0)};h.prototype.IE=function(){this.xl=!1;this.Sg=0;this.vh=!1;this.kn=this.jn=0;this.Zs=this.Aq=this.en=this.rd=this.Kb="";this.$s=this.fn=this.qb=this.kb=0;this.Nj="(none)";this.g.Fa=!1;this.g.la=!1;this.g.L=!1;this.g.ta=!1;this.g.V=!1;this.g.U=!1;this.g.Ug=this.C.$p;this.g.P=!1;this.g.ie=this.C.Kn;this.g.Ne=!1;this.g.je=-1;this.g.Ew=!1;this.g.i=-1;this.g.xa=-1;this.Ha=this.Bd=this.g.pa=!1;this.g.fa=!1;this.g.Uk=null;this.g.Vk=null;this.g.xe=null;this.g.fe=
null;this.g.$g=[];this.g.ge=null;this.g.Zg=0;this.g.Uj=0;this.g.Ll=0};h.prototype.ki=function(c,m){this.lc=60;this.tb=1;this.Ue.current=this.fk([this.Tl(),1],!0,this);this.Ym=this.J;this.Xm=this.H;c=this.C.create("",c,this.g.A,this.Ip,this.au,[m],this);this.MF=this.C.D;this.C.jw?(c=this.C.create("","x=1,y=1,rule=Life\n!",this.g.A,this.Ip,this.Ip,[m],this),this.Ip(c,[m],this),this.J=this.Ym,this.H=this.Xm,this.j.notification.clear(!1,!0),this.j.notification.notify("Loading rule...",15,1E4,15,!0)):
this.Ip(c,[m],this)};h.prototype.au=function(c,m,e){e.C.D=e.MF;e.C.Ha=!0;e.Ip(null,m,e)};h.prototype.Ip=function(c,m,e){var t=!1;var A=m[0];var C;e.bw=-1!==window.navigator.userAgent.indexOf("Edge")?!0:!1;e.g.wh=!1;e.g.zk=null;e.um=!1;e.ng=-1;e.Fn.current=e.tD([!0],!0,e);e.Xk=!1;e.Ql=!1;e.Pl=!1;e.Sl=!1;e.Rl=!1;e.g.Uf=-1;e.j.qH();e.Wh=!0;e.qk=!1;e.ub=!1;e.Ak=!1;e.$f=[];for(m=0;10>m;m+=1)e.$f[m]=null;e.Pg=0;e.tr=!1;e.Db=null;e.od=!1;e.Kf=0;e.Jf=0;e.Ld=!1;e.Qh=!1;e.Lo.current=e.YD(2,!0,e);e.Eq=!1;e.Rk=
[];e.Mq=[];e.Ed=[];e.Sj=[];e.pg=[];e.Zn=[];e.ld=0;e.zc=0;e.Eo=0;e.g.Fg=!1;e.Xg=[];e.cd=x.Ws;e.xq=0;e.Us=-1;e.wq=[];e.Vs=0;e.Gj=!1;e.mB=0;e.nB=0;e.Jk=0;e.cw=!1;e.$m=x.rk;e.cn=-x.rk;e.Zm=x.rk;e.dn=-x.rk;e.j.notification.clear(!0,!0);e.j.notification.clear(!1,!0);e.g.td=!1;e.g.ud=!1;e.eE=!1;if(c){e.xl=e.C.xl;e.Sg=e.C.Tz;e.vh=e.C.vh;e.jn=e.C.Mw;e.kn=e.C.Nw;e.$k=e.C.$k;e.Zk=e.C.Zk;e.kb=c.width;e.qb=c.height;e.Aq=c.name;e.Zs=c.xG;e.Nj=c.Nj;""===e.Nj&&(e.Nj="(none)");e.fn=c.Cd;e.$s=c.Qs;e.Kb=c.I;e.rd=c.lg;
e.en=c.Fp;e.g.Fc=c.Fc;e.g.Kg=c.Kg;e.Ha=e.C.Ha;e.g.ta=c.Ic;e.g.V=c.V;e.hm.F="clear History cells [Ctrl Del]";e.g.V&&(e.hm.F="clear Super cells [Ctrl Del]");e.g.i=c.i;!e.Ha&&2<c.Cd&&(e.g.i=c.Cd);e.g.ge=null;e.g.$g=null;e.li=[];-1!==c.Te?(e.g.Dg=c.Dg,e.g.Te=c.Te,e.g.i=c.Te,e.g.ji=c.ji,e.g.Nl=c.Nl,e.g.Uk=c.Uk,e.g.Vk=c.Vk,e.g.xe=c.xe,e.g.fe=c.fe,e.li=c.Qq,e.g.fa=!0):e.g.fa=!1;null!==c.ge&&(e.g.$g=c.$g,e.g.ge=c.ge,e.g.Zg=c.Zg,e.g.Uj=c.Uj,e.g.Ll=c.Ll,e.g.i=c.Cg,e.g.xe=c.xe,e.g.fe=c.fe,e.li=c.Qq,e.g.fa=!0);
e.g.YM(c.fe);if(e.g.pa=c.pa)e.g.za.Vb=c.Ze,e.g.za.xx=c.eg,e.g.za.Vo=c.i,e.g.za.nO(c.vb,c.ee,c.Me,c.Ei,c.P,c.yf,c.Hh,c.Vf,c.Wf),e.C.oc?(e.g.za.Fu=c.lr,e.g.za.Gu=c.mr,e.g.za.oc=!0):e.g.za.oc=!1,e.eE=c.te;e.g.Fa=c.Fa;e.g.la=c.la;e.g.cm=e.g.la;e.g.L=c.L;e.g.sc=!1;e.g.U=c.U;e.g.Ew=c.U;e.g.Ug=c.Ug;e.g.P=c.P;e.g.ie=c.ie;e.g.Ne=c.Ne;e.g.je=c.je;e.g.xa=c.tc;e.g.Aa=c.kf;e.g.wa=c.Tg;e.g.Sn=c.Wr;e.g.Tn=c.Wp;e.g.Ou=c.Yz;e.g.Vy=c.Nv;e.Cq=new Uint32Array(e.fn);for(m=0;m<e.fn;m+=1)e.Cq[m]=e.C.cp[m]}else e.IE();e.g.qO();
e.Wi=!0;e.sd=!1;e.uh=!0;e.Dd=x.bF;e.Ac=c?!1:!0;e.yl=!0;e.zl=!1;e.D=e.C.D;e.g.Y=1;e.g.qt=x.$E;e.Qb=0;e.Rb=0;e.jh=-1;e.Dh=-1;e.Xn=!1;e.wr=!1;e.o.locked=!1;e.Mi=!1;e.Yi=!1;e.g.TK();e.g.UK();e.g.ta&&e.g.OE();e.g.ta&&e.g.UE();e.ej="";e.Xi=!1;ColourManager.Ff();e.g.Zd=x.Mv;e.g.rg=x.Lv;e.g.Ef=10;e.g.mK=10;e.g.Bl=!0;e.WE=-1;e.VE=-1;e.lc=60;e.tb=1;e.g.$=1;e.g.Oe=.1;e.g.angle=0;e.g.Na=0;e.g.zoom=6;e.g.BN(e.lK,e.jK);e.g.ur(!1);e.g.Ca=e.g.width/2;e.g.va=e.g.height/2;e.Cz=!1;e.Az=!1;e.Bz=!1;e.df=0;e.xj=0;e.sf=
-1;e.yh=-1;e.bg=-1;e.Ti=-1;e.sa[x.lh]=-1;e.sa[x.wj]=-1;e.sa[x.fv]=-1;e.sa[x.Fi]=-1;e.sa[x.Br]=-1;e.sa[x.Cr]=-1;e.sa[x.Dr]=-1;e.sa[x.pv]=-1;e.sa[x.qv]=-1;e.sa[x.gv]=-1;e.sa[x.mv]=-1;e.sa[x.lv]=-1;e.sa[x.kv]=-1;e.sa[x.nv]=-1;e.sa[x.ov]=-1;e.sa[x.jv]=-1;e.sa[x.Er]=-1;e.sa[x.hv]=-1;e.sa[x.sz]=-1;e.sa[x.Ir]=-1;e.sa[x.Gr]=-1;e.sa[x.Jr]=-1;e.sa[x.Lr]=-1;e.sa[x.Kr]=-1;e.sa[x.Hr]=-1;e.sa[x.Ar]=-1;e.sa[x.Fr]=-1;e.sa[x.rz]=-1;e.sa[x.vz]=-1;e.sa[x.uz]=-1;e.sa[x.qz]=-1;e.oz=x.LF;e.nz=x.Iu;e.pz=x.bH;e.wb&&e.YC();
e.Yl=!1;e.j.wb=!1;e.Ve=x.dF;e.ck=!1;e.j.ck=!1;e.Ex=!1;e.Bd=c?!1:!0;e.Va=!1;e.g.qc=!1;e.g.kd=!1;e.Eb.m=!1;e.pd.m=!1;e.jf.m=!1;e.Ue.m=!1;e.Uc.m=!1;e.ue.m=!1;e.md.m=!1;e.aj.m=!1;e.Fn.m=!1;e.sn.m=!1;e.o.m=!1;e.yg.m=!1;e.ek.m=!1;e.Qo.m=!1;e.Ys.m=!1;e.ps.m=!1;e.Gw.m=!1;e.Mr.m=!1;e.qj.m=!1;e.tl.m=!1;e.wn.m=!1;e.Uc.current=[!1];e.jf.current=[!1];e.ha=0;e.pc=0;e.El.current=[!1];e.Pn.current=e.UD([e.qk],!0,e);e.Jp.current=e.VD([e.Wh],!0,e);e.yx=!1;e.pd.current=e.el(x.Rm,!0,e);e.Qk.current=e.vI([50,50],!0,e);
e.Mo.current=e.ZD([x.yq,x.yq],!0,e);e.Dk.current=e.kp([e.ha],!0,e);e.lm=[96,96,96];e.g.nl=e.g.ae?4284506208:1616929023;e.mm=[128,128,128];e.g.fm=e.g.ae?4286611584:2155905279;e.pm=[0,255,0];e.g.DC="rgb(0,255,0)";e.om=[255,0,0];e.g.kB="rgb(255,0,0)";e.km=[255,255,0];e.g.Du="rgb(255,255,0)";e.X.reset();e.Wc=!1;e.X.DJ();e.Li=!1;e.ce=!1;e.Oj=!0;e.Zh=!1;e.ev=!1;e.g.og=!1;e.Zw=x.Kq;e.Uw=x.Kq;e.Sw=50;e.pt=!1;e.Vw=!1;e.Yw=!1;e.Hl=-1;e.Il=-1;e.mn=-1;e.ii=[];e.Qj=[];e.ix=!1;e.lD=!1;e.PC=!0;e.OC=!0;if(c){e.g.ta?
(e.Og=[0,65280,128,14221272,16711680,16776960,6316128],e.yr="[R]History"):(e.Og=ColourManager.xz,e.yr="(default)");e.FN();e.Xw=Date.now().toString();!e.Nd&&z.fullScreen&&(e.J=document.body.clientWidth&-8,e.H=window.innerHeight-128,e.J<x.Sc&&(e.J=x.Sc),e.H<x.Kj&&(e.H=x.Kj),t=!0);c.title&&(m=c.Cd,e.g.ta&&(m=7),e.g.L&&(m=16),e.g.V&&(m=26),e.kN(c.title,m),e.Ed.length&&(e.pc=1),e.wb&&A&&(e.wb=!1),-1<e.sf&&(e.sf&=-8,e.sf!==e.J&&(e.J=e.sf,t=!0)),-1<e.yh&&e.yh!==e.H&&(e.H=e.yh,t=!0),e.Nd&&(-1<e.bg?(e.bg&=
-8,e.bg!==e.J&&(e.J=e.bg,t=!0)):e.J<x.Sc&&(e.J=x.Sc),-1<e.Ti&&e.Ti!==e.H&&(e.H=e.Ti,t=!0)));e.g.de&&(2<e.g.i||e.g.pa||e.g.L||e.g.ta||e.g.fa||e.g.la)&&(e.g.de=!1);if(!e.Ha||e.g.fa||e.g.V)e.K=0;e.$b.Ff(e.Xw);e.Nd&&(e.Ym=e.J,e.Xm=e.H,e.BH());c.Jg&&0===e.Xg.length&&(e.Ha=!1);e.KH();e.HH();e.YO();e.WO();e.g.eN();e.g.K=e.K;e.g.zi=e.zi;e.ck&&!e.sd&&(e.Ac=!0,e.sd=!1);e.g.jJ(!e.Ac);if(c.width>e.g.ga||c.height>e.g.ga)e.D="Pattern too big (maximum "+e.g.ga+"x"+e.g.ga+")",e.Jg=!0,e.Ha=!1,e.IE();if(-1!==c.tc){var D=
6;c.pa&&(D=6*c.ee);c.te&&(D=6*c.dd);if(c.kf>=e.g.ga-D||c.Tg>=e.g.ga-D)e.D="Bounded grid is too big",e.Ha=!1,e.g.xa=-1}e.g.QO(e);e.cw&&(e.g.kz(),e.XM());e.dE=!1;if(-1!==e.g.xa){A=e.g.Aa;var E=e.g.wa;0===A&&(A=c.width);0===E&&(E=c.height)}else A=c.width,E=c.height,0<e.Xg.length&&(A=e.KJ(A),E=e.JJ(E));D=x.ug;e.g.pa&&(D=4*e.g.za.fh+1,-1!==e.g.xa&&(D+=2*e.g.za.fh),e.g.za.type===e.C.Nf&&(D=-1!==e.g.xa?D+e.g.wa/2:D+2*e.g.za.fh),D<x.ug&&(D=x.ug));m=e.g.ga/2-D;e.vh&&(e.jn<-m?e.jn=-m:e.jn>=m&&(e.jn=m-1),e.kn<
-m?e.kn=-m:e.kn>=m&&(e.kn=m-1),e.Qb+=e.jn,e.Rb+=e.kn);e.Qb<-m?e.Qb=-m:e.Qb>=m&&(e.Qb=m-1);e.Rb<-m?e.Rb=-m:e.Rb>=m&&(e.Rb=m-1);m=e.g.width<e.g.ga&&A+D+2*Math.abs(e.Qb)>=e.g.width;for(C=e.g.height<e.g.ga&&E+D+2*Math.abs(e.Rb)>=e.g.height;m||C;)e.g.Zr(m,C),m&&(e.df+=e.g.width>>2),C&&(e.xj+=e.g.height>>2),m&&(e.tf+=e.g.width>>2),C&&(e.Wj+=e.g.height>>2),e.g.U&&C&&(e.df-=e.g.height>>3,e.tf-=e.g.height>>3),m=e.g.width<e.g.ga&&A+D+2*Math.abs(e.Qb)>=e.g.width,C=e.g.height<e.g.ga&&E+D+2*Math.abs(e.Rb)>=e.g.height;
c.pa&&e.g.za.resize(e.g.width,e.g.height);e.LJ(c.width,c.height);e.g.ta&&e.C.cp[6]&&e.g.UM(c,e.Kc,e.Lc);e.Yh?e.j.notification.hh="rgb("+e.Yh[0]+","+e.Yh[1]+","+e.Yh[2]+")":e.j.notification.hh=e.j.notification.hH;if(null===e.kc)for(m=0;m<e.Og.length;m+=1)e.$n[m]=e.C.cp[m]?x.NH:x.UC;e.g.hc?(e.g.bK(e.Og,e.kc),e.g.og=!0):e.g.og=!1;c.Jg||e.TJ(c);e.nn.Za=""!==e.rd?e.rd:e.Kb;e.nn.F=e.Kb;""!==e.rd&&(e.nn.F+=" alias "+e.rd)}else e.HH();e.Ui=!1;e.HA="none";e.Ob="none";e.jq="none";e.Bs="none";e.kq="none";e.As=
"none";e.ew="none";e.gq="none";e.Cs="none";e.hq="none";e.Ds="none";e.iq="none";e.Hb=!1;e.bq.current=[e.Hb];e.g.qs(e.Hb);e.sn.current=e.qD([e.Oj],!0,e);e.g.kz();e.cO(e.gD);e.g.kc=e.kc;e.g.Fa||!e.Ha&&2<e.g.i?e.g.NE(e.Og,e.kc):e.g.ME();e.g.Yd(1);e.g.bO();e.Ep.current=[e.g.kd];e.Wq.current=e.rD([e.$o],!0,e);e.uq.current=e.Nx([e.Dd,e.Dd],!1,e);e.lq.current=[e.uh];e.pj.current=[e.Ec];e.Ji.current=[e.g.qc];e.Jq.current=[e.g.de];e.g.counter=0;e.g.af=0;e.g.Ij=0;e.Nb=0;e.elapsedTime=0;e.pd.Zf=[!1,!1,!1];if(e.Bd)c&&
(e.g.nC(e.Yi),e.kc&&(e.Og=e.kc)),e.HJ=e.Og.length,e.g.NE(e.Og,e.kc),e.g.bh.reset(),e.Ac=!0,e.sd=!1;else{e.g.nC(e.Yi);e.g.hx();2>=e.g.i&&e.g.gx(e.g.hb);e.g.ta&&e.C.cp[2]&&e.g.WJ(c,e.Kc,e.Lc);e.gi();0<e.Xg.length&&(e.g.nC(e.Yi),e.g.hx(),2>=e.g.i&&e.g.gx(e.g.hb));e.g.DN(e.g.hb,e.g.S);A=0;E=e.g.i;-1===E&&(E=2);for(m=1;m<E;m+=1)A+=e.Cq[m];c&&0===A&&0===e.g.ia&&!e.Gj?(e.um=!0,e.g.Fa||(c.Jg?e.j.notification.notify("Pattern too big!",15,x.Cv,15,!1):e.j.notification.notify("New Pattern",15,300,15,!1))):e.um=
!1;-1!==e.g.xa&&e.g.EC();e.g.WN(e.ce,e);e.g.rt(e,e.ce)}e.zm.locked=e.Ac;e.zm.current=[e.sd];e.sn.current=[e.Oj];e.Fn.current=[e.gm];e.to.current=[e.g.uj];e.Dp.current=[e.Li];e.Cp.current=[e.Ai];e.Nn.current=[e.g.cm];e.Nn.locked=!e.g.la;e.g.P?(e.Fj.current=[e.g.sc],e.Fj.F=["toggle triangular cells [?]"]):(e.Fj.F=["toggle hexagonal cells [?]"],e.Fj.current=e.g.U?[e.g.sc]:[!0]);e.tl.locked=(e.g.la||e.g.L)&&null!==e.g.Yc?!1:!0;0===e.X.Do()?(e.Km.locked=!0,e.Wi=!1):(e.Km.locked=!1,e.Wi=!0);e.Km.current=
[e.Wi];e.cq.current=[e.nd];e.Oq.current=[e.zl];e.nt.current=[e.g.wh];e.Xq.current=[e.Xi];e.aq.current=[e.Mi];e.X.yc.length?(e.kt.m=!1,e.Ls.m=!1):(e.kt.m=!0,e.Ls.m=!0);0===e.g.Ef?(e.Hk.current=[!1],e.Hk.locked=!0):(e.Hk.current=[e.g.Bl],e.Hk.locked=!1);e.Ac||e.g.pH();m=e.g.zoom;A=e.g.Ca;E=e.g.va;D=e.wb;e.wb=!1;e.Rg(!0,!1,x.Ck);e.wb=D;e.Cz?e.g.zoom=m:!e.Ec&&e.g.zoom>x.YF&&(e.g.zoom=x.YF);e.Az&&(e.g.Ca=A);e.Bz&&(e.g.va=E);e.Wc&&e.bP(e.Ed);e.wb&&e.Ex&&(e.g.zoom=e.nD);e.eF=e.g.zoom;e.Cc.current=e.fl([e.g.zoom,
e.g.zoom],!1,e);e.df=e.g.Ca;e.xj=e.g.va;e.Np=e.g.angle;e.Xd.current=[e.Np,e.Np];e.Pp=e.g.Na;e.We.current=[e.Pp,e.Pp];e.sv=e.g.Uf;e.qn(e.sv,e.g.im,e);e.aF=e.lc;e.cF=e.tb;e.Ue.current=e.fk([e.Tl(),1],!0,e);e.Op=e.g.$;e.ue.current=[e.Op,e.Op];e.zz=e.g.Oe;m=Math.sqrt(e.zz);e.md.current=e.$l([m,m],!0,e);e.g.Y=1;e.Af&&!e.Ng?(e.cb=!0,e.Eb.current=x.Kk):(e.cb=!1,e.Eb.current=x.Qe);e.ox(e.cb);e.H<x.Pm?(e.Uc.m=!0,e.Eb.Wk(e.NB+45),e.Ue.Wk(e.MC+45),e.wn.Wk(e.LC+45),e.tl.Wk(e.Ez+45),e.Vl.Wk(e.WC+45)):(e.Eb.Wk(e.NB),
e.Ue.Wk(e.MC),e.wn.Wk(e.LC),e.tl.Wk(e.Ez),e.Vl.Wk(e.WC));e.J>x.Sc&&!e.Nd?(m=e.J-x.Sc+x.Zt,m>x.Tx&&(m=x.Tx),e.Cc.Vi(m)):e.Cc.Vi(x.Zt);if(t||e.wb)e.wb?e.ZC():e.resize();c||(e.C.Jg?e.j.notification.notify("Pattern too big!",15,x.Cv,15,!1):e.j.notification.notify("Invalid pattern!",15,x.Cv,15,!1));e.Ed.length?e.ha=0:e.pc=0;e.Ha||(e.Va=!0,e.g.og=!1,e.g.Fa=!0,e.g.ta=!1,e.g.V=!1);if(e.Va||e.g.Fa)e.pd.Zf[x.Qm]=!0,e.pd.Zf[x.Sm]=!0;e.Va?(e.Eb.m=!0,e.jf.m=!0,e.yg.m=!0,e.Ue.m=!0,e.ek.m=!0,e.Qo.m=!0,e.tl.m=!0,
e.wn.m=!0,e.Bd&&(e.ue.m=!0,e.md.m=!0,e.aj.m=!0,e.g.$=1),e.Jl.m=!1,""===e.D?(e.Jl.Za=Keywords.Ut,e.Jl.Cf=x.Zp):(e.Jl.Za=e.D,e.Jl.Cf=e.yj)):e.Jl.m=!0;540>e.H?e.qj.setPosition(Menu.ap,0,-85):e.qj.setPosition(Menu.ap,0,-100);e.eI();e.tg=!1;e.Es="";e.AH(e);e.Fv()?(e.tk.Za="Density",e.tk.F="cell density"):(e.tk.Za="Births",e.tk.F="cells born this generation");e.j.hg=!0;e.j.cg(!0);e.Nd&&e.Fx&&(""===e.ej?e.Fx.nodeValue=x.Sr:e.Fx.nodeValue=e.NK(e.ej));z.Ya?(c=e.Aq,""===c&&(c="Universe "+(e.gd+1)),e.j.notification.notify(c,
15,120,15,!0),e.lt.m=!1,e.Ms.m=!1):(e.lt.m=!0,e.Ms.m=!0);e.nb("");e.yw&&f(e);(8===e.g.zoom||.125===e.g.zoom)&&0<e.Fo&&0===(e.Fo&3)&&1===(e.Sj.length&5)?(e.Pr=!0,e.g.EF()):e.Pr=!1;e.g.mA();(e.g.la||e.g.L)&&null!==e.g.Yc&&e.ix&&(e.g.ud=!0,e.ox(e.cb));e.$w&&""===e.D&&(e.Tw||(e.Tw=!0,e.ot(e,!0)),e.Tw=!1);-1!==e.Gg&&(e.yl&&e.j.notification.notify("Going to generation "+e.Gg,15,1E4,15,!1),e.j.notification.clear(!0,!1))};registerEvent(window,"load",y,!1);window.onresize=function(){if(z.fullScreen){var c=
B.Qd[0][1];c.J=document.body.clientWidth&-8;c.H=window.innerHeight-128;c.J<x.Sc&&(c.J=x.Sc);c.H<x.fH&&(c.H=x.fH);if(c.J>x.Sc&&!c.Nd){var m=c.J-x.Sc+x.Zt;m>x.Tx&&(m=x.Tx);c.Cc.Vi(m)}else c.Cc.Vi(x.Zt);m=c.ef;c.KH();c.ef=m;c.QD();c.resize();c.j.cg(!0)}};window.DocConfig=z;window.Controller=B;window.ViewConstants=x;window.startAllViewers=y;window.updateViewer=l;window.updateMe=d;window.hideViewer=k;window.lifeViewerBuild=x.Mx}(),function(){var v={Ol:0,Yn:"",iz:!1,AO:function(h){h=LifeConstants.xw[h];
10<h.length&&(h=h.replace(/marked/,"mkd"),h=h.replace(/trail/,"trl"),10<h.length&&(h="1"<=h.substr(-1)&&"9">=h.substr(-1)?h.substr(0,9)+h.substr(-1):h.substr(0,10)));return h},rN:function(h,g,q,k,a,b,d,f,l,n){var p=f,r=h.o.Ye,w=this.Ol*r,u=this.Ol*h.o.Ye,y=!1,z=h.ea;b&&(b.fillStyle===ViewConstants.cs&&(y=!0),z>=n&&z<=n+h.qd&&(b.font=h.Yp,y||(b.fillStyle=1<(h.ha|0)?ViewConstants.Zp:ViewConstants.Jv),b.fillText(g,d+w,f+u),y||(b.fillStyle=ViewConstants.Zp),b.fillText(q,d+w+b.measureText(g).width,f+u),
y||(b.fillStyle=(h.ha|0)<h.sq-h.qd?ViewConstants.Zp:ViewConstants.Jv),b.fillText(k,d+w+b.measureText(g+q).width,f+u),y||(b.fillStyle=ViewConstants.Zp),b.font=h.Dm,b.fillText(a,d+w+h.ba[0]*r,f+u),p+=l));h.ea+=1;return p},Py:function(h){h/=1048576;return 10>h?String(h.toFixed(1)):String(h.toFixed(0))},$a:function(h,g,q,k,a,b,d,f,l){var n=h.ea;a&&(f-=6,n>=l&&n<=l+h.qd&&(h=a.fillStyle,h!==ViewConstants.cs&&(a.fillStyle="rgb("+g+","+q+","+k+")"),a.fillRect(b,d-(f>>1)-1,f,f),a.fillStyle=h))},measureText:function(h,
g,q,k){var a=k?h.Rv:h.Qv;a[h.ea]?g=a[h.ea]:(g.font=0===k?h.Yp:h.Dm,g=g.measureText(q).width,a[h.ea]=g);return g},h:function(h,g,q,k,a,b,d,f){var l=b,n=String(q).indexOf("\t"),p=0,r=h.o.Ye,w=this.Ol*r,u=this.Ol*h.o.Ih,y=h.ea>=f&&h.ea<=f+h.qd;v.iz&&0===v.Ol&&(""===g?v.Yn+=q+"\n":"H / Esc"!==g&&(v.Yn+=g+"\t"+q+"\n"));if(g.length){y&&(k.font=h.Yp,k.fillText(g,a+w,b+u));g=this.measureText(h,k,g,0);g>h.ba[p]*r&&""!==q&&(y&&(b+=d,l+=d),h.ea+=1,y=h.ea>=f&&h.ea<=f+h.qd);y&&(k.font=h.Dm);for(;-1!==n;)y&&k.fillText(q.substr(0,
n),a+w+h.ba[p]*r,b+u),p+=1,q=q.substr(n+1),n=q.indexOf("\t");n=!1;if(h.eh&&(g=this.measureText(h,k,q,1),a+h.ba[p]*r+g>k.canvas.width)){var z=q.toLowerCase();g=z.indexOf("|");-1===g&&("r"===z[0]?g=z.indexOf("b"):"m"!==z[0]&&(g=z.indexOf("s")),-1===g&&(g=z.indexOf("/"),-1!==g&&"m"!==z[0]?g+=1:(g=q.length>>1,z=z.indexOf(",",g),-1!==z&&(g=z+1))));-1!==g&&(y&&(k.fillText(q.substr(0,g),a+w+h.ba[p]*r,b+u),b+=d,l+=d),h.ea+=1,(y=h.ea>=f&&h.ea<=f+h.qd)&&k.fillText("  "+q.substr(g),a+w+h.ba[p]*r,b+u),n=!0)}n||
y&&k.fillText(q,a+w+h.ba[p]*r,b+u)}else k.font=h.Dm,y&&k.fillText(q,a+w,b+u);y&&(l+=d);h.ea+=1;return l},ic:function(h,g,q){var k=ColourManager.Og,a=Object.keys(k),b,d=!1,f=0;for(b="    "+h+"\t"+g+"\t"+q+("\t"+(16777216|h<<16|g<<8|q).toString(16).slice(-6).toUpperCase());f<a.length&&!d;){var l=k[a[f]];l[1]===h&&l[2]===g&&l[3]===q?(b+="\t"+l[0],d=!0,f=a.length):f+=1}return b},Bg:function(h){return this.ic(h.red,h.green,h.blue)},pJ:function(h){var g=0,q=0;h.g.Y&&(g=h.g.M.u-h.g.M.l+1,q=h.g.M.v-h.g.M.s+
1);-1!==h.g.xa&&(0!==h.g.Aa&&(g=h.g.Aa),0!==h.g.wa&&(q=h.g.wa));return g+" x "+q},wJ:function(h){var g="AutoFit";h.Mi&&(g+=" History");h.Yi&&(g+=" State 1");return g},yG:function(h,g){g-=h.length;for(var q="";0<g;)q+=" ",--g;return q+h},bz:function(h){var g=h.indexOf(","),q=h.lastIndexOf(",");return[h.substring(4,g),h.substring(g+1,q),h.substring(q+1,h.length-1)]},nH:function(h,g,q,k,a,b){var d=k;switch(h.Ek){case ViewConstants.ri:this.xN(h,g,q,k,a,b);break;case ViewConstants.uA:this.tN(h,g,q,k,a,
b);break;case ViewConstants.BC:this.vN(h,g,q,k,a,b);break;case ViewConstants.aw:this.sN(h,g,q,k,a,b);break;case ViewConstants.hD:this.wN(h,g,q,k,a,b);break;case ViewConstants.dz:this.oN(h,g,q,k,a,b);break;case ViewConstants.Ey:this.mN(h,g,q,k,a,b);break;case ViewConstants.QA:this.uN(h,g,q,k,a,b);break;case ViewConstants.Hy:this.nN(h,g,q,k,a,b)}h.sq=h.ea-1;h.ea=1;h.ba[0]=120;k=d+a*(h.qd+2);k=h.Ek!==ViewConstants.ri?this.rN(h,"Up"," / ","Down","scroll help",g,q,k,a,0):k+a;h.Nd?this.h(h,"H","close help",
g,q,k,a,0):this.h(h,"H / Esc","close help",g,q,k,a,0)},xN:function(h,g,q,k,a,b){h.ea=1;h.eh=!1;h.ma=[];h.ba[0]=108;h.ma[0]=[h.ea,"Top"];this.h(h,"",ViewConstants.Sr+" build "+ViewConstants.Mx+" by "+ViewConstants.iI,g,q,k,a,b)},nN:function(h,g,q,k,a,b){var d,f=0,l=h.o.Ye;h.ea=1;h.eh=!1;h.ma=[];h.ma[f]=[h.ea,"Top"];f+=1;h.ba[0]=128;h.ba[1]=208;h.ba[2]=288;h.ba[3]=368;k=this.h(h,"","Annotations",g,q,k,a,b);k=this.h(h,"","",g,q,k,a,b);h.ma[f]=[h.ea,"Labels"];f+=1;k=this.h(h,"","Labels:",g,q,k,a,b);k=
this.h(h,"Number",h.X.qf.length,g,q,k,a,b);for(d=0;d<h.X.qf.length;d+=1){var n="Label "+String(d+1);k=this.h(h,n,h.X.RL(d),g,q,k,a,b);k=this.h(h," ",h.X.SL(d),g,q,k,a,b);k=this.h(h," ",h.X.TL(d),g,q,k,a,b);n=this.bz(h.X.UL(d));this.$a(h,n[0],n[1],n[2],g,q+h.ba[0]*l,k,a,b);k=this.h(h,"Colour",this.ic(n[0],n[1],n[2]),g,q,k,a,b)}k=this.h(h,"","",g,q,k,a,b);h.ma[f]=[h.ea,"Arrows"];f+=1;k=this.h(h,"","Arrows:",g,q,k,a,b);k=this.h(h,"Number",h.X.Tf.length,g,q,k,a,b);for(d=0;d<h.X.Tf.length;d+=1)n="Arrow "+
String(d+1),k=this.h(h,n,h.X.qJ(d),g,q,k,a,b),k=this.h(h," ",h.X.rJ(d),g,q,k,a,b),k=this.h(h," ",h.X.sJ(d),g,q,k,a,b),n=this.bz(h.X.Iu(d)),this.$a(h,n[0],n[1],n[2],g,q+h.ba[0]*l,k,a,b),k=this.h(h,"Colour",this.ic(n[0],n[1],n[2]),g,q,k,a,b);k=this.h(h,"","",g,q,k,a,b);h.ma[f]=[h.ea,"Polygons"];k=this.h(h,"","Polygons:",g,q,k,a,b);k=this.h(h,"Number",h.X.ag.length,g,q,k,a,b);for(d=0;d<h.X.ag.length;d+=1)n="Polygon "+String(d+1),k=this.h(h,n,h.X.QM(d),g,q,k,a,b),k=this.h(h," ",h.X.RM(d),g,q,k,a,b),k=
this.h(h," ",h.X.SM(d),g,q,k,a,b),n=this.bz(h.X.TM(d)),this.$a(h,n[0],n[1],n[2],g,q+h.ba[0]*l,k,a,b),k=this.h(h,"Colour",this.ic(n[0],n[1],n[2]),g,q,k,a,b)},tN:function(h,g,q,k,a,b){var d,f=0;h.ea=1;h.ma=[];h.eh=!0;h.ba[0]=124;h.ma[f]=[h.ea,"Top"];f+=1;k=this.h(h,"","Keyboard commands",g,q,k,a,b);k=this.h(h,"","",g,q,k,a,b);h.ma[f]=[h.ea,"Playback"];f+=1;k=this.h(h,"","Playback controls:",g,q,k,a,b);if(h.Bd)k=this.h(h,"R","reset",g,q,k,a,b);else{k=this.h(h,"Enter","toggle play / pause",g,q,k,a,b);
k=this.h(h,"Space","pause / next generation",g,q,k,a,b);k=this.h(h,"B","pause / previous generation",g,q,k,a,b);k=this.h(h,"Backspace","pause / previous generation",g,q,k,a,b);k=this.h(h,"Tab","pause / next step",g,q,k,a,b);k=this.h(h,"Shift Tab","pause / previous step",g,q,k,a,b);if(h.g.la||h.g.L)k=this.h(h,"U","toggle playback direction",g,q,k,a,b);k=h.Nd?this.h(h,"Esc","close LifeViewer",g,q,k,a,b):this.h(h,"Esc","pause if playing",g,q,k,a,b);k=this.h(h,"R","reset to generation 0",g,q,k,a,b);k=
this.h(h,"Shift N","go to generation",g,q,k,a,b);k=this.h(h,"-","decrease playback speed",g,q,k,a,b);k=this.h(h,"+","increase playback speed",g,q,k,a,b);k=this.h(h,"Shift -","minimum playback speed",g,q,k,a,b);k=this.h(h,"Shift +","maximum playback speed",g,q,k,a,b);k=this.h(h,"0","reset step and speed",g,q,k,a,b);k=this.h(h,"Ctrl P","toggle pause playback while drawing",g,q,k,a,b);k=this.h(h,"Alt T","toggle throttling",g,q,k,a,b);h.Wc?-1!==h.jb?(k=this.h(h,"W","toggle waypoint playback and loop",
g,q,k,a,b),k=this.h(h,"Shift P","toggle just loop",g,q,k,a,b)):k=this.h(h,"W","toggle waypoint playback",g,q,k,a,b):-1!==h.jb&&(k=this.h(h,"W","toggle loop",g,q,k,a,b));h.Af&&(k=this.h(h,"Alt O","toggle autostart",g,q,k,a,b));-1!==h.jc&&(k=this.h(h,"Alt P","toggle stop",g,q,k,a,b))}k=this.h(h,"","",g,q,k,a,b);h.ma[f]=[h.ea,"Multi"];f+=1;k=this.h(h,"","Multi-Viewer controls:",g,q,k,a,b);DocConfig.Ya&&(k=this.h(h,"Page Up","previous universe",g,q,k,a,b),k=this.h(h,"Page Down","next universe",g,q,k,
a,b),k=this.h(h,"Home","first universe",g,q,k,a,b),k=this.h(h,"End","last universe",g,q,k,a,b));k=this.h(h,"Shift R","reset all LifeViewers to generation 0",g,q,k,a,b);k=this.h(h,"Z","stop playback in all other LifeViewers",g,q,k,a,b);k=this.h(h,"Shift Z","stop playback in all LifeViewers",g,q,k,a,b);k=this.h(h,"","",g,q,k,a,b);h.ma[f]=[h.ea,"Camera"];f+=1;k=this.h(h,"","Camera controls:",g,q,k,a,b);if(h.H>=ViewConstants.Pm||(h.wb&&h.jD)>=ViewConstants.Pm)k=this.h(h,"M","toggle settings menu",g,q,
k,a,b);k=this.h(h,"V","restore saved camera position",g,q,k,a,b);k=this.h(h,"Shift V","save current camera position",g,q,k,a,b);var l=h.X.yc.length;if(0<l&&(k=this.h(h,"J","jump to next point of interest",g,q,k,a,b),k=this.h(h,"Shift J","jump to previous point of interest",g,q,k,a,b),9<l&&(l=9),!h.se&&!h.ah))for(d=1;d<=l;d+=1)k=this.h(h,"Alt "+String(d),"jump to POI #"+String(d),g,q,k,a,b);k=this.h(h,"F","fit pattern to display",g,q,k,a,b);k=this.h(h,"Shift F","toggle autofit",g,q,k,a,b);k=this.h(h,
"Shift H","toggle autofit history mode",g,q,k,a,b);k=this.h(h,"Ctrl F","fit selection to display",g,q,k,a,b);k=this.h(h,"Ctrl M","center pattern on display",g,q,k,a,b);h.g.ta&&(k=this.h(h,"Shift S","toggle autofit state 1 mode",g,q,k,a,b));k=this.h(h,"[","zoom out",g,q,k,a,b);k=this.h(h,"]","zoom in",g,q,k,a,b);k=this.h(h,"Shift [","halve zoom",g,q,k,a,b);k=this.h(h,"Shift ]","double zoom",g,q,k,a,b);k=this.h(h,"1","1x zoom",g,q,k,a,b);k=this.h(h,"2","2x zoom",g,q,k,a,b);k=this.h(h,"4","4x zoom",
g,q,k,a,b);k=this.h(h,"8","8x zoom",g,q,k,a,b);k=this.h(h,"6","16x zoom",g,q,k,a,b);k=this.h(h,"3","32x zoom",g,q,k,a,b);k=this.h(h,"Shift 1","integer zoom",g,q,k,a,b);k=this.h(h,"Shift 2","-2x zoom",g,q,k,a,b);k=this.h(h,"Shift 4","-4x zoom",g,q,k,a,b);k=this.h(h,"Shift 8","-8x zoom",g,q,k,a,b);k=this.h(h,"Shift 6","-16x zoom",g,q,k,a,b);k=this.h(h,"Shift 3","-32x zoom",g,q,k,a,b);k=this.h(h,"Left","pan left",g,q,k,a,b);k=this.h(h,"Right","pan right",g,q,k,a,b);k=this.h(h,"Up","pan up",g,q,k,a,b);
k=this.h(h,"Down","pan down",g,q,k,a,b);k=this.h(h,"Shift Left","pan north west",g,q,k,a,b);k=this.h(h,"Shift Right","pan south east",g,q,k,a,b);k=this.h(h,"Shift Up","pan north east",g,q,k,a,b);k=this.h(h,"Shift Down","pan south west",g,q,k,a,b);k=this.h(h,"<","rotate left",g,q,k,a,b);k=this.h(h,">","rotate right",g,q,k,a,b);k=this.h(h,"Shift <","rotate left 90 degrees",g,q,k,a,b);k=this.h(h,"Shift >","rotate right 90 degrees",g,q,k,a,b);k=this.h(h,"5","reset angle",g,q,k,a,b);k=this.h(h,"'","tilt down",
g,q,k,a,b);k=this.h(h,"/","tilt up",g,q,k,a,b);k=this.h(h,"","",g,q,k,a,b);h.Bd||(h.ma[f]=[h.ea,"View"],f+=1,k=this.h(h,"","View controls:",g,q,k,a,b),k=this.h(h,"Q","increase number of layers",g,q,k,a,b),k=this.h(h,"A","decrease number of layers",g,q,k,a,b),k=this.h(h,"P","increase layer depth",g,q,k,a,b),k=this.h(h,"L","decrease layer depth",g,q,k,a,b),k=this.h(h,"C","next colour theme",g,q,k,a,b),k=this.h(h,"Shift C","previous colour theme",g,q,k,a,b),k=this.h(h,"Alt C","default theme",g,q,k,a,
b),k=this.h(h,"","",g,q,k,a,b));h.ma[f]=[h.ea,"Display"];f+=1;k=this.h(h,"","Display controls:",g,q,k,a,b);h.Bd||(k=this.h(h,"G","toggle generation statistics",g,q,k,a,b),k=this.h(h,"Shift G","toggle generation display mode",g,q,k,a,b),h.Ac||(k=this.h(h,"Y","toggle population graph",g,q,k,a,b),k=this.h(h,"Shift Y","toggle graph lines",g,q,k,a,b),k=this.h(h,"7","decrease graph opacity",g,q,k,a,b),k=this.h(h,"9","increase graph opacity",g,q,k,a,b)),k=this.h(h,"Shift W","toggle performance warning",
g,q,k,a,b));h.g.U?k=this.h(h,"?","toggle hexagons for hexagonal grid",g,q,k,a,b):h.g.P&&(k=this.h(h,"?","toggle triangles for triangular grid",g,q,k,a,b));k=this.h(h,"T","toggle timing information",g,q,k,a,b);k=this.h(h,"Shift T","toggle extended timing information",g,q,k,a,b);k=this.h(h,"I","toggle pattern and engine information",g,q,k,a,b);k=this.h(h,"Shift I","toggle information bar",g,q,k,a,b);k=this.h(h,"Ctrl Q","toggle cell anti-aliasing",g,q,k,a,b);k=this.h(h,"Alt B","toggle cell borders",
g,q,k,a,b);k=this.h(h,"X","toggle gridlines",g,q,k,a,b);0<h.g.Ef&&(k=this.h(h,"Shift X","toggle major gridlines",g,q,k,a,b));k=this.h(h,"Ctrl G","toggle auto gridlines",g,q,k,a,b);h.g.la&&(k=this.h(h,"Alt D","toggle alternating gridlines",g,q,k,a,b));if(h.g.ta||h.g.V||-1===h.g.i)k=this.h(h,"Alt G","convert pattern to [R]Super",g,q,k,a,b),k=this.h(h,"Alt H","convert pattern to [R]History",g,q,k,a,b),k=this.h(h,"Alt J","convert pattern to [R]Standard",g,q,k,a,b);0<h.X.Do()&&(k=this.h(h,"Alt L","toggle annotation display",
g,q,k,a,b));k=this.h(h,"Ctrl L","toggle kill escaping gliders",g,q,k,a,b);h.Yl&&(k=this.h(h,"N","toggle thumbnail view",g,q,k,a,b));k=this.h(h,"S","toggle stars",g,q,k,a,b);k=this.h(h,"O","open screenshot in separate window",g,q,k,a,b);k=this.h(h,"Shift O","open population graph in separate window",g,q,k,a,b);k=this.h(h,"Shift U","toggle UI",g,q,k,a,b);k=this.h(h,"Alt U","toggle autohide UI during playback",g,q,k,a,b);-1===h.g.i&&(k=this.h(h,"Alt W","toggle rainbow mode",g,q,k,a,b));k=this.h(h,"",
"",g,q,k,a,b);h.ma[f]=[h.ea,"Pattern"];f+=1;k=this.h(h,"","Pattern controls:",g,q,k,a,b);k=this.h(h,"Alt N","new pattern",g,q,k,a,b);k=this.h(h,"Alt R","change rule",g,q,k,a,b);k=this.h(h,"Ctrl O","open original or last saved pattern",g,q,k,a,b);k=this.h(h,"Ctrl+Shift O","open clipboard as pattern",g,q,k,a,b);k=this.h(h,"Ctrl S","save pattern",g,q,k,a,b);k=this.h(h,"Alt Z","randomize pattern and rule",g,q,k,a,b);k=this.h(h,"Ctrl+Alt Z","randomize pattern only",g,q,k,a,b);k=this.h(h,"F6","toggle oscillator and spaceship identification",
g,q,k,a,b);k=this.h(h,"Ctrl F6","fast identification",g,q,k,a,b);k=this.h(h,"","",g,q,k,a,b);h.ma[f]=[h.ea,"Clipboard"];f+=1;k=this.h(h,"","External clipboard controls:",g,q,k,a,b);k=this.h(h,"Alt S","toggle sync cut and copy with external clipboard",g,q,k,a,b);k=this.h(h,"Ctrl+Shift C","copy original pattern",g,q,k,a,b);k=this.h(h,"Ctrl C","copy current selection",g,q,k,a,b);k=this.h(h,"Ctrl+Alt C","copy current selection with comments",g,q,k,a,b);k=this.h(h,"Ctrl+Shift X","cut original pattern",
g,q,k,a,b);k=this.h(h,"Ctrl X","cut current selection",g,q,k,a,b);k=this.h(h,"Ctrl+Alt X","cut current selection with comments",g,q,k,a,b);k=this.h(h,"Ctrl J","copy rule definition",g,q,k,a,b);k=this.h(h,"K","copy camera position",g,q,k,a,b);k=this.h(h,"Shift K","copy camera position and view",g,q,k,a,b);k=this.h(h,"","",g,q,k,a,b);h.ma[f]=[h.ea,"Edit"];f+=1;k=this.h(h,"","Edit controls:",g,q,k,a,b);k=this.h(h,"F1","toggle draw/pan mode",g,q,k,a,b);k=this.h(h,"F2","draw mode",g,q,k,a,b);k=this.h(h,
"Shift F2","toggle smart drawing",g,q,k,a,b);k=this.h(h,"F3","pick mode",g,q,k,a,b);k=this.h(h,"F4","select mode",g,q,k,a,b);k=this.h(h,"F5","pan mode",g,q,k,a,b);k=this.h(h,"Ctrl A","select all",g,q,k,a,b);k=this.h(h,"Shift A","shrink selection",g,q,k,a,b);k=this.h(h,"Alt A","toggle auto-shrink selection",g,q,k,a,b);k=this.h(h,"Ctrl C","copy",g,q,k,a,b);k=this.h(h,"Ctrl D","toggle states display",g,q,k,a,b);k=this.h(h,"Ctrl I","invert selection",g,q,k,a,b);k=this.h(h,"Ctrl K","remove selection",
g,q,k,a,b);k=this.h(h,"Ctrl V","paste",g,q,k,a,b);k=this.h(h,"Ctrl+Shift V","paste to selection",g,q,k,a,b);k=this.h(h,"Ctrl X","cut",g,q,k,a,b);k=this.h(h,"Ctrl Y","redo edit",g,q,k,a,b);k=this.h(h,"Ctrl Z","undo edit",g,q,k,a,b);k=this.h(h,"Ctrl+Shift Z","redo edit",g,q,k,a,b);k=this.h(h,"Ctrl Space","advance selection",g,q,k,a,b);k=this.h(h,"Shift Space","advance outside",g,q,k,a,b);k=this.h(h,"Shift L","cycle paste location",g,q,k,a,b);k=this.h(h,"Shift M","cycle paste mode",g,q,k,a,b);2<h.g.i?
(k=this.h(h,"Shift 5","multi-state random fill",g,q,k,a,b),h.g.L||(k=this.h(h,"Ctrl+Shift 5","2-state random fill",g,q,k,a,b))):k=this.h(h,"Shift 5","random fill",g,q,k,a,b);k=this.h(h,"Alt K","pick cell state to replace with drawing state",g,q,k,a,b);k=this.h(h,"Ctrl+Alt K","clear current drawing state cells",g,q,k,a,b);k=this.h(h,"Del","clear cells in selection",g,q,k,a,b);k=this.h(h,"Shift Del","clear outside selection",g,q,k,a,b);h.g.ta&&(k=this.h(h,"Ctrl Del","clear [R]History cells",g,q,k,a,
b),k=this.h(h,"Alt Del","clear [R]History marked cells",g,q,k,a,b));k=this.h(h,">","rotate selection clockwise",g,q,k,a,b);k=this.h(h,"<","rotate selection counter-clockwise",g,q,k,a,b);k=this.h(h,"Alt X","flip selection horizontally",g,q,k,a,b);k=this.h(h,"Alt Y","flip selection vertically",g,q,k,a,b);k=this.h(h,"Alt Left","nudge selection 1 cell left",g,q,k,a,b);k=this.h(h,"Alt Right","nudge selection 1 cell right",g,q,k,a,b);k=this.h(h,"Alt Up","nudge selection 1 cell up",g,q,k,a,b);k=this.h(h,
"Alt Down","nudge selection 1 cell down",g,q,k,a,b);k=this.h(h,"Esc","hide paste",g,q,k,a,b);k=this.h(h,"Enter","perform paste",g,q,k,a,b);h.g.ta?l=7:(l=-1===h.g.i?2:h.g.i,10<l&&(l=10));for(d=0;d<l;d+=1)k=this.h(h,"Ctrl "+d,"select state "+d+" for drawing",g,q,k,a,b);k=this.h(h,"Shift B","toggle clipboard library",g,q,k,a,b);for(d=0;10>d;d+=1)k=this.h(h,"Alt "+d,"make clipboard "+d+" active",g,q,k,a,b);k=this.h(h,"","",g,q,k,a,b);h.ma[f]=[h.ea,"Help"];k=this.h(h,"","Help controls:",g,q,k,a,b);k=this.h(h,
"Up","scroll up one line",g,q,k,a,b);k=this.h(h,"Down","scroll down one line",g,q,k,a,b);k=this.h(h,"Page Up","scroll up one page",g,q,k,a,b);k=this.h(h,"Page Down","scroll down one page",g,q,k,a,b);k=this.h(h,"Shift Page Up","scroll up one section",g,q,k,a,b);k=this.h(h,"Shift Page Down","scroll down one section",g,q,k,a,b);k=this.h(h,"Home","go to first help page",g,q,k,a,b);this.h(h,"End","go to last help page",g,q,k,a,b)},vN:function(h,g,q,k,a,b){var d=0;h.ea=1;h.eh=!1;h.ma=[];h.ba[0]=252;h.ma[d]=
[h.ea,"Top"];d+=1;k=this.h(h,"","Scripts",g,q,k,a,b);k=this.h(h,"","",g,q,k,a,b);k=this.h(h,"","Scripts must be embedded in pattern comments",g,q,k,a,b);k=this.h(h,"","Commands must be surrounded by whitespace",g,q,k,a,b);k=this.h(h,"","",g,q,k,a,b);h.ma[d]=[h.ea,"Params"];d+=1;k=this.h(h,"","Parameter conventions:",g,q,k,a,b);k=this.h(h,"A|B","either A or B",g,q,k,a,b);k=this.h(h,"(A)","A is optional",g,q,k,a,b);k=this.h(h,"A*","zero or more A",g,q,k,a,b);k=this.h(h,"A+","one or more A",g,q,k,a,
b);k=this.h(h,"<1..3>","integer range",g,q,k,a,b);k=this.h(h,"<1.0..3.0>","decimal range",g,q,k,a,b);k=this.h(h,'"<string>"',"text string",g,q,k,a,b);k=this.h(h," "+Keywords.Be+"B","program build number",g,q,k,a,b);k=this.h(h," "+Keywords.Be+"N","pattern name",g,q,k,a,b);k=this.h(h," "+Keywords.Be+"O","pattern originator",g,q,k,a,b);k=this.h(h," "+Keywords.Be+"R","rule name",g,q,k,a,b);k=this.h(h," "+Keywords.Be+"A","rule alias",g,q,k,a,b);k=this.h(h," "+Keywords.Be+"T","program title",g,q,k,a,b);
k=this.h(h," "+Keywords.Be+"G","current generation (Labels)",g,q,k,a,b);k=this.h(h," "+Keywords.Be+"H","reversible generation (Labels)",g,q,k,a,b);k=this.h(h," "+Keywords.Be+"I","current generation relative (Labels)",g,q,k,a,b);k=this.h(h," "+Keywords.Be+"J","reversible generation relative (Labels)",g,q,k,a,b);k=this.h(h," "+Keywords.Be+"P","current population (Labels)",g,q,k,a,b);k=this.h(h," "+Keywords.Be+"0..9","saved timing as average fps",g,q,k,a,b);k=this.h(h," "+Keywords.Be+Keywords.Be,Keywords.Be+
" symbol",g,q,k,a,b);k=this.h(h,"","",g,q,k,a,b);h.ma[d]=[h.ea,"General"];d+=1;k=this.h(h,"","General:",g,q,k,a,b);k=this.h(h,Keywords.Xo,"start script section",g,q,k,a,b);k=this.h(h,Keywords.Uq,"end script section",g,q,k,a,b);k=this.h(h,Keywords.XC,"suppress overwrite warning",g,q,k,a,b);k=this.h(h,"","",g,q,k,a,b);h.ma[d]=[h.ea,"Playback"];d+=1;k=this.h(h,"","Playback:",g,q,k,a,b);k=this.h(h,Keywords.Mu+" ("+Keywords.Jb+")","start play automatically",g,q,k,a,b);k=this.h(h,Keywords.Hj+" <1..>|"+
Keywords.Jb,"loop at generation",g,q,k,a,b);k=this.h(h,Keywords.ak+" <1..>|"+Keywords.Jb,"stop at generation",g,q,k,a,b);k=this.h(h,Keywords.RC+" <1..>","play to generation on load",g,q,k,a,b);k=this.h(h,Keywords.mo+" <"+ViewConstants.Qi+".."+h.Ma+">","set steps per second",g,q,k,a,b);k=this.h(h,Keywords.ep+" <"+ViewConstants.fi+".."+ViewConstants.ug+">","set generations per step",g,q,k,a,b);(h.g.la||h.g.L)&&h.g.Yc&&(k=this.h(h,Keywords.pC,"set initial playback to Reverse",g,q,k,a,b));k=this.h(h,
Keywords.Zz,"always use hard reset",g,q,k,a,b);k=this.h(h,Keywords.Ut,"disable playback",g,q,k,a,b);k=this.h(h,Keywords.bB,"disable step back",g,q,k,a,b);k=this.h(h,Keywords.dB,"disable stop messages",g,q,k,a,b);k=this.h(h,Keywords.cB,"disable performance warning",g,q,k,a,b);k=this.h(h,Keywords.gB,"disable playback throttling",g,q,k,a,b);k=this.h(h,Keywords.Pz,"starting playback pauses others",g,q,k,a,b);k=this.h(h,Keywords.lA,"ignore other pause requests",g,q,k,a,b);k=this.h(h,Keywords.OB,"show playback duration",
g,q,k,a,b);k=this.h(h,"","",g,q,k,a,b);h.ma[d]=[h.ea,"Camera"];d+=1;k=this.h(h,"","Camera:",g,q,k,a,b);k=this.h(h,Keywords.em+" <0..359>","set camera angle",g,q,k,a,b);k=this.h(h,Keywords.Gn+" <0.0..5.0>","set camera tilt",g,q,k,a,b);k=this.h(h,Keywords.Pf+" <-"+(h.g.ga>>1)+".."+(h.g.ga>>1)+">","set camera x position",g,q,k,a,b);k=this.h(h,Keywords.Rf+" <-"+(h.g.ga>>1)+".."+(h.g.ga>>1)+">","set camera y position",g,q,k,a,b);k=this.h(h,Keywords.le+" <"+Number(-1/ViewConstants.Xa).toFixed(1)+".."+ViewConstants.Ib.toFixed(1)+
">","set camera zoom",g,q,k,a,b);k=this.h(h,Keywords.Fy,"same as "+Keywords.le,g,q,k,a,b);k=this.h(h,Keywords.Lu+" ("+Keywords.Jb+")","fit pattern to display",g,q,k,a,b);k=this.h(h,Keywords.gA+" ("+Keywords.Jb+")","autofit uses pattern history",g,q,k,a,b);k=this.h(h,Keywords.TC+" ("+Keywords.Jb+")","autofit only uses state 1",g,q,k,a,b);k=this.h(h,Keywords.Nt+" X Y","camera tracking",g,q,k,a,b);k=this.h(h," X ","horizontal speed cells/gen",g,q,k,a,b);k=this.h(h," Y ","vertical speed cells/gen",g,
q,k,a,b);k=this.h(h,Keywords.rp+" E S W N","camera box tracking",g,q,k,a,b);k=this.h(h," E ","east edge speed cells/gen",g,q,k,a,b);k=this.h(h," S ","south edge speed cells/gen",g,q,k,a,b);k=this.h(h," W ","west edge speed cells/gen",g,q,k,a,b);k=this.h(h," N ","north edge speed cells/gen",g,q,k,a,b);k=this.h(h,Keywords.Mt+" P X Y","camera tracking with loop",g,q,k,a,b);k=this.h(h," P ","period",g,q,k,a,b);k=this.h(h," X ","horizontal speed cells/gen",g,q,k,a,b);k=this.h(h," Y ","vertical speed cells/gen",
g,q,k,a,b);k=this.h(h,"","",g,q,k,a,b);h.ma[d]=[h.ea,"Waypoints"];d+=1;k=this.h(h,"","Waypoints:",g,q,k,a,b);k=this.h(h,Keywords.Dt+" <0..>","waypoint at generation",g,q,k,a,b);k=this.h(h,Keywords.KB+" <0.0..>","pause for time",g,q,k,a,b);k=this.h(h,Keywords.di+" "+Keywords.Mg+"|"+Keywords.Pf+"|"+Keywords.Rf+"|"+Keywords.le,"linear motion",g,q,k,a,b);k=this.h(h,Keywords.rj+" "+Keywords.Mg+"|"+Keywords.Pf+"|"+Keywords.Rf+"|"+Keywords.le,"bezier motion (default)",g,q,k,a,b);k=this.h(h,Keywords.SH,"save timing at waypoint start",
g,q,k,a,b);k=this.h(h,"","",g,q,k,a,b);h.ma[d]=[h.ea,"POIs"];d+=1;k=this.h(h,"","Points of interest:",g,q,k,a,b);k=this.h(h,Keywords.Iw,"define point of interest",g,q,k,a,b);k=this.h(h,Keywords.Hw+" <0..>","start POI at generation",g,q,k,a,b);k=this.h(h,Keywords.gt,"reset generation at POI",g,q,k,a,b);k=this.h(h,Keywords.Gq,"start playback at POI",g,q,k,a,b);k=this.h(h,Keywords.Hq,"stop playback at POI",g,q,k,a,b);k=this.h(h,Keywords.ht+" <"+WaypointConstants.aH+".."+WaypointConstants.$G+">","set POI transition speed",
g,q,k,a,b);k=this.h(h,"<command>|ALL "+Keywords.mc,"use initial value for POI",g,q,k,a,b);k=this.h(h,Keywords.Fd+"<string>"+Keywords.Fd,"define message",g,q,k,a,b);k=this.h(h,Keywords.PB,"add Labels as POIs",g,q,k,a,b);k=this.h(h,"","",g,q,k,a,b);h.ma[d]=[h.ea,"Annotations"];d+=1;k=this.h(h,"","Annotations:",g,q,k,a,b);k=this.h(h,Keywords.zs+" X Y ZOOM","define label at position",g,q,k,a,b);k=this.h(h," ("+Keywords.Md+") "+Keywords.Fd+"<string>"+Keywords.Fd,"... fix position, label text ",g,q,k,a,
b);k=this.h(h,Keywords.yA+" <"+ViewConstants.jG+".."+ViewConstants.bG+">","define label font size",g,q,k,a,b);k=this.h(h," ("+Keywords.Md+")","... optionally fix size",g,q,k,a,b);k=this.h(h,Keywords.wA+" <0.0..1.0>","define label font alpha",g,q,k,a,b);k=this.h(h,Keywords.zA+" <0..> <0..> <0..>","generation range / fade",g,q,k,a,b);k=this.h(h,Keywords.xA+" <0..359>","label angle",g,q,k,a,b);k=this.h(h," ("+Keywords.Md+")","... optionally fix angle",g,q,k,a,b);k=this.h(h,Keywords.BA+" D|"+Keywords.Jb,
"label view distance",g,q,k,a,b);k=this.h(h,Keywords.CA+" MINZOOM MAXZOOM|OFF","label zoom visibility",g,q,k,a,b);k=this.h(h,Keywords.AA+" DX DY|"+Keywords.Md,"label move per generation",g,q,k,a,b);k=this.h(h,Keywords.nr+" X1 Y1 X2 Y2 ZOOM","define arrow at position",g,q,k,a,b);k=this.h(h," ("+Keywords.Md+")","... fix position",g,q,k,a,b);k=this.h(h,Keywords.Ky+" <"+ViewConstants.sw+".."+ViewConstants.lw+"> <0.0..1.0>","line width and head multiple",g,q,k,a,b);k=this.h(h,Keywords.Iy+" <0.0..1.0>",
"define arrow alpha",g,q,k,a,b);k=this.h(h,Keywords.Ly+" <0..> <0..> <0..>","generation range / fade",g,q,k,a,b);k=this.h(h,Keywords.Jy+" <0..359>","arrow angle",g,q,k,a,b);k=this.h(h," ("+Keywords.Md+")","... optionally fix angle",g,q,k,a,b);k=this.h(h,Keywords.Ny+" D|"+Keywords.Jb,"arrow view distance",g,q,k,a,b);k=this.h(h,Keywords.Oy+" MINZOOM MAXZOOM|"+Keywords.Jb,"arrow zoom visibility",g,q,k,a,b);k=this.h(h,Keywords.My+" DX DY|"+Keywords.Md,"arrow move per generation",g,q,k,a,b);k=this.h(h,
Keywords.SB+" X1 Y1 X2 Y2 .. ZOOM","define outline polygon",g,q,k,a,b);k=this.h(h," ("+Keywords.Md+")","... fix position",g,q,k,a,b);k=this.h(h,Keywords.Jw+" X1 Y1 X2 Y2 .. ZOOM","define filled polygon",g,q,k,a,b);k=this.h(h," ("+Keywords.Md+")","... fix position",g,q,k,a,b);k=this.h(h,Keywords.TB+" <"+ViewConstants.sw+".."+ViewConstants.lw+">","line width",g,q,k,a,b);k=this.h(h,Keywords.QB+" <0.0..1.0>","define polygon alpha",g,q,k,a,b);k=this.h(h,Keywords.UB+" <0..> <0..> <0..>","generation range / fade",
g,q,k,a,b);k=this.h(h,Keywords.RB+" <0..359>","polygon angle",g,q,k,a,b);k=this.h(h," ("+Keywords.Md+")","... optionally fix angle",g,q,k,a,b);k=this.h(h,Keywords.WB+" D|"+Keywords.Jb,"polygon view distance",g,q,k,a,b);k=this.h(h,Keywords.eH+" MINZOOM MAXZOOM|"+Keywords.Jb,"polygon zoom visilibility",g,q,k,a,b);k=this.h(h,Keywords.VB+" DX DY|"+Keywords.Md,"polygon move per generation",g,q,k,a,b);k=this.h(h,"","",g,q,k,a,b);h.ma[d]=[h.ea,"Display"];d+=1;k=this.h(h,"","Display:",g,q,k,a,b);k=this.h(h,
Keywords.hr+" <"+ViewConstants.Sc+".."+h.Ik+">","set LifeViewer width",g,q,k,a,b);k=this.h(h,Keywords.Xp+" <"+ViewConstants.Kj+".."+ViewConstants.ow+">","set LifeViewer height",g,q,k,a,b);k=this.h(h,Keywords.jt+" <"+ViewConstants.Sc+".."+h.Ik+">","set popup width",g,q,k,a,b);k=this.h(h,Keywords.it+" <"+ViewConstants.Kj+".."+ViewConstants.ow+">","set popup height",g,q,k,a,b);k=this.h(h,Keywords.cr+" "+Keywords.Fd+"<string>"+Keywords.Fd,"set popup window title",g,q,k,a,b);k=this.h(h,Keywords.yo+" <"+
ViewConstants.rw+".."+ViewConstants.kw+">","set number of layers",g,q,k,a,b);k=this.h(h,Keywords.co+" <"+ViewConstants.qw.toFixed(1)+".."+ViewConstants.$F.toFixed(1)+">","set layer depth",g,q,k,a,b);k=this.h(h,Keywords.Yr+" ("+Keywords.Jb+")","display gridlines",g,q,k,a,b);k=this.h(h,Keywords.Xr+" <0..16>","set major grid line interval",g,q,k,a,b);k=this.h(h,Keywords.kr+" <0.."+(2<h.g.i?1:63)+">","number of age states to draw",g,q,k,a,b);k=this.h(h,Keywords.es+" <0.."+(2<h.g.i?1:63)+">","number of history states to draw",
g,q,k,a,b);k=this.h(h,Keywords.At+" ("+Keywords.Jb+")","display stars",g,q,k,a,b);h.g.U?(k=this.h(h,Keywords.aA,"hexagonal cells for grid",g,q,k,a,b),k=this.h(h,Keywords.ux,"offset square cells for grid",g,q,k,a,b)):h.g.P&&(k=this.h(h,Keywords.XH,"triangular cells for grid",g,q,k,a,b),k=this.h(h,Keywords.ux,"rectangualr cells for grid",g,q,k,a,b));k=this.h(h,Keywords.Uy,"display cell borders",g,q,k,a,b);k=this.h(h,Keywords.aB,"disable menus and hotkeys",g,q,k,a,b);k=this.h(h,Keywords.fA,"hide menus during playback",
g,q,k,a,b);k=this.h(h,Keywords.JC,"show timing information",g,q,k,a,b);k=this.h(h,Keywords.Qz,"extended timing information",g,q,k,a,b);k=this.h(h,Keywords.HC,"show generation statistics",g,q,k,a,b);k=this.h(h,Keywords.IC,"show information bar",g,q,k,a,b);k=this.h(h,Keywords.kH,"use rainbow colours",g,q,k,a,b);k=this.h(h,Keywords.$B,"use high quality rendering",g,q,k,a,b);k=this.h(h,"","",g,q,k,a,b);h.ma[d]=[h.ea,"Thumb"];d+=1;k=this.h(h,"","Thumbnails:",g,q,k,a,b);k=this.h(h,Keywords.pD+" ("+Keywords.Jb+
")","start at 1/"+h.Ve+" size",g,q,k,a,b);k=this.h(h,Keywords.kD+" <"+ViewConstants.nG+".."+ViewConstants.gG+">","set thumbnail divisor",g,q,k,a,b);k=this.h(h,Keywords.iD+" ("+Keywords.Jb+")","thumbnail launches viewer",g,q,k,a,b);k=this.h(h,Keywords.oD+" <"+Number(-1/ViewConstants.Xa).toFixed(1)+".."+ViewConstants.Ib.toFixed(1)+">","set thumbnail zoom",g,q,k,a,b);k=this.h(h,Keywords.mD,"start playback on thumbnail expand",g,q,k,a,b);k=this.h(h,"","",g,q,k,a,b);h.ma[d]=[h.ea,"Graph"];d+=1;k=this.h(h,
"","Population Graph:",g,q,k,a,b);k=this.h(h,Keywords.Iv,"display population graph",g,q,k,a,b);k=this.h(h,Keywords.Wz+" <0.0..1.0>","population graph opacity",g,q,k,a,b);k=this.h(h,Keywords.Xz,"population graph use points",g,q,k,a,b);k=this.h(h,Keywords.Aw,"disable population graph",g,q,k,a,b);k=this.h(h,"","",g,q,k,a,b);h.ma[d]=[h.ea,"Colours"];d+=1;k=this.h(h,"","Colours:",g,q,k,a,b);k=this.h(h,Keywords.Xl+" <0.."+(h.g.rf-1)+">|name","set theme",g,q,k,a,b);k=this.h(h," name = "+Keywords.br,"set custom theme",
g,q,k,a,b);k=this.h(h,Keywords.Ra+" "+Keywords.Ax+" R G B","set theme background",g,q,k,a,b);k=this.h(h,Keywords.Ra+" "+Keywords.zx+" R G B","set theme alive color",g,q,k,a,b);k=this.h(h,Keywords.Ra+" "+Keywords.dD+" R G B","set theme alive ramp",g,q,k,a,b);k=this.h(h,Keywords.Ra+" "+Keywords.Cx+" R G B","set theme dead color",g,q,k,a,b);k=this.h(h,Keywords.Ra+" "+Keywords.Bx+" R G B","set theme dead ramp",g,q,k,a,b);k=this.h(h,Keywords.Ra+" "+Keywords.fD+" R G B","set theme dying color",g,q,k,a,
b);k=this.h(h,Keywords.Ra+" "+Keywords.eD+" R G B","set theme dying ramp",g,q,k,a,b);k=this.h(h,Keywords.Ra+" "+Keywords.xE+" R G B","set boundary color",g,q,k,a,b);k=this.h(h,Keywords.Ra+" <0.."+(-1===h.g.i?h.g.ta?"6":"1":String(h.g.i-1))+"> R G B","set state color",g,q,k,a,b);h.g.ta&&(k=this.h(h,Keywords.Ra+" "+Keywords.uG+" R G B","set [R]History state color "+ViewConstants.AM,g,q,k,a,b),k=this.h(h,Keywords.Ra+" "+Keywords.vG+" R G B","set [R]History state color "+ViewConstants.BM,g,q,k,a,b),k=
this.h(h,Keywords.Ra+" "+Keywords.CF+" R G B","set [R]History state color "+ViewConstants.EL,g,q,k,a,b),k=this.h(h,Keywords.Ra+" "+Keywords.RF+" R G B","set [R]History state color "+ViewConstants.SF,g,q,k,a,b),k=this.h(h,Keywords.Ra+" "+Keywords.VF+" R G B","set [R]History state color "+ViewConstants.WF,g,q,k,a,b),k=this.h(h,Keywords.Ra+" "+Keywords.TF+" R G B","set [R]History state color "+ViewConstants.UF,g,q,k,a,b),k=this.h(h,Keywords.Ra+" "+Keywords.JF+" R G B","set [R]History state color "+ViewConstants.KF,
g,q,k,a,b));h.g.L&&(k=this.h(h,Keywords.Ra+" N*E*S*W* R G B","set PCA state color",g,q,k,a,b));k=this.h(h,Keywords.Ra+" "+Keywords.zE+" R G B","set bounded color",g,q,k,a,b);k=this.h(h,Keywords.Ra+" "+Keywords.GH+" R G B","set select color",g,q,k,a,b);k=this.h(h,Keywords.Ra+" "+Keywords.zq+" R G B","set paste color",g,q,k,a,b);k=this.h(h,Keywords.Ra+" "+Keywords.pE+" R G B","set advance color",g,q,k,a,b);k=this.h(h,Keywords.Ra+" "+Keywords.Yr+" R G B","set grid color",g,q,k,a,b);k=this.h(h,Keywords.Ra+
" "+Keywords.Xr+" R G B","set grid major color",g,q,k,a,b);k=this.h(h,Keywords.Ra+" "+Keywords.At+" R G B","set star color",g,q,k,a,b);k=this.h(h,Keywords.Ra+" "+Keywords.bD+" R G B","set waypoint message color",g,q,k,a,b);k=this.h(h,Keywords.Ra+" "+Keywords.Oz+" R G B","set error message color",g,q,k,a,b);k=this.h(h,Keywords.Ra+" "+Keywords.sF+" R G B","set graph background color",g,q,k,a,b);k=this.h(h,Keywords.Ra+" "+Keywords.rF+" R G B","set graph axis color",g,q,k,a,b);k=this.h(h,Keywords.Ra+
" "+Keywords.qF+" R G B","set graph alive color",g,q,k,a,b);k=this.h(h,Keywords.Ra+" "+Keywords.tF+" R G B","set graph birth color",g,q,k,a,b);k=this.h(h,Keywords.Ra+" "+Keywords.uF+" R G B","set graph death color",g,q,k,a,b);k=this.h(h,Keywords.Ra+" "+Keywords.zs+" R G B","set label text color",g,q,k,a,b);k=this.h(h,Keywords.Ra+" "+Keywords.nr+" R G B","set arrow line color",g,q,k,a,b);k=this.h(h,Keywords.Ra+" "+Keywords.dH+" R G B","set polygon color",g,q,k,a,b);k=this.h(h,Keywords.Ra+" "+Keywords.$H+
" R G B","set UI foreground color",g,q,k,a,b);k=this.h(h,Keywords.Ra+" "+Keywords.YH+" R G B","set UI background color",g,q,k,a,b);k=this.h(h,Keywords.Ra+" "+Keywords.aI+" R G B","set UI highlight text color",g,q,k,a,b);k=this.h(h,Keywords.Ra+" "+Keywords.dI+" R G B","set UI selected color",g,q,k,a,b);k=this.h(h,Keywords.Ra+" "+Keywords.bI+" R G B","set UI locked color",g,q,k,a,b);k=this.h(h,Keywords.Ra+" "+Keywords.ZH+" R G B","set UI border color",g,q,k,a,b);k=this.h(h,Keywords.cz,"same as "+Keywords.Ra,
g,q,k,a,b);k=this.h(h,"","",g,q,k,a,b);h.ma[d]=[h.ea,"Pattern"];d+=1;k=this.h(h,"","Pattern:",g,q,k,a,b);k=this.h(h,Keywords.Qx+" <-"+(h.g.ga>>1)+".."+(h.g.ga>>1)+">","set pattern x offset",g,q,k,a,b);k=this.h(h,Keywords.Rx+" <-"+(h.g.ga>>1)+".."+(h.g.ga>>1)+">","set pattern y offset",g,q,k,a,b);k=this.h(h,Keywords.Dz+" <"+ViewConstants.hG+".."+ViewConstants.ZF+">","set boundary delete range",g,q,k,a,b);k=this.h(h,Keywords.$A,"disable pattern source copy",g,q,k,a,b);k=this.h(h,Keywords.fB,"hide pattern source",
g,q,k,a,b);k=this.h(h,Keywords.MA+" <"+ViewConstants.iG+".."+ViewConstants.aG+">","set maximum grid size 2^n",g,q,k,a,b);k=this.h(h,Keywords.Nq+" name X Y (<1..>)+","create a named recipe",g,q,k,a,b);k=this.h(h,Keywords.To+" name rle","create a named rle",g,q,k,a,b);k=this.h(h," (X Y) (TRANS)","... X Y and transformation",g,q,k,a,b);k=this.h(h," "+Keywords.FD,"identity",g,q,k,a,b);k=this.h(h," "+Keywords.CD,"flip",g,q,k,a,b);k=this.h(h," "+Keywords.DD,"flip X",g,q,k,a,b);k=this.h(h," "+Keywords.ED,
"flip Y",g,q,k,a,b);k=this.h(h," "+Keywords.ID,"swap X and Y",g,q,k,a,b);k=this.h(h," "+Keywords.JD,"swap X and Y and flip",g,q,k,a,b);k=this.h(h," "+Keywords.HD,"rotate clockwise",g,q,k,a,b);k=this.h(h," "+Keywords.GD,"rotate counter-clockwise",g,q,k,a,b);k=this.h(h,Keywords.zq+" name|rle (X Y)","paste rle at optional X Y",g,q,k,a,b);k=this.h(h," (TRANS)","... optional transformation",g,q,k,a,b);k=this.h(h,Keywords.Xs+" <0..>","set paste generation",g,q,k,a,b);k=this.h(h,"(recipe|<1..>+)*","... optional delta list",
g,q,k,a,b);k=this.h(h,Keywords.Xs+" "+Keywords.Rr+" <1..>","set paste interval",g,q,k,a,b);k=this.h(h," (<0..> (<1..>))","... optional start and end",g,q,k,a,b);k=this.h(h,Keywords.lB+" X Y","set position delta for "+Keywords.Xs+" "+Keywords.Rr,g,q,k,a,b);k=this.h(h,Keywords.BB+" <0..15>|mode","set paste mode",g,q,k,a,b);k=this.h(h," 0   0000  "+Keywords.HB,"",g,q,k,a,b);k=this.h(h," 1   0001  "+Keywords.tB,"",g,q,k,a,b);k=this.h(h," 2   0010  "+Keywords.oB,"",g,q,k,a,b);k=this.h(h," 3   0011  "+
Keywords.DB+"|"+Keywords.uB,"",g,q,k,a,b);k=this.h(h," 4   0100  "+Keywords.pB,"",g,q,k,a,b);k=this.h(h," 5   0101  "+Keywords.GB,"",g,q,k,a,b);k=this.h(h," 6   0110  "+Keywords.FB,"",g,q,k,a,b);k=this.h(h," 7   0111  "+Keywords.AB,"",g,q,k,a,b);k=this.h(h," 8   1000  "+Keywords.wB,"",g,q,k,a,b);k=this.h(h," 9   1001  "+Keywords.CB,"",g,q,k,a,b);k=this.h(h," 10  1010  "+Keywords.yB,"",g,q,k,a,b);k=this.h(h," 11  1011  "+Keywords.qB,"",g,q,k,a,b);k=this.h(h," 12  1100  "+Keywords.xB,"",g,q,k,a,b);
k=this.h(h," 13  1101  "+Keywords.rB,"",g,q,k,a,b);k=this.h(h," 14  1110  "+Keywords.vB,"",g,q,k,a,b);k=this.h(h," 15  1111  "+Keywords.zB,"",g,q,k,a,b);k=this.h(h,Keywords.vA,"suppress escaping gliders",g,q,k,a,b);k=this.h(h,"","",g,q,k,a,b);h.ma[d]=[h.ea,"Randomize"];k=this.h(h,"","Randomize:",g,q,k,a,b);k=this.h(h,Keywords.iC,"create random pattern",g,q,k,a,b);k=this.h(h,Keywords.fC+" <string>","set random seed",g,q,k,a,b);k=this.h(h,Keywords.hC+" <"+ViewConstants.mG+".."+ViewConstants.eG+">",
"set random pattern width",g,q,k,a,b);k=this.h(h,Keywords.cC+" <"+ViewConstants.lG+".."+ViewConstants.dG+">","set random pattern height",g,q,k,a,b);k=this.h(h,Keywords.bC+" <"+ViewConstants.tw+".."+ViewConstants.mw+">","set random pattern fill percentage",g,q,k,a,b);k=this.h(h,Keywords.Qw+" "+Keywords.Md,"keep rule fixed",g,q,k,a,b);h.g.la||h.g.L?(k=this.h(h,Keywords.dC,"only generate reversible rules",g,q,k,a,b),this.h(h,Keywords.gC,"only generate fixed population rules",g,q,k,a,b)):h.g.pa||-1!==
h.g.je||(k=this.h(h,Keywords.Qw+" <item> <0..100>","set percentage chance for <item>",g,q,k,a,b),k=this.h(h," "+Keywords.Mg,"all conditions",g,q,k,a,b),k=this.h(h," "+Keywords.Pw,"all birth conditions",g,q,k,a,b),k=this.h(h," "+Keywords.Ww,"all survival conditions",g,q,k,a,b),k=this.h(h," "+Keywords.Pw+"<0..n>","specified birth condition",g,q,k,a,b),this.h(h," "+Keywords.Ww+"<0..n>","specified survival condition",g,q,k,a,b))},sN:function(h,g,q,k,a,b){var d,f,l=Controller.Qd.length,n=h.Og,p=h.g.mb[h.g.Uf],
r=0,w=h.o.Ye;h.ea=1;h.eh=!1;h.ma=[];h.ba[0]=128;h.ba[4]=430;h.ma[r]=[h.ea,"Top"];r+=1;k=this.h(h,"","Information",g,q,k,a,b);k=this.h(h,"","",g,q,k,a,b);h.ma[r]=[h.ea,"Display"];r+=1;k=this.h(h,"","Display:",g,q,k,a,b);k=this.h(h,"Size",h.J+" x "+h.H,g,q,k,a,b);k=this.h(h,"Scale",h.o.Ye.toFixed(2),g,q,k,a,b);k=this.h(h,"Pixel Ratio",h.devicePixelRatio.toFixed(2),g,q,k,a,b);k=this.h(h,"Window Zoom",h.Of.toFixed(2),g,q,k,a,b);k=this.h(h,"Refresh",h.Ma+"Hz ("+((h.wo-h.Sz)/(ViewConstants.OA-1)).toFixed(1)+
"ms)",g,q,k,a,b);DocConfig.Fs&&(k=this.h(h,"Limit Width",h.Ik,g,q,k,a,b));var u=h.g.oa;1>u&&(u=-1/u);k=this.h(h,"View","X "+-(h.g.width/2-(h.g.Ca+h.g.cc)|0)+"  Y "+-(h.g.height/2-(h.g.va+h.g.Zb)|0)+"  Z "+u.toFixed(2)+"  ANGLE "+h.g.angle.toFixed(0),g,q,k,a,b);u=h.Tq;1>u&&(u=1/u);k=this.h(h,"Saved View","X "+-(h.g.width/2-h.tf|0)+"  Y "+-(h.g.height/2-h.Wj|0)+"  Z "+u.toFixed(2)+"  ANGLE "+h.yC.toFixed(0),g,q,k,a,b);k=this.h(h,"Origin","X "+h.g.cc.toFixed(2)+"  Y "+h.g.Zb.toFixed(2)+"  Z "+h.g.Bc.toFixed(3),
g,q,k,a,b);var y=h.Va?h.Bd?"Multi-State Viewer":"Viewer":h.g.ta?"History Player":"Player";y=h.Nd?y+" (PopUp)":y+" (InLine)";k=this.h(h,"Type",y,g,q,k,a,b);y=h.g.U?"Hexagonal":h.g.P?"Triangular":"Square";k=this.h(h,"Mode",y,g,q,k,a,b);y="Rectangular";h.g.U&&!h.g.sc?y="Hexagonal":h.g.P&&!h.g.sc&&(y="Triangular");k=this.h(h,"Cells",y,g,q,k,a,b);k=this.h(h,"Quality",h.g.wh?"High":"Standard",g,q,k,a,b);h.Yl&&(k=this.h(h,"Thumbnail","1/"+h.Ve,g,q,k,a,b));k=this.h(h,"","",g,q,k,a,b);h.ma[r]=[h.ea,"Pattern"];
r+=1;k=this.h(h,"","Pattern:",g,q,k,a,b);""!==h.Aq&&(k=this.h(h,"Name",h.Aq,g,q,k,a,b));""!==h.Zs&&(k=this.h(h,"Originator",h.Zs,g,q,k,a,b));k=this.h(h,"Actual Size",h.kb+" x "+h.qb,g,q,k,a,b);-1!==h.$k&&-1!==h.Zk&&(k=this.h(h,"Specified",h.$k+" x "+h.Zk,g,q,k,a,b));0<h.Xg.length&&(k=this.h(h,"Pastes",h.Xg.length,g,q,k,a,b),k=this.h(h,"Paste Size",h.cn-h.$m+1+" x "+(h.dn-h.Zm+1)+" from ("+h.$m+", "+h.Zm+") to ("+h.cn+", "+h.dn+")",g,q,k,a,b),k=this.h(h,"Paste Max T",h.Jk+(h.Gj?" + "+Keywords.Rr:""),
g,q,k,a,b));0<h.Sj.length&&(k=this.h(h,"RLEs",h.Sj.length,g,q,k,a,b));0<h.Rk.length&&(k=this.h(h,"Recipes",h.Rk.length,g,q,k,a,b));k=this.h(h,"Offset","X "+h.Qb+"  Y "+h.Rb,g,q,k,a,b);h.xl&&(k=this.h(h,"CXRLE Gen",h.Sg,g,q,k,a,b));h.vh&&(k=this.h(h,"CXRLE Pos","X "+h.jn+"  Y "+h.kn,g,q,k,a,b));h.dE&&(k=this.h(h,"Clipped",(0===h.g.Aa?"Inf":h.g.Aa)+" x "+(0===h.g.wa?"Inf":h.g.wa)+" "+h.C.yE(h.g.xa),g,q,k,a,b));h.Ha?y=h.Kb:(y=h.Kb,""===y&&(y="(none)"));if("MAP"===y.substr(0,3)&&y.length===h.C.QF+3)for(k=
this.h(h,"Rule","MAP",g,q,k,a,b),u=3;u<h.C.QF+3;)k=this.h(h,"  "+(u-3),y.substr(u,16),g,q,k,a,b),u+=16;else h.eh=!0,k=this.h(h,"Rule",y,g,q,k,a,b),h.eh=!1;""!==h.rd&&(k=this.h(h,"Alias",h.rd,g,q,k,a,b));h.g.fa&&(k=null===h.g.ge?this.h(h,"Type","@TREE ["+h.g.ji+"]",g,q,k,a,b):this.h(h,"Type","@TABLE ["+h.g.Zg+(0<h.g.Ll?" / "+h.g.Ll:"")+"]",g,q,k,a,b));if(h.g.la)y="Margolus";else if(-1!==h.g.je)y="1D";else if(h.g.Ew){y="Hexagonal";if(h.g.Ug===h.C.ds||h.g.pa&&h.g.za.type===h.C.ni)y="Tripod";h.g.pa&&
h.g.za.type===h.C.Th&&(y="Asterisk");1<h.g.za.gh&&(y+=" range "+h.g.za.gh)}else if(h.g.pa){switch(h.g.za.type){case h.C.ih:y="Corner/Edge";break;case h.C.be:y="Moore";break;case h.C.Nf:y="von Neumann";break;case h.C.xk:y="Circular";break;case h.C.vj:y="Cross";break;case h.C.Vj:y="Saltire";break;case h.C.Zj:y="Star";break;case h.C.Fk:y="L2";break;case h.C.Ki:y="Hexagonal";break;case h.C.tj:y="Checkerboard";break;case h.C.nj:y="Aligned Checkerboard";break;case h.C.Ej:y="Hash";break;case h.C.nm:y="Custom";
break;case h.C.ni:y="Tripod";break;case h.C.Th:y="Asterisk";break;case h.C.cj:y="Triangular";break;case h.C.Hi:y="Gaussian";break;case h.C.yp:y="Weighted"}h.g.za.type===h.C.ih?y+=" range "+h.g.za.Vf+"/"+h.g.za.Wf:1<h.g.za.gh&&(y+=" range "+h.g.za.gh)}else if(h.g.P)switch(y="Triangular",h.g.ie){case h.C.tp:y+=" Edges";break;case h.C.up:y+=" Vertices";break;case h.C.er:y+=" Inner";break;case h.C.fr:y+=" Outer"}else if(h.g.fa)if(null===h.g.ge)y=4===h.g.Dg?"von Neumann":"Moore";else switch(h.g.Uj){case PatternConstants.Sq:y=
"von Neumann";break;case PatternConstants.Pq:y="Moore";break;case PatternConstants.Ml:y="Hexagonal";break;case PatternConstants.Rq:y="1D";break;default:y="unknown"}else y=h.g.Ne||h.g.L?"von Neumann":h.g.Fa?"none":"Moore";k=this.h(h,"N'hood",y,g,q,k,a,b);if(h.g.pa)switch(h.g.za.type){case h.C.yp:u=2*h.g.za.gh+1;for(d=0;d<u;d+=1)y=h.g.za.Me.length>u*u?" "+h.g.za.Me.substr(d*u*2,2*u):" "+h.g.za.Me.substr(d*u,u),k=this.h(h,y,"",g,q,k,a,b);break;case h.C.nm:for(u=2*h.g.za.gh+1,d=0;d<u;d+=1){y=" ";for(f=
0;f<u;f+=1)y+=h.g.za.Ao[d][f]?"1":"0";k=this.h(h,y,"",g,q,k,a,b)}}y=h.fn;2<h.fn&&h.$s!==h.fn&&(y=h.$s+" of "+y);k=this.h(h,"States",y,g,q,k,a,b);if(h.Cq)for(d=1;d<h.fn;d+=1)h.Cq[d]&&(k=this.h(h,"State "+d,h.Cq[d]+"\t"+h.Vp(d),g,q,k,a,b));if(h.g.fe)if(h.ba[1]=200,h.ba[2]=280,h.ba[3]=360,h.ba[4]=440,h.g.fe[0].Wy!==PatternConstants.sC)k=this.h(h,"Icons",PatternConstants.RN[h.g.fe[0].Wy],g,q,k,a,b);else for(k=this.h(h,"Icons","Size\tNumber\tColours\tGrayScale",g,q,k,a,b),d=0;d<h.g.fe.length;d+=1)u=h.g.fe[d].width,
y=u+"x"+u+"\t"+h.g.fe[d].height/u+"\t"+h.g.fe[d].rG+"\t"+(h.g.fe[d].vF?"Yes":"No"),k=this.h(h,"  Set "+d,y,g,q,k,a,b);k=this.h(h,"Decoder",h.Nj,g,q,k,a,b);k=this.h(h,"","",g,q,k,a,b);h.ma[r]=[h.ea,"Identify"];r+=1;k=this.h(h,"","Identify:",g,q,k,a,b);k=this.h(h,"Enabled",h.Hb?"Yes":"No",g,q,k,a,b);"none"!==h.Ob&&"Empty"!==h.Ob&&(k=this.h(h,"Type",h.Ob,g,q,k,a,b),k=this.h(h,"Cells",h.gq,g,q,k,a,b),"Oscillator"!==h.Ob||h.sg||(k=this.h(h,"ActiveCells",h.dw,g,q,k,a,b)),k=this.h(h,"BoundingBox",h.As,g,
q,k,a,b),"Oscillator"===h.Ob?(k=this.h(h,"Period",h.jq,g,q,k,a,b),h.sg||(k=this.h(h,"Mod",h.iq,g,q,k,a,b))):"Still Life"!==h.Ob&&(k=this.h(h,"Direction",h.Bs,g,q,k,a,b),k=this.h(h,"Period",h.jq,g,q,k,a,b),h.sg||(k=this.h(h,"Mod",h.iq,g,q,k,a,b)),k=this.h(h,"Slope",h.Cs,g,q,k,a,b),k=this.h(h,"Speed",h.kq,g,q,k,a,b)),"Still Life"!==h.Ob&&(k=this.h(h,"Heat",h.hq,g,q,k,a,b)),"Oscillator"!==h.Ob||h.sg||(k=this.h(h,"Temperature",h.fw,g,q,k,a,b),k=this.h(h,"Volatility",h.Ds,g,q,k,a,b)),k=this.h(h,"Generation",
h.ew,g,q,k,a,b));k=this.h(h,"","",g,q,k,a,b);h.ma[r]=[h.ea,"Grid"];r+=1;k=this.h(h,"","Grid:",g,q,k,a,b);k=this.h(h,"Size",h.g.width+" x "+h.g.height,g,q,k,a,b);k=this.h(h,"Maximum",h.g.ga+" x "+h.g.ga,g,q,k,a,b);k=this.h(h,"Area",this.pJ(h),g,q,k,a,b);k=0!==(h.g.counter&1)?this.h(h,"Tiles",h.g.Zl(h.g.ra)+" ["+h.g.Zl(h.g.ze)+"] / "+h.g.Zl(h.g.La)+" / "+h.g.Zl(h.g.Da),g,q,k,a,b):this.h(h,"Tiles",h.g.Zl(h.g.ja)+" ["+h.g.Zl(h.g.ze)+"] / "+h.g.Zl(h.g.La)+" / "+h.g.Zl(h.g.Da),g,q,k,a,b);h.g.Hg&&(k=this.h(h,
"State6",h.g.Zl(h.g.Hg),g,q,k,a,b));k=this.h(h,"Tile Size",(h.g.ip<<3)+" x "+h.g.jp,g,q,k,a,b);k=this.h(h,"Generation",h.g.counter,g,q,k,a,b);0!==h.Sg&&(k=this.h(h,"AbsoluteGen",h.g.counter+h.Sg,g,q,k,a,b));h.g.la&&(k=this.h(h,"MargolusGen",h.g.af+h.Sg,g,q,k,a,b));h.g.L&&(k=this.h(h,"PCAGen",h.g.af+h.Sg,g,q,k,a,b));(h.g.la||h.g.L)&&h.g.Yc&&(u=h.g.td,h.g.ud&&(u=!u),k=this.h(h,"Direction",u?"Reverse":"Forward",g,q,k,a,b));k=this.h(h,"DeleteRange",h.g.qt,g,q,k,a,b);h.g.uj&&(k=this.h(h,"KillGliders",
h.g.Os,g,q,k,a,b));k=this.h(h,"","",g,q,k,a,b);-1!==h.g.xa&&(h.ma[r]=[h.ea,"Bounded"],r+=1,k=this.h(h,"","Bounded grid:",g,q,k,a,b),k=this.h(h,"Type",h.C.yE(h.g.xa),g,q,k,a,b),k=0===h.g.Aa?this.h(h,"Width","Infinite",g,q,k,a,b):this.h(h,"Width",h.g.Aa,g,q,k,a,b),4!==h.g.xa&&(k=0===h.g.wa?this.h(h,"Height","Infinite",g,q,k,a,b):this.h(h,"Height",h.g.wa,g,q,k,a,b),2===h.g.xa&&(k=h.g.Ou?this.h(h,"Twist","Horizontal",g,q,k,a,b):this.h(h,"Twist","Vertical",g,q,k,a,b)),0!==h.g.Sn&&(k=this.h(h,"H'Shift",
h.g.Sn,g,q,k,a,b)),0!==h.g.Tn&&(k=this.h(h,"V'Shift",h.g.Tn,g,q,k,a,b))),k=this.h(h,"","",g,q,k,a,b));h.ma[r]=[h.ea,"AutoFit"];r+=1;k=this.h(h,"","AutoFit:",g,q,k,a,b);k=this.h(h,"Enabled",h.Ec?"On":"Off",g,q,k,a,b);k=this.h(h,"Mode",this.wJ(h),g,q,k,a,b);k=this.h(h,"","",g,q,k,a,b);h.ma[r]=[h.ea,"Track"];r+=1;k=this.h(h,"","Track:",g,q,k,a,b);k=this.h(h,"Enabled",h.Ae&&!h.Mf?"On":"Off",g,q,k,a,b);h.Ae&&(h.op?(k=this.h(h,"Mode","Track Box",g,q,k,a,b),k=this.h(h,"Definition","E "+h.In.toFixed(3)+"  S "+
h.Jn.toFixed(3)+"  W "+h.qp.toFixed(3)+"  N "+h.pp.toFixed(3),g,q,k,a,b)):(k=this.h(h,"Mode","Track",g,q,k,a,b),k=this.h(h,"Definition","X "+h.In.toFixed(3)+"  Y "+h.Jn.toFixed(3),g,q,k,a,b)));k=this.h(h,"Current","E "+h.$u.toFixed(3)+"  S "+h.bv.toFixed(3)+"  W "+h.cv.toFixed(3)+"  N "+h.av.toFixed(3),g,q,k,a,b);k=this.h(h,"","",g,q,k,a,b);h.ma[r]=[h.ea,"Undo/Redo"];r+=1;k=this.h(h,"","Undo/Redo:",g,q,k,a,b);k=this.h(h,"Enabled",h.ce?"Off":"On",g,q,k,a,b);if(!h.ce)for(k=this.h(h,"Snapshots",h.g.bh.$O()+
"/"+h.g.bh.sj.length,g,q,k,a,b),k=this.h(h,"Buffer",(h.g.bh.bufferSize()>>10)+"K",g,q,k,a,b),k=this.h(h,"Next Gen",h.g.Bo,g,q,k,a,b),k=this.h(h,"Undo",h.zc,g,q,k,a,b),k=this.h(h,"Redo",h.Eo-h.zc,g,q,k,a,b),d=0;9>=d;d+=1)null!==h.$f[d]&&(k=this.h(h,"Clip "+d+(d===h.Pg?"*":""),h.$f[d].width+" x "+h.$f[d].height,g,q,k,a,b));k=this.h(h,"","",g,q,k,a,b);h.ma[r]=[h.ea,"Engine"];r+=1;k=this.h(h,"","Engine:",g,q,k,a,b);k=this.h(h,"Name",ViewConstants.Sr,g,q,k,a,b);k=this.h(h,"Build",ViewConstants.Mx,g,q,
k,a,b);k=this.h(h,"Author",ViewConstants.iI,g,q,k,a,b);k=this.h(h,"Decoders","RLE, Life 1.06, Life 1.05, Cells",g,q,k,a,b);k=this.h(h,"N'hoods","Moore, Hexagonal, von Neumann, Triangular, 1D,",g,q,k,a,b);k=this.h(h," ","Circular, Cross, L2, Saltire, Star, Checkerboard,",g,q,k,a,b);k=this.h(h," ","Aligned Checkerboard, Hash, Tripod, Asterisk,",g,q,k,a,b);k=this.h(h," ","Far Corners/Edges and Custom (CoordCA)",g,q,k,a,b);k=this.h(h,"Rules","Wolfram, Totalistic, Generations, Margolus,",g,q,k,a,b);k=
this.h(h," ","Isotropic Non-Totalistic (Hensel, Callahan),",g,q,k,a,b);k=this.h(h," ","Alternating, MAP, Larger than Life (LtL),",g,q,k,a,b);k=this.h(h," ","Higher-range outer-totalistic (HROT), Gaussian,",g,q,k,a,b);k=this.h(h," ","Partitioned cellular automata (PCA), Weighted,",g,q,k,a,b);k=this.h(h," ","[R]History and [R]Super",g,q,k,a,b);k=this.h(h,"Repository","RuleTable (@TABLE, @TREE, @COLORS and",g,q,k,a,b);k=this.h(h," ","@NAMES)",g,q,k,a,b);k=this.h(h,"BoundedGrid","Plane, Torus, Klein, Cross-surface and Sphere",
g,q,k,a,b);k=this.h(h,"Viewers",l,g,q,k,a,b);k=this.h(h,"Playing",Controller.jP(),g,q,k,a,b);if(DocConfig.Ya){u=Controller.Re.length;k=this.h(h,"Universe","Multi ("+(h.gd+1)+" of "+u+")",g,q,k,a,b);h.eh=!0;for(d=0;d<u;d+=1)k=this.h(h,String(d+1)+(d===h.gd?"*":""),Controller.Re[d].name,g,q,k,a,b),k=this.h(h," ",Controller.Re[d].LN,g,q,k,a,b),k=this.h(h," ",Controller.Re[d].width+" x "+Controller.Re[d].height,g,q,k,a,b);h.eh=!1}else k=this.h(h,"Universe","Single",g,q,k,a,b);k=this.h(h,"Exclusive",h.Dv?
"Yes":"No",g,q,k,a,b);k=this.h(h,"IgnorePause",h.os?"Yes":"No",g,q,k,a,b);k=this.h(h,"Endian",littleEndian?"Little":"Big",g,q,k,a,b);k=this.h(h,"ArrayFill",arrayFill?"Yes":"No",g,q,k,a,b);k=this.h(h,"ArraySlice",arraySlice?"Yes":"No",g,q,k,a,b);k=this.h(h,"CopyWithin",copyWithin?"Yes":"No",g,q,k,a,b);k=this.h(h,"","",g,q,k,a,b);h.ba[1]=300;h.ba[2]=380;h.ba[3]=460;h.ma[r]=[h.ea,"Rule Cache"];r+=1;k=this.h(h,"","Rule Cache:",g,q,k,a,b);k=this.h(h,"Entries",RuleTreeCache.rules.length,g,q,k,a,b);if(0<
RuleTreeCache.rules.length)for(k=this.h(h,"Entry","Name\tSize Kb\tFetch\tDecode",g,q,k,a,b),d=0;d<RuleTreeCache.rules.length;d+=1)y=RuleTreeCache.rules[d].name,17<y.length&&(y=y.substr(0,17)+"*"),k=this.h(h,String(d),y+"\t"+(RuleTreeCache.pw[d].size>>10)+"\t"+RuleTreeCache.pw[d].fetch+"ms\t"+RuleTreeCache.pw[d].decode+"ms",g,q,k,a,b);k=this.h(h,"","",g,q,k,a,b);h.ba[1]=210;h.ba[2]=270;h.ba[3]=330;if(h.g.Fa)for(h.ma[r]=[h.ea,"Colours"],r+=1,k=this.h(h,"","Set:",g,q,k,a,b),k=this.h(h,"Name",h.yr,g,
q,k,a,b),k=this.h(h,"Used",h.$s,g,q,k,a,b),d=0;d<h.$n.length;d+=1)h.$n[d]!==ViewConstants.UC&&(l=this.ic(n[d]>>16&255,n[d]>>8&255,n[d]&255),y=String(d),h.$n[d]!==ViewConstants.MH||h.Eu||(y+="*"),this.$a(h,n[d]>>16,n[d]>>8&255,n[d]&255,g,q+h.ba[0]*w,k,a,b),k=this.h(h,y,l,g,q,k,a,b));else{h.ma[r]=[h.ea,"Theme"];r+=1;k=this.h(h,"","Theme:",g,q,k,a,b);h.g.fa||h.g.V||(k=this.h(h,"Name",h.g.mb[h.g.Uf].name,g,q,k,a,b),k=this.h(h,"History",h.K,g,q,k,a,b),2>=h.g.i&&(k=this.h(h,"Age",h.zi,g,q,k,a,b)));this.$a(h,
h.g.Ta[0],h.g.Sa[0],h.g.Qa[0],g,q+h.ba[0]*w,k,a,b);k=this.h(h,"Background",this.ic(h.g.Ta[0],h.g.Sa[0],h.g.Qa[0]),g,q,k,a,b);if(h.g.Fa||h.g.fa)for(d=1;d<h.g.i;d+=1)this.$a(h,h.g.Ta[d],h.g.Sa[d],h.g.Qa[d],g,q+h.ba[0]*w,k,a,b),k=this.h(h,"State "+d,this.ic(h.g.Ta[d],h.g.Sa[d],h.g.Qa[d]),g,q,k,a,b);else if(h.g.L){for(d=1;16>d;d+=1)f=d+h.K,this.$a(h,h.g.Ta[f],h.g.Sa[f],h.g.Qa[f],g,q+h.ba[0]*w,k,a,b),y="",d&1&&(y+="N"),d&2&&(y+="E"),d&4&&(y+="S"),d&8&&(y+="W"),k=this.h(h,y,this.ic(h.g.Ta[f],h.g.Sa[f],
h.g.Qa[f]),g,q,k,a,b);0<h.K&&(f=h.K,this.$a(h,h.g.Ta[f],h.g.Sa[f],h.g.Qa[f],g,q+h.ba[0]*w,k,a,b),k=this.h(h,"Dead",this.ic(h.g.Ta[f],h.g.Sa[f],h.g.Qa[f]),g,q,k,a,b),1<h.K&&(f=1,this.$a(h,h.g.Ta[f],h.g.Sa[f],h.g.Qa[f],g,q+h.ba[0]*w,k,a,b),k=this.h(h,"DeadRamp",this.ic(h.g.Ta[f],h.g.Sa[f],h.g.Qa[f]),g,q,k,a,b)))}else if(2<h.g.i)if(h.g.V)for(d=1;d<h.g.i;d+=1)this.$a(h,h.g.Ta[d],h.g.Sa[d],h.g.Qa[d],g,q+h.ba[0]*w,k,a,b),k=this.h(h,this.AO(d),this.ic(h.g.Ta[d],h.g.Sa[d],h.g.Qa[d]),g,q,k,a,b);else{f=h.g.i+
h.K-1;this.$a(h,h.g.Ta[f],h.g.Sa[f],h.g.Qa[f],g,q+h.ba[0]*w,k,a,b);k=this.h(h,"Alive",this.ic(h.g.Ta[f],h.g.Sa[f],h.g.Qa[f]),g,q,k,a,b);for(d=1;d<h.g.i-1;d+=1)f=h.g.i-d+h.K-1,this.$a(h,h.g.Ta[f],h.g.Sa[f],h.g.Qa[f],g,q+h.ba[0]*w,k,a,b),k=this.h(h,"Dying "+d,this.ic(h.g.Ta[f],h.g.Sa[f],h.g.Qa[f]),g,q,k,a,b);0<h.K&&(f=h.K,this.$a(h,h.g.Ta[f],h.g.Sa[f],h.g.Qa[f],g,q+h.ba[0]*w,k,a,b),k=this.h(h,"Dead",this.ic(h.g.Ta[f],h.g.Sa[f],h.g.Qa[f]),g,q,k,a,b),1<h.K&&(f=1,this.$a(h,h.g.Ta[f],h.g.Sa[f],h.g.Qa[f],
g,q+h.ba[0]*w,k,a,b),k=this.h(h,"DeadRamp",this.ic(h.g.Ta[f],h.g.Sa[f],h.g.Qa[f]),g,q,k,a,b)))}else this.$a(h,p.Bb.aa.red,p.Bb.aa.green,p.Bb.aa.blue,g,q+h.ba[0]*w,k,a,b),k=this.h(h,"Alive",this.Bg(p.Bb.aa),g,q,k,a,b),p.Bb.aa.red!==p.Bb.ca.red||p.Bb.aa.green!==p.Bb.ca.green||p.Bb.aa.blue!==p.Bb.ca.blue?(this.$a(h,p.Bb.ca.red,p.Bb.ca.green,p.Bb.ca.blue,g,q+h.ba[0]*w,k,a,b),k=this.h(h,"AliveRamp",this.Bg(p.Bb.ca),g,q,k,a,b)):k=this.h(h,"AliveRamp","    (none)",g,q,k,a,b),0<h.K&&(this.$a(h,p.ob.ca.red,
p.ob.ca.green,p.ob.ca.blue,g,q+h.ba[0]*w,k,a,b),k=this.h(h,"Dead",this.Bg(p.ob.ca),g,q,k,a,b),1<h.K&&(p.ob.aa.red!==p.ob.ca.red||p.ob.aa.green!==p.ob.ca.green||p.ob.aa.blue!==p.ob.ca.blue?(this.$a(h,p.ob.aa.red,p.ob.aa.green,p.ob.aa.blue,g,q+h.ba[0]*w,k,a,b),k=this.h(h,"DeadRamp",this.Bg(p.ob.aa),g,q,k,a,b)):k=this.h(h,"DeadRamp","    (none)",g,q,k,a,b)));if(h.g.ta)for(d=3;6>=d;d+=1)u=128+ViewConstants.bb[d],l=this.ic(h.g.Ta[u],h.g.Sa[u],h.g.Qa[u]),y=ViewConstants.li[d],this.$a(h,h.g.Ta[u],h.g.Sa[u],
h.g.Qa[u],g,q+h.ba[0]*w,k,a,b),k=this.h(h,y,l,g,q,k,a,b)}-1!==h.g.tc&&(-1!==h.g.xa&&256>h.g.i+h.g.K?(this.$a(h,h.mm[0],h.mm[1],h.mm[2],g,q+h.ba[0]*w,k,a,b),k=this.h(h,"Bounded",this.ic(h.mm[0],h.mm[1],h.mm[2]),g,q,k,a,b)):(this.$a(h,h.g.Ta[2],h.g.Sa[2],h.g.Qa[2],g,q+h.ba[0]*w,k,a,b),k=this.h(h,"Bounded*",this.ic(h.g.Ta[2],h.g.Sa[2],h.g.Qa[2]),g,q,k,a,b)));this.$a(h,h.lm[0],h.lm[1],h.lm[2],g,q+h.ba[0]*w,k,a,b);k=this.h(h,"Boundary",this.ic(h.lm[0],h.lm[1],h.lm[2]),g,q,k,a,b);h.Yh?(this.$a(h,h.Yh[0],
h.Yh[1],h.Yh[2],g,q+h.ba[0]*w,k,a,b),k=this.h(h,"Text*",this.ic(h.Yh[0],h.Yh[1],h.Yh[2]),g,q,k,a,b)):(this.$a(h,255,255,255,g,q+h.ba[0]*w,k,a,b),k=this.h(h,"Text",this.ic(255,255,255),g,q,k,a,b));h.ql?(this.$a(h,h.ql[0],h.ql[1],h.ql[2],g,q+h.ba[0]*w,k,a,b),k=this.h(h,"Error*",this.ic(h.ql[0],h.ql[1],h.ql[2]),g,q,k,a,b)):(this.$a(h,255,96,96,g,q+h.ba[0]*w,k,a,b),k=this.h(h,"Error",this.ic(255,96,96),g,q,k,a,b));this.$a(h,h.pm[0],h.pm[1],h.pm[2],g,q+h.ba[0]*w,k,a,b);k=this.h(h,"Select",this.ic(h.pm[0],
h.pm[1],h.pm[2]),g,q,k,a,b);this.$a(h,h.om[0],h.om[1],h.om[2],g,q+h.ba[0]*w,k,a,b);k=this.h(h,"Paste",this.ic(h.om[0],h.om[1],h.om[2]),g,q,k,a,b);this.$a(h,h.km[0],h.km[1],h.km[2],g,q+h.ba[0]*w,k,a,b);k=this.h(h,"Advance",this.ic(h.km[0],h.km[1],h.km[2]),g,q,k,a,b);k=this.h(h,"","",g,q,k,a,b);h.ma[r]=[h.ea,"Gridlines"];r+=1;k=this.h(h,"","Gridlines:",g,q,k,a,b);y=h.g.qc?"On":"Off";h.g.qc&&!h.g.Uh()&&(y+=" (Hidden)");k=this.h(h,"Enabled",y,g,q,k,a,b);this.$a(h,h.g.Zd>>16,h.g.Zd>>8&255,h.g.Zd&255,g,
q+h.ba[0]*w,k,a,b);k=this.h(h,"Line Color",this.ic(h.g.Zd>>16,h.g.Zd>>8&255,h.g.Zd&255),g,q,k,a,b);this.$a(h,h.g.rg>>16,h.g.rg>>8&255,h.g.rg&255,g,q+h.ba[0]*w,k,a,b);k=this.h(h,"Major Color",this.ic(h.g.rg>>16,h.g.rg>>8&255,h.g.rg&255),g,q,k,a,b);y=0<h.g.Ef&&h.g.Bl?String(h.g.Ef):"Off";k=this.h(h,"Interval",y,g,q,k,a,b);k=this.h(h,"","",g,q,k,a,b);h.ma[r]=[h.ea,"Graph"];r+=1;k=this.h(h,"","Population Graph:",g,q,k,a,b);k=this.h(h,"Enabled",h.sd?"On":"Off",g,q,k,a,b);k=this.h(h,"Disabled",h.Ac?"On":
"Off",g,q,k,a,b);k=this.h(h,"Mode",h.uh?"Lines":"Points",g,q,k,a,b);k=this.h(h,"Opacity",h.Dd.toFixed(2),g,q,k,a,b);this.$a(h,h.g.Bj[0],h.g.Bj[1],h.g.Bj[2],g,q+h.ba[0]*w,k,a,b);k=this.h(h,"Bg Color",this.ic(h.g.Bj[0],h.g.Bj[1],h.g.Bj[2]),g,q,k,a,b);this.$a(h,h.g.Aj[0],h.g.Aj[1],h.g.Aj[2],g,q+h.ba[0]*w,k,a,b);k=this.h(h,"Axis Color",this.ic(h.g.Aj[0],h.g.Aj[1],h.g.Aj[2]),g,q,k,a,b);this.$a(h,h.g.zj[0],h.g.zj[1],h.g.zj[2],g,q+h.ba[0]*w,k,a,b);k=this.h(h,"Alive Color",this.ic(h.g.zj[0],h.g.zj[1],h.g.zj[2]),
g,q,k,a,b);this.$a(h,h.g.Cj[0],h.g.Cj[1],h.g.Cj[2],g,q+h.ba[0]*w,k,a,b);k=this.h(h,"Birth Color",this.ic(h.g.Cj[0],h.g.Cj[1],h.g.Cj[2]),g,q,k,a,b);this.$a(h,h.g.Dj[0],h.g.Dj[1],h.g.Dj[2],g,q+h.ba[0]*w,k,a,b);k=this.h(h,"Death Color",this.ic(h.g.Dj[0],h.g.Dj[1],h.g.Dj[2]),g,q,k,a,b);k=this.h(h,"","",g,q,k,a,b);h.ma[r]=[h.ea,"Randomize"];r+=1;k=this.h(h,"","Randomize:",g,q,k,a,b);k=this.h(h,"Pattern",h.$w?"On":"Off",g,q,k,a,b);k=this.h(h,"Custom Seed",h.eC?"On":"Off",g,q,k,a,b);k=this.h(h,"Seed",h.Xw,
g,q,k,a,b);k=this.h(h,"Width",h.Zw,g,q,k,a,b);k=this.h(h,"Height",h.Uw,g,q,k,a,b);k=this.h(h,"Fill",h.Sw+"%",g,q,k,a,b);k=this.h(h,"Rule Fixed",h.pt?"Yes":"No",g,q,k,a,b);if(!h.pt)if(h.g.la||h.g.L)k=this.h(h,"Reversible",h.Vw?"Only":"Any",g,q,k,a,b),k=this.h(h,"FixedPop",h.Yw?"Yes":"No",g,q,k,a,b);else if(!h.g.pa&&-1===h.g.je){if(-1===h.Il&&-1===h.mn){k=this.h(h,"Chance ALL"+(-1===h.Hl?"*":""),-1===h.Hl?"50%":h.Hl+"%",g,q,k,a,b);u=!1;for(d=0;d<h.ii.length;d+=2)0===h.ii[d]&&(u=!0);u||(k=this.h(h,"Chance B0*",
"25%",g,q,k,a,b))}else k=this.h(h,"Chance B"+(-1===h.Il?"*":""),-1===h.Il?"50%":h.Il+"%",g,q,k,a,b),k=this.h(h,"Chance S"+(-1===h.mn?"*":""),-1===h.mn?"50%":h.mn+"%",g,q,k,a,b);for(d=0;d<h.ii.length;d+=2)k=this.h(h,"Chance B"+h.ii[d],h.ii[d+1]+"%",g,q,k,a,b);for(d=0;d<h.Qj.length;d+=2)k=this.h(h,"Chance S"+h.Qj[d],h.Qj[d+1]+"%",g,q,k,a,b)}k=this.h(h,"","",g,q,k,a,b);h.ma[r]=[h.ea,"Stars"];r+=1;k=this.h(h,"","Stars:",g,q,k,a,b);k=this.h(h,"Enabled",h.Xi?"On":"Off",g,q,k,a,b);this.$a(h,h.Ul.red,h.Ul.green,
h.Ul.blue,g,q+h.ba[0]*w,k,a,b);k=this.h(h,"Color",this.Bg(h.Ul),g,q,k,a,b);k=this.h(h,"","",g,q,k,a,b);h.ma[r]=[h.ea,"Script"];r+=1;k=this.h(h,"","Script:",g,q,k,a,b);k=this.h(h,"Commands",h.Fo,g,q,k,a,b);k=this.h(h,"Errors",h.iB,g,q,k,a,b);if(h.Wc)for(k=this.h(h,"","",g,q,k,a,b),h.ma[r]=[h.ea,"Waypoints"],r+=1,k=this.h(h,"","Waypoints:",g,q,k,a,b),k=this.h(h,"Enabled",h.Xe?"Off":"On",g,q,k,a,b),k=this.h(h,"Number",h.X.Ua.length,g,q,k,a,b),d=0;d<h.X.Ua.length;d+=1)y=String(d),d===h.X.$i&&(y=h.X.vE(h.elapsedTime)?
y+">":y+"*"),k=this.h(h,y,h.X.kP(d),g,q,k,a,b);if(h.X.yc.length)for(k=this.h(h,"","",g,q,k,a,b),h.ma[r]=[h.ea,"POIs"],k=this.h(h,"","Points of interest:",g,q,k,a,b),k=this.h(h,"Number",h.X.yc.length,g,q,k,a,b),d=0;d<h.X.yc.length;d+=1)y=String(d+1),d===h.jh&&(y+="*"),d===h.ao&&(y+=" INITIAL"),u=!1,n=h.X.LM(d),""!==n&&(k=this.h(h,u?" ":y,(u?"  ":"")+n,g,q,k,a,b),u=!0),n=h.X.PM(d),""!==n&&(k=this.h(h,u?" ":y,(u?"  ":"")+n,g,q,k,a,b),u=!0),n=h.X.MM(d),""!==n&&(k=this.h(h,u?" ":y,(u?"  ":"")+n,g,q,k,
a,b),u=!0),n=h.X.ZG(d),""!==n&&(k=this.h(h,u?" ":y,(u?"  ":"")+n,g,q,k,a,b),u=!0),n=h.X.OM(d),""!==n&&(k=this.h(h,u?" ":y,(u?"  ":"")+n,g,q,k,a,b),u=!0),n=h.X.NM(d),""!==n&&(k=this.h(h,u?" ":y,(u?"  ":"")+n,g,q,k,a,b))},wN:function(h,g,q,k,a,b){var d,f=0,l=h.o.Ye;h.ea=1;h.eh=!1;h.ma=[];h.ba[0]=130;h.ba[1]=200;h.ba[2]=250;h.ba[3]=300;h.ba[4]=380;h.ma[f]=[h.ea,"Top"];f+=1;k=this.h(h,"","Themes",g,q,k,a,b);k=this.h(h,"","",g,q,k,a,b);k=this.h(h,"","Themes are used to provide a visual representation of",
g,q,k,a,b);k=this.h(h,"","cell history and longevity and also define grid colours",g,q,k,a,b);k=this.h(h,"","",g,q,k,a,b);h.ma[f]=[h.ea,"Grid"];f+=1;k=this.h(h,"","Grid:",g,q,k,a,b);k=this.h(h,"GRID","grid line colour",g,q,k,a,b);k=this.h(h,"GRIDMAJOR","major grid line colour and interval",g,q,k,a,b);k=this.h(h,"","",g,q,k,a,b);h.ma[f]=[h.ea,"2-State"];f+=1;k=this.h(h,"","Two-state Themes:",g,q,k,a,b);k=this.h(h,"BACKGROUND","cell never occupied",g,q,k,a,b);k=this.h(h,"ALIVE","cell just born",g,q,
k,a,b);k=this.h(h,"ALIVERAMP","cell alive for several generations",g,q,k,a,b);k=this.h(h,"DEAD","cell just died",g,q,k,a,b);k=this.h(h,"DEADRAMP","cell dead for several generations",g,q,k,a,b);k=this.h(h,"","",g,q,k,a,b);k=this.h(h,"",h.zi+" ("+Keywords.kr+") states from ALIVE to ALIVERAMP",g,q,k,a,b);k=this.h(h,"",h.K+" ("+Keywords.es+") states from DEAD to DEADRAMP",g,q,k,a,b);for(d=0;d<h.g.mb.length-1;d+=1){k=this.h(h,"","",g,q,k,a,b);var n=h.g.mb[d];k=this.h(h,"Name"+(d===h.g.Uf&&2>=h.g.i?"*":
""),n.name,g,q,k,a,b);this.$a(h,n.rb.red,n.rb.green,n.rb.blue,g,q+h.ba[0]*l,k,a,b);k=this.h(h,"BACKGROUND",this.Bg(n.rb),g,q,k,a,b);this.$a(h,n.Bb.aa.red,n.Bb.aa.green,n.Bb.aa.blue,g,q+h.ba[0]*l,k,a,b);k=this.h(h,"ALIVE",this.Bg(n.Bb.aa),g,q,k,a,b);if(n.Bb.aa.red!==n.Bb.ca.red||n.Bb.aa.green!==n.Bb.ca.green||n.Bb.aa.blue!==n.Bb.ca.blue)this.$a(h,n.Bb.ca.red,n.Bb.ca.green,n.Bb.ca.blue,g,q+h.ba[0]*l,k,a,b),k=this.h(h,"ALIVERAMP",this.Bg(n.Bb.ca),g,q,k,a,b);this.$a(h,n.ob.ca.red,n.ob.ca.green,n.ob.ca.blue,
g,q+h.ba[0]*l,k,a,b);k=this.h(h,"DEAD",this.Bg(n.ob.ca),g,q,k,a,b);if(n.ob.aa.red!==n.ob.ca.red||n.ob.aa.green!==n.ob.ca.green||n.ob.aa.blue!==n.ob.ca.blue)this.$a(h,n.ob.aa.red,n.ob.aa.green,n.ob.aa.blue,g,q+h.ba[0]*l,k,a,b),k=this.h(h,"DEADRAMP",this.Bg(n.ob.aa),g,q,k,a,b);n.Al&&(this.$a(h,n.ai>>16,n.ai>>8&255,n.ai&255,g,q+h.ba[0]*l,k,a,b),k=this.h(h,"GRID",this.ic(n.ai>>16,n.ai>>8&255,n.ai&255),g,q,k,a,b),this.$a(h,n.bi>>16,n.bi>>8&255,n.bi&255,g,q+h.ba[0]*l,k,a,b),k=this.h(h,"GRIDMAJOR",this.ic(n.bi>>
16,n.bi>>8&255,n.bi&255),g,q,k,a,b),k=this.h(h,"GRIDMAJOR",n.Am,g,q,k,a,b))}k=this.h(h,"","",g,q,k,a,b);h.ma[f]=[h.ea,"Multi"];k=this.h(h,"","Multi-state Themes:",g,q,k,a,b);k=this.h(h,"BACKGROUND","cell never occupied",g,q,k,a,b);k=this.h(h,"ALIVE","cell alive",g,q,k,a,b);k=this.h(h,"DYING","cell just starting dying",g,q,k,a,b);k=this.h(h,"DYINGRAMP","cell about to die",g,q,k,a,b);k=this.h(h,"DEAD","cell just died",g,q,k,a,b);k=this.h(h,"DEADRAMP","cell dead for several generations",g,q,k,a,b);k=
this.h(h,"","",g,q,k,a,b);k=this.h(h,"","Rule defines "+(2>h.g.i?"":String(h.g.i-1)+" ")+"states from DYING to DYINGRAMP",g,q,k,a,b);k=this.h(h,"",h.K+" (HISTORYSTATES) states from DEAD to DEADRAMP",g,q,k,a,b);for(d=0;d<h.g.mb.length-1;d+=1){k=this.h(h,"","",g,q,k,a,b);n=h.g.mb[d];k=this.h(h,"Name"+(d===h.g.Uf&&2<h.g.i?"*":""),n.name,g,q,k,a,b);this.$a(h,n.dj.red,n.dj.green,n.dj.blue,g,q+h.ba[0]*l,k,a,b);k=this.h(h,"BACKGROUND",this.Bg(n.dj),g,q,k,a,b);this.$a(h,n.Lg.red,n.Lg.green,n.Lg.blue,g,q+
h.ba[0]*l,k,a,b);k=this.h(h,"ALIVE",this.Bg(n.Lg),g,q,k,a,b);this.$a(h,n.fc.ca.red,n.fc.ca.green,n.fc.ca.blue,g,q+h.ba[0]*l,k,a,b);k=this.h(h,"DYING",this.Bg(n.fc.ca),g,q,k,a,b);if(n.fc.aa.red!==n.fc.ca.red||n.fc.aa.green!==n.fc.ca.green||n.fc.aa.blue!==n.fc.ca.blue)this.$a(h,n.fc.aa.red,n.fc.aa.green,n.fc.aa.blue,g,q+h.ba[0]*l,k,a,b),k=this.h(h,"DYINGRAMP",this.Bg(n.fc.aa),g,q,k,a,b);this.$a(h,n.Qc.ca.red,n.Qc.ca.green,n.Qc.ca.blue,g,q+h.ba[0]*l,k,a,b);k=this.h(h,"DEAD",this.Bg(n.Qc.ca),g,q,k,a,
b);if(n.Qc.aa.red!==n.Qc.ca.red||n.Qc.aa.green!==n.Qc.ca.green||n.Qc.aa.blue!==n.Qc.ca.blue)this.$a(h,n.Qc.aa.red,n.Qc.aa.green,n.Qc.aa.blue,g,q+h.ba[0]*l,k,a,b),k=this.h(h,"DEADRAMP",this.Bg(n.Qc.aa),g,q,k,a,b)}},oN:function(h,g,q,k,a,b){var d,f=ColourManager.Og,l=Object.keys(f),n=h.o.Ye;h.ea=1;h.eh=!1;h.ma=[];h.ba[0]=260;h.ba[1]=330;h.ba[2]=380;h.ba[3]=430;h.ba[4]=h.J;h.ma[0]=[h.ea,"Top"];k=this.h(h,"","Colours",g,q,k,a,b);k=this.h(h,"","",g,q,k,a,b);k=this.h(h,"","The following names can be used in place of R G B",
g,q,k,a,b);k=this.h(h,"","for example [[ COLOUR ALIVE Green ]]",g,q,k,a,b);k=this.h(h,"","",g,q,k,a,b);for(d=0;d<l.length;d+=1){var p=f[l[d]];this.$a(h,p[1],p[2],p[3],g,q+h.ba[0]*n,k,a,b);k=this.h(h,p[0],this.ic(p[1],p[2],p[3]),g,q,k,a,b)}},mN:function(h,g,q,k,a,b){var d,f=0,l=AliasManager.Oc,n=AliasManager.CC;h.ea=1;h.eh=!1;h.ma=[];h.ba[0]=260;h.ma[f]=[h.ea,"Top"];f+=1;k=this.h(h,"","Aliases",g,q,k,a,b);k=this.h(h,"","",g,q,k,a,b);k=this.h(h,"","Alias names can be used as rule names in RLE",g,q,
k,a,b);k=this.h(h,"","for example 'rule = HighLife'",g,q,k,a,b);k=this.h(h,"","",g,q,k,a,b);k=this.h(h,"","* denotes duplicate definition",g,q,k,a,b);k=this.h(h,"","+ denotes duplicate alias name",g,q,k,a,b);h.eh=!0;for(d=0;d<l.length;d+=1)""===l[d][1]?(k=this.h(h,"","",g,q,k,a,b),h.ma[f]=[h.ea,n[f-1]],f+=1,k=this.h(h,"",l[d][0]+" Aliases:",g,q,k,a,b)):""!==l[d][0]&&(k=this.h(h,l[d][0]+" "+(l[d][2]?"*":"")+(l[d][3]?"+":""),l[d][1],g,q,k,a,b))},uN:function(h,g,q,k,a,b){var d,f=0,l=Controller.Qd.length,
n=0,p=0,r=0,w=0,u;h.ea=1;h.eh=!1;h.ma=[];h.ba[0]=128;h.ba[1]=200;h.ba[2]=290;h.ba[3]=530;h.ma[f]=[h.ea,"Top"];f+=1;k=this.h(h,"","Memory usage",g,q,k,a,b);k=this.h(h,"","",g,q,k,a,b);if(1<l){h.ma[f]=[h.ea,"All"];f+=1;k=this.h(h,"","Memory (all "+l+" LifeViewers):",g,q,k,a,b);for(d=0;d<l;d+=1)if(u=Controller.cL(d))n+=u.g.A.Ns,r+=u.g.A.mp>>10,p+=u.g.A.Ps,w+=u.g.A.np>>10;k=this.h(h,"In Use",n-p+"\t"+((r>>10)-(w>>10))+"M",g,q,k,a,b);k=this.h(h,"Allocations",n+"\t"+(r>>10)+"M",g,q,k,a,b);k=this.h(h,"Frees",
p+"\t"+(w>>10)+"M",g,q,k,a,b);k=this.h(h,"","",g,q,k,a,b)}h.ma[f]=[h.ea,"Current"];k=this.h(h,"","Memory (this LifeViewer):",g,q,k,a,b);k=this.h(h,"In Use",h.g.A.Ns-h.g.A.Ps+"\t"+this.Py(h.g.A.mp-h.g.A.np)+"M\t"+(h.g.A.mp-h.g.A.np),g,q,k,a,b);k=this.h(h,"Allocations",h.g.A.Ns+"\t"+this.Py(h.g.A.mp)+"M\t"+h.g.A.mp,g,q,k,a,b);k=this.h(h,"Frees",h.g.A.Ps+"\t"+this.Py(h.g.A.np)+"M\t"+h.g.A.np,g,q,k,a,b);k=this.h(h,this.yG("Bytes",10),"Type\tElements\tName\tCount",g,q,k,a,b);for(d=0;d<h.g.A.Rh.length;d+=
1)k=this.h(h,this.yG(String(h.g.A.Rh[d].size),10),h.g.A.mJ(d),g,q,k,a,b);this.h(h,"","",g,q,k,a,b)},yv:function(h){var g=h.Jc,q=h.o.Ye,k=h.o.Ih,a=19*k;h.qd=(h.H/a|0)-6;g.fillStyle="black";g.globalAlpha=.5;g.fillRect(0,0,g.canvas.width,g.canvas.height);g.globalAlpha=1;g.fillStyle=ViewConstants.cs;this.Ol=2;v.nH(h,g,6*q,14*k,a,h.ha|0);g.fillStyle=ViewConstants.Zp;this.Ol=0;v.nH(h,g,6*q,14*k,a,h.ha|0)},pN:function(h,g,q,k,a,b,d,f,l,n){var p=f,r=h.o.Ye,w=this.Ol*r,u=this.Ol*h.o.Ye,y=0,z=!1,x=h.ea;b.fillStyle===
ViewConstants.cs&&(z=!0);x>=n&&x<=n+h.qd&&(b.font=h.Yp,z||(b.fillStyle=1<(h.pc|0)?h.yj:ViewConstants.Jv),b.fillText(g,d+w,f+u),z||(b.fillStyle=h.yj),b.fillText(q,d+w+b.measureText(g).width,f+u),z||(b.fillStyle=(h.pc|0)<h.Ed.length-h.qd+1?h.yj:ViewConstants.Jv),b.fillText(k,d+w+b.measureText(g+q).width,f+u),h.ba[0]&&(y=h.ba[0]*r),z||(b.fillStyle=h.yj),b.font=h.Dm,b.fillText(a,d+w+y,f+u),p+=l);return p},ex:function(h,g,q,k,a,b,d,f){var l=b,n=h.o.Ye,p=0,r=h.ea;r>=f&&r<=f+h.qd&&(g.length&&(k.font=h.Yp,
k.fillText(g,a,b),p=k.measureText(g+" ").width),h.ba[0]&&(p=h.ba[0]*n),k.font=h.Dm,k.fillText(q,a+p,b),l+=d);h.ea+=1;return l},mH:function(h,g,q,k,a,b){var d,f=h.Ed,l=k;h.ea=1;h.ba[0]=0;g.font=h.Dm;k=this.ex(h,"",ViewConstants.$N,g,q,k,a,b);for(d=0;d<f.length;d+=1)k=this.ex(h,f[d][0],f[d][1],g,q,k,a,b);h.wb||(h.ba[0]=120,h.ea=1,k=l+a*(h.qd+2),k=this.pN(h,"Up"," / ","Down","scroll errors",g,q,k,a,0),k=this.ex(h,"Esc","clear messages",g,q,k,a,0),this.ex(h,"H  ","help on script commands",g,q,k,a,0))},
Jz:function(h){var g=h.Jc,q=h.o.Ye,k=h.o.Ih,a=19*k,b=7;h.wb&&(b=1);h.qd=(h.H/a|0)-b;g.fillStyle="black";g.globalAlpha=.5;g.fillRect(0,0,g.canvas.width,g.canvas.height);g.globalAlpha=1;g.fillStyle=ViewConstants.cs;this.mH(h,g,6*q,14*k,a,h.pc|0);g.fillStyle=h.yj;this.mH(h,g,4*q,12*k,a,h.pc|0)}};window.Help=v}(),window.Keywords={Fd:'"',Xo:"[[",Uq:"]]",$B:"QUALITY",SH:"TIME",OB:"PLAYTIME",XC:"SUPPRESS",Hw:"POIT",mc:"INITIAL",Jb:"OFF",TC:"STATE1FIT",gt:"POIRESET",Gq:"POIPLAY",Hq:"POISTOP",ht:"POITRANS",
PB:"POIADDLABELS",Zz:"HARDRESET",Nt:"TRACK",rp:"TRACKBOX",Mt:"TRACKLOOP",dB:"NOREPORT",Iv:"GRAPH",Aw:"NOGRAPH",Wz:"GRAPHOPACITY",Xz:"GRAPHPOINTS",cB:"NOPERFWARNING",fA:"AUTOHIDEGUI",Mg:"ALL",di:"LINEAR",rj:"BEZIER",vP:"HEXDISPLAY",CP:"SQUAREDISPLAY",XH:"TRIANGULARCELLS",aA:"HEXCELLS",ux:"SQUARECELLS",Uy:"CELLBORDERS",GF:"INTEGERZOOM",iC:"RANDOMIZE",fC:"RANDSEED",hC:"RANDWIDTH",cC:"RANDHEIGHT",bC:"RANDFILL",dC:"RANDREVERSIBLE",gC:"RANDFIXEDPOP",Qw:"RANDCHANCE",Pw:"B",Ww:"S",Dz:"DELETERANGE",JC:"SHOWTIMING",
Qz:"EXTENDEDTIMING",HC:"SHOWGENSTATS",IC:"SHOWINFOBAR",fB:"NOSOURCE",Iw:"POI",cr:"TITLE",dH:"POLY",Jw:"POLYFILL",SB:"POLYLINE",QB:"POLYALPHA",TB:"POLYSIZE",UB:"POLYT",RB:"POLYANGLE",eH:"POLYZOOMRANGE",VB:"POLYTRACK",WB:"POLYVIEWDIST",nr:"ARROW",Iy:"ARROWALPHA",Ky:"ARROWSIZE",Ly:"ARROWT",Jy:"ARROWANGLE",Oy:"ARROWZOOMRANGE",My:"ARROWTRACK",Ny:"ARROWVIEWDIST",zs:"LABEL",wA:"LABELALPHA",yA:"LABELSIZE",zA:"LABELT",xA:"LABELANGLE",CA:"LABELZOOMRANGE",AA:"LABELTRACK",BA:"LABELVIEWDIST",Md:"FIXED",MA:"MAXGRIDSIZE",
At:"STARS",br:"CUSTOM",Qx:"XOFFSET",Rx:"YOFFSET",Ax:"BACKGROUND",zx:"ALIVE",dD:"ALIVERAMP",Cx:"DEAD",Bx:"DEADRAMP",fD:"DYING",eD:"DYINGRAMP",$H:"UIFOREGROUND",IP:"UIFOREGROUNDA",YH:"UIBACKGROUND",GP:"UIBACKGROUNDA",aI:"UIHIGHLIGHT",JP:"UIHIGHTLIGHTA",dI:"UISELECT",LP:"UISELECTA",bI:"UILOCKED",KP:"UILOCKEDA",ZH:"UIBORDER",HP:"UIBORDERA",xE:"BOUNDARY",zE:"BOUNDED",GH:"SELECT",pE:"ADVANCE",Lu:"AUTOFIT",gA:"HISTORYFIT",es:"HISTORYSTATES",kr:"AGESTATES",ep:"STEP",bB:"NOSTEPBACK",Dt:"T",KB:"PAUSE",Yr:"GRID",
Xr:"GRIDMAJOR",bD:"TEXT",Oz:"ERROR",uG:"OFF",vG:"ON",CF:"HISTORY",RF:"MARK1",VF:"MARKOFF",TF:"MARK2",JF:"KILL",sF:"GRAPHBG",rF:"GRAPHAXIS",qF:"GRAPHALIVE",tF:"GRAPHBIRTH",uF:"GRAPHDEATH",Ra:"COLOR",cz:"COLOUR",Gn:"TILT",Ut:"VIEWONLY",aB:"NOGUI",$A:"NOCOPY",pD:"THUMBNAIL",kD:"THUMBSIZE",iD:"THUMBLAUNCH",mD:"THUMBSTART",Pz:"EXCLUSIVEPLAY",lA:"IGNOREEXCLUSIVE",Xl:"THEME",kH:"RAINBOW",RC:"STARTFROM",Mu:"AUTOSTART",Hj:"LOOP",ak:"STOP",em:"ANGLE",yo:"LAYERS",co:"DEPTH",mo:"GPS",le:"ZOOM",Fy:"Z",Pf:"X",
Rf:"Y",hr:"WIDTH",Xp:"HEIGHT",jt:"POPUPWIDTH",it:"POPUPHEIGHT",oD:"THUMBZOOM",gB:"NOTHROTTLE",pC:"REVERSESTART",vA:"KILLGLIDERS",Nq:"RECIPE",To:"RLE",zq:"PASTE",Xs:"PASTET",lB:"PASTEDELTA",Rr:"EVERY",BB:"PASTEMODE",HB:"ZERO",tB:"AND",oB:"0010",DB:"X",pB:"DIFF",GB:"Y",FB:"XOR",AB:"OR",wB:"NOR",CB:"XNOR",yB:"NOTY",qB:"1011",xB:"NOTX",rB:"1101",vB:"NAND",zB:"ONE",uB:"COPY",FD:"IDENTITY",CD:"FLIP",DD:"FLIPX",ED:"FLIPY",ID:"SWAPXY",JD:"SWAPXYFLIP",HD:"RCW",GD:"RCCW",Be:"#"},function(){window.KeyProcessor=
{$M:function(v,h,g){var q=!0;if(g.ctrlKey&&82===h)return!0;switch(h){case 13:v.al===v.gp&&v.JE(v,!0);break;case 84:v.Mn([!v.j.Yk],!0,v);break;default:q=!1}return q},aN:function(v,h,g){var q=!0;if(g.ctrlKey||g.metaKey||g.altKey)h=-1;switch(h){case 84:v.Mn([!v.j.Yk],!0,v);break;case 27:v.Bt(v,!0);break;default:q=!1}return q},cN:function(v,h,g){var q=!0;if(g.ctrlKey||g.metaKey||g.altKey)h=-1;switch(h){case 84:v.Mn([!v.j.Yk],!0,v);break;case 27:case 117:v.Zv(v);break;default:q=!1}return q},Hn:function(v,
h){v.Ek==ViewConstants.ri?v.zh(h,v):v.Ek==h&&v.zh(ViewConstants.ri,v)},bN:function(v,h,g){var q=!0;if(g.ctrlKey||g.metaKey||g.altKey)h=-1;switch(h){case 84:v.Mn([!v.j.Yk],!0,v);break;default:q=!1}return q},ZM:function(v,h,g){var q=!0,k=0;if(v.Zc)!v.zw&&85===h&&g.shiftKey&&(v.Zc=!v.Zc,v.o.m=v.Zc,v.j.Zc=v.Zc);else{g.ctrlKey&&!g.altKey&&37<=h&&40>=h&&(37===h?h=33:38===h?h=36:39===h?h=34:40===h&&(h=35));if(g.altKey&&!g.ctrlKey){if(48<=h&&57>=h)k=h-48,v.ah||0===v.X.yc.length?v.Pg===k?v.od?v.JB(v):v.WG(v):
v.xr.current=v.nI(k,!0,v):(--k,0<=k&&k<v.X.yc.length&&(v.jh=k,v.FC(v,v.jh)));else switch(h){case 37:v.bn(v,-1,0);break;case 38:v.bn(v,0,-1);break;case 39:v.bn(v,1,0);break;case 40:v.bn(v,0,1);break;case 46:v.$y(v,!0,!0);v.j.notification.notify("Cleared [R]History marked cells",15,120,15,!0);break;case 65:v.Pn.current=v.UD([!v.qk],!0,v);v.j.notification.notify("Auto-Shrink Selection "+(v.qk?"On":"Off"),15,40,15,!0);break;case 66:v.Ep.current=v.mI([!v.g.kd],!0,v);break;case 67:v.Bd||!v.aj||v.aj.locked||
(v.qn(v.sv,v.g.im,v),v.g.Fa||v.Xk||v.j.notification.notify(v.Dx(v.g.Uf)+" Theme",15,40,15,!0));break;case 68:v.g.la&&(v.Nn.current=v.jI([!v.g.cm],!0,v),v.j.notification.notify("Alternating Gridlines "+(v.g.cm?"On":"Off"),15,40,15,!0));break;case 71:v.g.ta||-1===v.g.i?v.OJ(v):v.g.V?v.j.notification.notify("Rule is already [R]Super",15,120,15,!0):v.j.notification.notify("Unsupported rule for [R]Super",15,120,15,!0);break;case 72:-1===v.g.i||v.g.V?v.MJ(v):v.g.ta?v.j.notification.notify("Rule is already [R]History",
15,120,15,!0):v.j.notification.notify("Unsupported rule for [R]History",15,120,15,!0);break;case 74:v.g.ta||v.g.V?v.NJ(v):-1===v.g.i?v.j.notification.notify("Rule is already [R]Standard",15,120,15,!0):v.j.notification.notify("Unsupported rule for [R]Standard",15,120,15,!0);break;case 75:v.pd.current!==ViewConstants.Qm&&(v.pd.current=v.el(ViewConstants.Qm,!0,v));v.ft=!0;v.hi.current=v.dl([!0],!0,v);break;case 76:0<v.X.Do()&&(v.Km.current=v.rI([!v.Wi],!0,v),v.j.notification.notify("Annotations "+(v.Wi?
"On":"Off"),15,40,15,!0));break;case 78:v.pG(v);break;case 79:v.Af&&(v.Ng=!v.Ng,v.Qn.current=[v.Ng],v.j.notification.notify("AutoStart "+(v.Ng?"Off":"On"),15,40,15,!0));break;case 80:-1!==v.jc&&(v.xf=!v.xf,v.Dn.current=[v.xf],v.j.notification.notify("Stop "+(v.xf?"Off":"On"),15,40,15,!0));break;case 82:v.DE(v);break;case 83:v.Jp.current=v.VD([!v.Wh],!0,v);v.j.notification.notify("Sync Clipboard "+(v.Wh?"On":"Off"),15,40,15,!0);break;case 84:v.Fn.current=v.tD([!v.gm],!0,v);v.j.notification.notify("Throttling "+
(v.gm?"On":"Off"),15,40,15,!0);break;case 85:v.Dp.current=v.lI([!v.Li],!0,v);v.j.notification.notify("AutoHide UI "+(v.Li?"On":"Off"),15,80,15,!0);break;case 87:2<v.g.i||v.g.pa||v.g.L||v.g.ta||v.g.V||v.g.fa||v.g.la||(v.Jq.current=v.uI([!v.g.de],!0,v));break;case 88:v.lF(v);break;case 89:v.mF(v);break;case 90:v.Lq.locked||v.ot(v,!1)}h=-2}switch(h){case 191:g.shiftKey?v.g.U?(v.Fj.current=v.XD([!v.g.sc],!0,v),v.j.notification.notify("Hexagonal display uses "+(v.g.sc?"Rectangles":"Hexagons"),15,120,15,
!0)):v.g.P&&(v.Fj.current=v.XD([!v.g.sc],!0,v),v.j.notification.notify("Triangular display uses "+(v.g.sc?"Rectangles":"Triangles"),15,120,15,!0)):v.We.locked||(k=v.We.current[0],k-=.1,k<ViewConstants.uw&&(k=ViewConstants.uw),v.We.current=v.Vt([k,k],!0,v));break;case 192:v.We.locked||(k=v.We.current[0],k+=.1,k>ViewConstants.nw&&(k=ViewConstants.nw),v.We.current=v.Vt([k,k],!0,v));break;case 8:0!==v.ha?v.Ek!==ViewConstants.ri?v.zh(ViewConstants.ri,v):(v.ha=0,v.Dk.current=v.kp([v.ha],!0,v),v.j.hg=!0):
v.Uc.current[0]?(v.rr(v),v.j.hg=!0):v.Va||v.Eb.Zf[1]||(k=v.tb,v.tb=1,v.Eb.current=v.Gd(ViewConstants.qq,!0,v),v.tb=k);break;case 66:g.ctrlKey?v.SJ(v):g.shiftKey?(v.El.current=[!v.El.current[0]],v.j.hg=!0):v.Va||v.Eb.Zf[1]||(k=v.tb,v.tb=1,v.Eb.current=v.Gd(ViewConstants.qq,!0,v),v.tb=k);break;case 13:v.od||v.Ld?v.EM(v):v.Va||(v.Eb.current===ViewConstants.Kk?v.Eb.current=v.Gd(ViewConstants.Kk,!0,v):v.se&&v.j.Tc||(v.Eb.current=v.Gd(ViewConstants.Kk,!0,v)));break;case 9:v.Va||(v.cb?v.Eb.current=v.Gd(ViewConstants.Qe,
!0,v):g.shiftKey?(v.g.la||v.g.L)&&null!==v.g.Yc?v.Eb.current=v.Gd(ViewConstants.qq,!0,v):0<v.g.counter&&(v.st(v.g.counter-v.tb),v.px(v.g.counter-v.tb+1)):(v.Si=!0,v.nb("")));break;case 32:v.Va||(v.cb?v.Eb.current=v.Gd(ViewConstants.Qe,!0,v):g.ctrlKey||g.shiftKey?v.KK(v,g.shiftKey):(v.Si=!0,v.KC=!0,v.nb("")));break;case 87:g.shiftKey?(v.sn.current=v.qD([!v.Oj],!0,v),v.j.notification.notify("Performance Warning "+(v.Oj?"On":"Off"),15,40,15,!0)):v.Ae?v.Gh.current=v.uD([v.Mf],!0,v):v.Wc&&(v.Gh.current=
v.uD([v.Xe],!0,v));break;case 68:g.ctrlKey&&(v.$q.current=v.sD([!v.tn],!0,v),v.j.notification.notify("States Display "+(v.tn?"On":"Off"),15,80,15,!0));break;case 90:g.ctrlKey?(g.altKey&&(v.Lq.locked||v.ot(v,!0)),g.shiftKey?v.kC(v):v.ek.locked||v.MD(v)):g.shiftKey?(k=Controller.zO(),0===k?v.j.notification.notify("No LifeViewers playing",15,100,15,!0):1<k&&v.j.notification.notify("Paused all LifeViewers",15,100,15,!0)):(k=Controller.QH(v),0<k&&(1<k?v.j.notification.notify("Paused "+k+" other LifeViewers",
15,100,15,!0):v.j.notification.notify("Paused "+k+" other LifeViewer",15,100,15,!0)));break;case 88:g.ctrlKey?v.jH(v,g.shiftKey,g.altKey):g.shiftKey?(v.Hk.current=v.sI([!v.g.Bl],!0,v),0<v.g.Ef&&(v.j.notification.notify("Major Grid Lines "+(v.g.Bl?"On":"Off"),15,40,15,!0),v.GE())):(v.g.qc=!v.g.qc,v.Ji.current=v.dr([v.g.qc],!0,v),v.j.notification.notify("Grid Lines "+(v.g.qc?"On":"Off"),15,40,15,!0));break;case 89:0!==v.ha?this.Hn(v,ViewConstants.QA):g.ctrlKey?v.kC(v):v.Ac?v.j.notification.notify("Graph Disabled",
15,40,15,!0):g.shiftKey?(v.uh=!v.uh,v.lq.current=v.UH([v.uh],!0,v),v.j.notification.notify("Graph "+(v.uh?"Lines":"Points"),15,40,15,!0)):(v.sd=!v.sd,v.zm.current=v.WD([v.sd],!0,v),v.j.notification.notify("Population Graph "+(v.sd?"On":"Off"),15,40,15,!0));break;case 75:0!==v.ha?this.Hn(v,ViewConstants.uA):g.ctrlKey?g.altKey?(v.$y(v,!1,!1),k=v.ef,2<v.g.i&&!(v.g.Fa||v.g.L||v.g.fa||v.g.V)&&0<k&&(k=v.g.i-k),v.g.fa?v.j.notification.notify("Cleared state "+k+" cells",15,120,15,!0):v.j.notification.notify("Cleared "+
v.Vp(k)+" cells",15,120,15,!0)):v.dx(v):g.shiftKey?(v.KE(v,!0),v.j.notification.notify("Copied view to clipboard",15,180,15,!0)):(v.KE(v,!1),v.j.notification.notify("Copied position to clipboard",15,180,15,!0));break;case 80:g.ctrlKey?(v.at.current=v.WH([!v.Dq],!0,v),v.j.notification.notify("Pause while drawing "+(v.Dq?"On":"Off"),15,80,15,!0)):g.shiftKey?-1!==v.jb&&(v.Xc=!v.Xc,v.Nm.current=[v.Xc],v.j.notification.notify("Loop "+(v.Xc?"Off":"On"),15,40,15,!0)):v.Bd||v.md.locked||(v.md.current=.99>=
v.md.current[0]?v.$l([v.md.current[0]+.01,v.md.current[1]],!0,v):v.$l([1,v.md.current[1]],!0,v));break;case 76:g.ctrlKey?(v.g.uj=!v.g.uj,v.j.notification.notify("Kill Gliders "+(v.g.uj?"On":"Off"),15,40,15,!0)):g.shiftKey?v.gK(v):v.Bd||v.md.locked||(v.md.current=.01<=v.md.current[0]?v.$l([v.md.current[0]-.01,v.md.current[1]],!0,v):v.$l([0,v.md.current[1]],!0,v));break;case 81:g.ctrlKey?(v.nt.current=v.tI([!v.g.wh],!0,v),v.j.notification.notify((v.g.wh?"High":"Standard")+" Quality Rendering",15,80,
15,!0)):!v.Bd&&!v.ue.locked&&v.ue.current[0]<ViewConstants.kw&&(v.ue.current=v.Tt([v.g.$+1,v.ue.current[1]],!0,v));break;case 65:0!==v.ha?this.Hn(v,ViewConstants.Ey):g.shiftKey?v.ub&&v.pr(v):g.ctrlKey?v.pd.Zf[ViewConstants.Sm]||v.DH(v):!v.Bd&&!v.ue.locked&&v.ue.current[0]>ViewConstants.rw&&(v.ue.current=v.Tt([v.g.$-1,v.ue.current[1]],!0,v));break;case 82:g.shiftKey?Controller.zN():v.Eb.current=v.Gd(ViewConstants.YA,!0,v);break;case 83:0!==v.ha?this.Hn(v,ViewConstants.BC):g.ctrlKey?(v.xC(v),v.j.notification.notify("Saved",
15,120,15,!0)):g.shiftKey?v.g.ta&&(v.Yi=!v.Yi,v.j.notification.notify("AutoFit State 1 Mode "+(v.Yi?"On":"Off"),15,40,15,!0)):(v.Xq.current=v.xI([!v.Xi],!0,v),v.j.notification.notify("Stars "+(v.Xi?"On":"Off"),15,40,15,!0));break;case 78:0!==v.ha?0<v.X.Do()&&this.Hn(v,ViewConstants.Hy):g.shiftKey?v.pF(v):v.Yl&&(v.wb?v.YC():(v.ZC(),v.ha&&(v.ha=0)));break;case 86:g.ctrlKey?v.Ow(v,g.shiftKey):g.shiftKey?(v.AH(v),v.j.notification.notify("Saved camera position",15,100,15,!0)):v.Kd||(v.EN(v),v.j.notification.notify("Restored camera position",
15,100,15,!0),v.cb||(v.tg=!0));break;case 221:v.Kd||(g.shiftKey?v.jr(v.Cc.current[0],Math.log(v.g.zoom*v.g.Bc*2/ViewConstants.Xa)/Math.log(ViewConstants.Ib/ViewConstants.Xa)-v.Cc.current[0]):v.jr(v.Cc.current[0],.01));break;case 219:v.Kd||(g.shiftKey?v.jr(v.Cc.current[0],Math.log(v.g.zoom*v.g.Bc/2/ViewConstants.Xa)/Math.log(ViewConstants.Ib/ViewConstants.Xa)-v.Cc.current[0]):v.jr(v.Cc.current[0],-.01));break;case 53:case 101:g.ctrlKey?g.shiftKey?v.g.L||v.Rw(v,!0):v.bk(5):g.shiftKey?v.Rw(v,!1):v.Xd.locked||
(v.g.angle=0,v.Xd.current=[v.g.angle,v.g.angle]);break;case 49:case 97:g.ctrlKey?v.bk(1):g.shiftKey?(v.Ci(v,v.g.zoom*v.g.Bc,!0),v.j.notification.notify("Integer Zoom",15,40,15,!0)):v.Ci(v,1,!1);break;case 50:case 98:g.ctrlKey?v.bk(2):g.shiftKey?v.Ci(v,.5,!1):v.Ci(v,2,!1);break;case 51:case 99:g.ctrlKey?v.bk(3):g.shiftKey?v.Ci(v,.03125,!1):v.Ci(v,32,!1);break;case 52:case 100:g.ctrlKey?v.bk(4):g.shiftKey?v.Ci(v,.25,!1):v.Ci(v,4,!1);break;case 54:case 102:g.ctrlKey?v.bk(6):g.shiftKey?v.Ci(v,.0625,!1):
v.Ci(v,16,!1);break;case 55:g.ctrlKey?v.bk(7):v.Ac?v.j.notification.notify("Graph Disabled",15,40,15,!0):(0<v.Dd&&(v.Dd-=.05,0>v.Dd&&(v.Dd=0)),v.uq.current=v.Nx([v.Dd,v.Dd],!1,v));break;case 56:case 104:g.ctrlKey?v.bk(8):g.shiftKey?v.Ci(v,.125,!1):v.Ci(v,8,!1);break;case 57:g.ctrlKey?v.bk(9):v.Ac?v.j.notification.notify("Graph Disabled",15,40,15,!0):(1>v.Dd&&(v.Dd+=.05,1<v.Dd&&(v.Dd=1)),v.uq.current=v.Nx([v.Dd,v.Dd],!1,v));break;case 48:case 96:g.ctrlKey?v.bk(0):v.Ue.current=v.fk([1,1],!0,v);break;
case 189:case 109:g.ctrlKey&&189==h?q=!1:v.Va||(v.tb>ViewConstants.fi?g.shiftKey?v.tb=ViewConstants.fi:(--v.tb,v.tb<ViewConstants.fi&&(v.tb=ViewConstants.fi)):v.lc>ViewConstants.Qi&&(g.shiftKey?v.lc=ViewConstants.Qi:(--v.lc,v.lc<ViewConstants.Qi&&(v.lc=ViewConstants.Qi))),v.Ue.current=v.fk([v.Tl(),1],!0,v));break;case 187:case 107:g.ctrlKey&&187==h?q=!1:v.Va||(v.lc<v.Ma?g.shiftKey?v.lc=v.Ma:(v.lc+=1,v.lc>v.Ma&&(v.lc=v.Ma)):v.tb<ViewConstants.ug&&(g.shiftKey?v.tb=ViewConstants.ug:(v.tb+=1,v.tb>ViewConstants.ug&&
(v.tb=ViewConstants.ug))),v.Ue.current=v.fk([v.Tl(),1],!0,v));break;case 188:g.shiftKey&&(v.ub||v.od)?v.uH(v):v.Xd.locked||(k=v.Xd.current[0],k=g.shiftKey?k-90:k-1,0>k&&(k+=360),v.Xd.current=v.St([k,k],!0,v));break;case 190:g.shiftKey&&(v.ub||v.od)?v.vH(v):v.Xd.locked||(k=v.Xd.current[0],k=g.shiftKey?k+90:k+1,360<=k&&(k-=360),v.Xd.current=v.St([k,k],!0,v));break;case 46:v.ub?g.shiftKey?v.HE(v):v.Gz(v,g.ctrlKey):g.ctrlKey&&(k=v.$y(v,g.ctrlKey,!1))&&v.j.notification.notify("Cleared [R]History cells",
15,120,15,!0);break;case 74:g.ctrlKey&&!g.shiftKey?v.LE(v):g.ctrlKey&&g.shiftKey?q=!1:v.X.yc.length?v.Kd||(g.shiftKey?v.gH(v):v.qG(v)):v.j.notification.notify("No POIs defined",15,80,15,!0);break;case 84:0!==v.ha?this.Hn(v,ViewConstants.hD):g.shiftKey?v.j.rn=!v.j.rn:v.Up.current=v.Mn([!v.j.Yk],!0,v);break;case 85:g.shiftKey?!v.zw&&(v.Zc=!v.Zc,v.o.m=v.Zc,v.j.Zc=v.Zc)&&(v.ha=0,v.pc=0):(v.g.la||v.g.L)&&v.g.Yc&&v.Fz(v);break;case 71:g.ctrlKey?(v.Ai=!v.Ai,v.Cp.current=v.kI([v.Ai],!0,v),v.j.notification.notify("Auto Grid Lines "+
(v.Ai?"On":"Off"),15,40,15,!0)):v.Va||(g.shiftKey?v.xl&&(v.Oq.current=v.wI([!v.zl],!0,v),v.j.notification.notify("Generation display "+(v.zl?"Relative":"Absolute"),15,40,15,!0)):(v.Ox([!v.Ch],!0,v),v.jf&&(v.jf.current=[v.Ch],v.j.hg=!0)));break;case 70:g.ctrlKey?v.ub&&(v.Rg(!0,!0,ViewConstants.Gv),v.j.notification.notify("Fit Selection",15,80,15,!0)):g.shiftKey?v.pj.locked||(v.Ec=!v.Ec,v.pj.current=v.TH([v.Ec],!0,v),v.j.notification.notify("AutoFit "+(v.Ec?"On":"Off"),15,40,15,!0)):v.wm.locked||(v.Rg(!0,
!0,ViewConstants.Ck),v.j.notification.notify("Fit Pattern",15,80,15,!0),v.cb||(v.tg=!0));break;case 79:g.ctrlKey?g.shiftKey?navigator.clipboard.readText().then(a=>v.aM(v,a)):v.OF(v):v.Wo=g.shiftKey?2:1;break;case 37:g.shiftKey?v.Um(v.g.zoom,v.g.zoom):v.Um(v.g.zoom,0);break;case 38:v.ha?v.nx(v,1):v.pc?v.lx(v,1):g.shiftKey?v.Um(-v.g.zoom,v.g.zoom):v.Um(0,v.g.zoom);break;case 39:g.shiftKey?v.Um(-v.g.zoom,-v.g.zoom):v.Um(-v.g.zoom,0);break;case 40:v.ha?v.mx(v,1):v.pc?v.kx(v,1):g.shiftKey?v.Um(v.g.zoom,
-v.g.zoom):v.Um(0,-v.g.zoom);break;case 77:g.ctrlKey?(v.Rg(!0,!0,ViewConstants.iF),v.j.notification.notify("Center Pattern",15,80,15,!0)):g.shiftKey?v.hK(v):v.Uc&&!v.Uc.m&&(v.Uc.current=v.lp([!v.Uc.current[0]],!0,v),v.j.hg=!0);break;case 67:g.ctrlKey?v.iH(v,g.shiftKey,g.altKey):0!==v.ha?this.Hn(v,ViewConstants.dz):v.Bd||!v.aj||v.aj.locked||(g.shiftKey?(k=v.g.Uf-1,0>k&&(v.Zh?k=v.g.rf:k=v.g.rf-1)):(k=v.g.Uf+1,v.Zh?k>=v.g.rf+1&&(k=0):k>=v.g.rf&&(k=0)),v.qn(k,v.g.im,v),v.g.Fa||v.Xk||v.j.notification.notify(v.Dx(v.g.Uf)+
" Theme",15,40,15,!0));break;case 72:g.shiftKey?(v.aq.current=v.pI([!v.Mi],!0,v),v.j.notification.notify("AutoFit History Mode "+(v.Mi?"On":"Off"),15,40,15,!0)):(v.Ed.length?v.ha=v.ha?0:1:v.ha?v.ha=0:v.wb||(v.ha=1),v.Dk.current=v.kp([v.ha],!0,v),v.j.hg=!0);break;case 73:g.ctrlKey&&g.shiftKey?q=!1:g.ctrlKey?v.HF(v):g.shiftKey?v.cq.current=v.qI([!v.nd],!0,v):(v.ha?this.Hn(v,ViewConstants.aw):v.wb||v.zh(ViewConstants.aw,v),v.Dk.current=v.kp([v.ha],!0,v),v.j.hg=!0);break;case 27:v.Nd?v.Ed.length?(v.Ed=
[],v.pc=0):v.od||v.Ld?v.Pu(v):v.Nk?v.hi.current=v.dl([!1],!0,v):v.Ui?v.iA(v):-1!==v.Gg?v.Bt(v,!0):hideViewer():v.ha?v.ha=0:v.Ed.length?(v.Ed=[],v.pc=0):v.od||v.Ld?v.Pu(v):v.Nk?v.hi.current=v.dl([!1],!0,v):v.Ui?v.iA(v):-1!==v.Gg?v.Bt(v,!0):v.cb&&(v.Eb.current=v.Gd(ViewConstants.Qe,!0,v));v.Dk.current=v.kp([v.ha],!0,v);v.j.hg=!0;break;case 33:v.ha?g.shiftKey?v.WM(v):v.nx(v,v.qd):v.pc?v.lx(v,v.qd):DocConfig.Ya&&(--v.gd,0>v.gd&&(v.gd=Controller.Re.length-1),v.ki(Controller.Re[v.gd].pattern,!1));break;
case 34:v.ha?g.shiftKey?v.vM(v):v.mx(v,v.qd):v.pc?v.kx(v,v.qd):DocConfig.Ya&&(v.gd+=1,v.gd>=Controller.Re.length&&(v.gd=0),v.ki(Controller.Re[v.gd].pattern,!1));break;case 36:v.ha?v.ha=1:v.pc?v.pc=1:DocConfig.Ya&&(v.gd=0,v.ki(Controller.Re[v.gd].pattern,!1));break;case 35:v.ha?v.ha=v.sq-v.qd:v.pc?v.pc=v.Ed.length-v.qd:DocConfig.Ya&&(v.gd=Controller.Re.length-1,v.ki(Controller.Re[v.gd].pattern,!1));break;case 112:v.Va||(v.se=!v.se,v.pd.current=v.el(v.se?ViewConstants.Qm:ViewConstants.Rm,!0,v),v.j.notification.notify((v.se?
"Draw":"Pan")+" Mode",15,40,15,!0));break;case 113:g.shiftKey?(v.Wq.current=v.rD([!v.$o],!0,v),v.j.notification.notify("Smart Drawing "+(v.$o?"On":"Off"),15,40,15,!0)):v.pd.current=v.el(ViewConstants.Qm,!0,v);break;case 114:v.Va||(v.pd.current=v.el(ViewConstants.Qm,!0,v),v.Nk||(v.hi.current=v.dl([!0],!0,v)));break;case 115:v.pd.Zf[ViewConstants.Sm]||(v.pd.current=v.el(ViewConstants.Sm,!0,v));break;case 116:v.pd.current=v.el(ViewConstants.Rm,!0,v);break;case 117:v.bq.locked||(g.ctrlKey?v.gF(v):v.Zv(v));
break;case 122:q=!1;break;default:if(-1===h||116===h)q=!1}}return q}}}());
